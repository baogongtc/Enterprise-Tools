(function(z){
var tn=function(a){a=a.tabIndex;return z.qa(a)&&0<=a&&32768>a};var un=function(a){a=a.getAttributeNode("tabindex");return null!=a&&a.specified};var vn=function(a,b){return z.qb(a.OC||[],function(a){return b===a||z.mf(a,b)})};var wn=function(a){if(a.Qj)throw Error("Can not change this state of the popup while showing.");};var xn=function(a){return a.pj.length?a.pj.pop():a.tn()};var yn=function(a){try{return a&&a.activeElement}catch(b){}return null};var zn=function(a){return un(a)&&tn(a)};
var An=function(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};z.Y=function(a,b){return z.aa[a]=b};
z.Bn=function(a,b,c){var d=z.Ym;d.ga.g(d,"update",function g(){a.getBoundingClientRect().bottom<this.size.height&&(b.call(c),this.ga.qa(this,"update",g))})};var Cn=function(a,b){var c=b.getBoundingClientRect();return c.bottom<a.BM||c.bottom>a.size.height?!1:!0};var Dn=function(a){z.wk?z.V.enable(a.input,"placeholder-hilight",!1):z.V.enable(a.label,"placeholder-label-hilight",!1)};z.En=function(a){var b=z.X;b.nH?(b.nH.innerHTML=a,z.P(b.h,!0)):z.W.message(a)};
var Fn=function(a,b){b&&b.length&&z.w(b,function(a){this.dispatchEvent(new z.Yj(a[0],a[1]))},a)};z.Gn=function(a,b){z.F.call(this);this.ga=new z.yd(this);this.nh(a||null);b&&(this.Vb=b)};z.Hn=function(a,b){return a.he.get(b)};var In=function(a,b){return a.Pc&&b?z.mb(a.Pc,b):-1};var Jn=function(a,b){a.Pa&&a.Pa.We&&(z.Lb(a.Pa.We,a.kb),z.Mb(a.Pa.We,b,a));a.kb=b};var Kn=function(a){return new z.qg(a.top,a.left+a.width,a.top+a.height,a.left)};var Ln=function(a){return"CSS1Compat"==a.Ia.compatMode};
z.Mn=function(a){if(a.ea)return An(a.ea.responseText)};var Nn=function(a){z.Ud(a);for(var b={},c=0;c<a.Ya.length;c++){var d=a.Ya[c];b[d]=a.Hb[d]}return b};var On=function(a){return a};var Pn=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^(0,z.G)()).toString(36)};var Qn=function(a){a=a?z.Ke(a):window.document;return!z.B||9<=z.Ug||Ln(z.H(a))?a.documentElement:a.body};
z.Rn=function(a){var b=z.Ke(a),c=new z.He(0,0),d=Qn(b);if(a==d)return c;a=z.Cg(a);b=z.wf(z.H(b));c.x=a.left+b.x;c.y=a.top+b.y;return c};var Sn=function(a,b){for(var c=b;c=c.previousSibling;)if(c==a)return-1;return 1};z.Tn=function(a,b){for(var c in a)if(a[c]==b)return!0;return!1};z.Un=function(a){var b=0,c;for(c in a)b++;return b};z.Vn=function(a,b,c){return Array.prototype.every.call(a,b,c)};
var Wn=function(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"\x26";case "lt":return"\x3c";case "gt":return"\x3e";case "quot":return'"';default:if("#"==c.charAt(0)){var d=Number("0"+c.substr(1));if(!(0,window.isNaN)(d))return String.fromCharCode(d)}return a}})};
var Xn=function(a){var b={"\x26amp;":"\x26","\x26lt;":"\x3c","\x26gt;":"\x3e","\x26quot;":'"'},c;c=z.r.document.createElement("div");return a.replace(Yn,function(a,f){var g=b[a];if(g)return g;if("#"==f.charAt(0)){var h=Number("0"+f.substr(1));(0,window.isNaN)(h)||(g=String.fromCharCode(h))}g||(c.innerHTML=a+" ",g=c.firstChild.nodeValue.slice(0,-1));return b[a]=g})};
z.Zn=function(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||(z.C||z.Hc)&&0==a)return!0;switch(a){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}};z.$n=function(a){return new z.Ie(a.offsetWidth,a.offsetHeight)};
var ao=function(a){if(z.B&&!(8<=z.Ug))return a.offsetParent;var b=z.Ke(a),c=z.yg(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(11==a.nodeType&&a.host&&(a=a.host),c=z.yg(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null};
var bo=function(a,b,c,d){if(null!=a)for(a=a.firstChild;a;){if(b(a)&&(c.push(a),d)||bo(a,b,c,d))return!0;a=a.nextSibling}return!1};var co=function(a,b){var c=a.parentNode;if(c==b)return-1;for(var d=b;d.parentNode!=c;)d=d.parentNode;return Sn(d,a)};var eo=function(a,b){return new z.He(a.x-b.x,a.y-b.y)};var fo=function(a){this.Zt=a};
var go=function(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(z.na(b)){a.serializeArray(b,c);return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");var d="",f;for(f in b)if(Object.prototype.hasOwnProperty.call(b,f)){var g=b[f];"function"!=typeof g&&(c.push(d),ho(f,c),c.push(":"),go(a,a.Zt?a.Zt.call(b,f,g):g,c),d=",")}c.push("}");return}}switch(typeof b){case "string":ho(b,c);break;case "number":c.push((0,window.isFinite)(b)&&!(0,window.isNaN)(b)?
String(b):"null");break;case "boolean":c.push(String(b));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof b);}}};var ho=function(a,b){b.push('"',a.replace(z.Ql,function(a){var b=io[a];b||(b="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),io[a]=b);return b}),'"')};var jo=function(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+z.ua(a):b.substr(0,1)+a};
var ko=function(a,b){if("function"==typeof a.every)return a.every(b,void 0);if(z.oa(a)||z.pa(a))return z.Vn(a,b,void 0);for(var c=z.Ld(a),d=z.Kd(a),f=d.length,g=0;g<f;g++)if(!b.call(void 0,d[g],c&&c[g],a))return!1;return!0};var lo=function(a){return a.qb&&"function"==typeof a.qb?a.qb():z.oa(a)||z.pa(a)?a.length:z.Un(a)};var mo=function(a){return z.Xa(a,"\x26")?"document"in z.r?Xn(a):Wn(a):a};
var no=function(a,b,c,d,f){if(!(z.B||z.Hc||z.C&&z.D("525")))return!0;if(z.Vc&&f)return z.Zn(a);if(f&&!d)return!1;z.qa(b)&&(b=z.kj(b));if(!c&&(17==b||18==b||z.Vc&&91==b))return!1;if((z.C||z.Hc)&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(z.B&&d&&b==a)return!1;switch(a){case 13:return!0;case 27:return!(z.C||z.Hc)}return z.Zn(a)};
var oo=function(a){if(a.altKey&&!a.ctrlKey||a.metaKey||112<=a.keyCode&&123>=a.keyCode)return!1;switch(a.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!z.A;default:return 166>a.keyCode||183<a.keyCode}};z.po=function(a,b,c){c?z.gj(a,b):z.ij(a,b)};var qo=function(a){return z.dj(a,"label")};
var ro=function(a,b){var c="";b&&(c=b.id);z.bj(a,"activedescendant",c)};z.so=function(a,b,c){var d=a.m?a.m():a;z.Eb(b,function(a,b){d.setAttribute("data-za-"+b,a)});(0,window.$.data)(d,"zaRespondMoudleFn",c)};
var to=function(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}throw Error("Invalid component state");};
z.uo=function(a,b,c){c=c?null:a.getElementsByTagName("*");if(z.cm){if(b=b?"none":"",a.style&&(a.style[z.cm]=b),c){a=0;for(var d;d=c[a];a++)d.style&&(d.style[z.cm]=b)}}else if(z.B||z.vg)if(b=b?"on":"",a.setAttribute("unselectable",b),c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)};z.vo=function(a){var b=z.Rn(a);a=z.Ig(a);return new z.rg(b.x,b.y,a.width,a.height)};z.wo=function(a,b,c){var d=z.Rn(a);b instanceof z.He&&(c=b.y,b=b.x);z.Ag(a,a.offsetLeft+(b-d.x),a.offsetTop+(c-d.y))};
var xo=function(a,b){var c=b||z.Re(window.document),d;d=c||z.Re(window.document);var f=z.Rn(a),g=z.Rn(d),h=z.Tg(d);if(d==z.Re(window.document)){var k=f.x-d.scrollLeft,f=f.y-d.scrollTop;!z.B||10<=z.Ug||(k+=h.left,f+=h.top)}else k=f.x-g.x-h.left,f=f.y-g.y-h.top;var h=d.clientHeight-a.offsetHeight,g=d.scrollLeft,m=d.scrollTop,g=g+Math.min(k,Math.max(k-(d.clientWidth-a.offsetWidth),0)),m=m+Math.min(f,Math.max(f-h,0));d=new z.He(g,m);c.scrollLeft=d.x;c.scrollTop=d.y};
var yo=function(a){for(var b=new z.qg(0,window.Infinity,window.Infinity,0),c=z.H(a),d=c.ua().body,f=c.ua().documentElement,g=z.Re(c.Ia);a=ao(a);)if(!(z.B&&0==a.clientWidth||z.C&&0==a.clientHeight&&a==d)&&a!=d&&a!=f&&"visible"!=z.yg(a,"overflow")){var h=z.Rn(a),k=new z.He(a.clientLeft,a.clientTop);h.x+=k.x;h.y+=k.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x)}d=g.scrollLeft;g=g.scrollTop;b.left=Math.max(b.left,
d);b.top=Math.max(b.top,g);c=z.Pe(c.Ta());b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,g+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:null};var zo=function(a){var b=a.body;a=a.documentElement;return new z.He(b.scrollLeft||a.scrollLeft,b.scrollTop||a.scrollTop)};var Ao=function(a,b){var c=a.style[z.eb(b)];return"undefined"!==typeof c?c:a.style[z.tg(a,b)]||""};
var Bo=function(a,b){var c=b.x<a.left?b.x-a.left:b.x>a.right?b.x-a.right:0,d=b.y<a.top?b.y-a.top:b.y>a.bottom?b.y-a.bottom:0;return Math.sqrt(c*c+d*d)};z.Co=function(a,b){return z.uf(a,null,b,void 0)};z.Do=function(a){var b=[];z.rf(a,b,!1);return b.join("")};z.Eo=function(a,b){var c=[];bo(a,b,c,!1);return c};z.Fo=function(a){if("outerHTML"in a)return a.outerHTML;var b=z.Ke(a).createElement("DIV");b.appendChild(a.cloneNode(!0));return b.innerHTML};
z.Go=function(a){var b,c=arguments.length;if(!c)return null;if(1==c)return arguments[0];var d=[],f=window.Infinity;for(b=0;b<c;b++){for(var g=[],h=arguments[b];h;)g.unshift(h),h=h.parentNode;d.push(g);f=Math.min(f,g.length)}g=null;for(b=0;b<f;b++){for(var h=d[0][b],k=1;k<c;k++)if(h!=d[k][b])return g;g=h}return g};
var Ho=function(a,b){if(a==b)return 0;if(a.compareDocumentPosition)return a.compareDocumentPosition(b)&2?1:-1;if(z.B&&!(9<=z.Ug)){if(9==a.nodeType)return-1;if(9==b.nodeType)return 1}if("sourceIndex"in a||a.parentNode&&"sourceIndex"in a.parentNode){var c=1==a.nodeType,d=1==b.nodeType;if(c&&d)return a.sourceIndex-b.sourceIndex;var f=a.parentNode,g=b.parentNode;return f==g?Sn(a,b):!c&&z.mf(f,b)?-1*co(a,b):!d&&z.mf(g,a)?co(b,a):(c?a.sourceIndex:f.sourceIndex)-(d?b.sourceIndex:g.sourceIndex)}d=z.Ke(a);
c=d.createRange();c.selectNode(a);c.collapse(!0);d=d.createRange();d.selectNode(b);d.collapse(!0);return c.compareBoundaryPoints(z.r.Range.START_TO_END,d)};z.Io=function(a){return z.ka(a.previousElementSibling)?a.previousElementSibling:z.jf(a.previousSibling,!1)};z.Jo=function(a){return z.ka(a.nextElementSibling)?a.nextElementSibling:z.jf(a.nextSibling,!0)};z.Ko=function(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)};
z.Lo=function(a,b){var c=b||window.document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):z.Me(window.document,"*",a,b)};z.Mo=function(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1};z.No=function(a,b,c){a=[a,"\x26",b];null!=c&&a.push("\x3d",(0,window.encodeURIComponent)(String(c)));a[1]&&(c=a[0],b=c.indexOf("#"),0<=b&&(a.push(c.substr(b)),a[0]=c=c.substr(0,b)),b=c.indexOf("?"),0>b?a[1]="?":b==c.length-1&&(a[1]=void 0));return a.join("")};
var Oo=function(a,b){return(new fo(b)).serialize(a)};var Po=function(a){return eval("("+a+")")};var Qo=function(a){this.Hb=new z.Sd;a&&this.addAll(a)};var Ro=function(a,b){var c=lo(b);if(a.qb()>c)return!1;!(b instanceof Qo)&&5<c&&(b=new Qo(b));return ko(a,function(a){var c=b;return c.contains&&"function"==typeof c.contains?c.contains(a):c.Ph&&"function"==typeof c.Ph?c.Ph(a):z.oa(c)||z.pa(c)?z.y(c,a):z.Tn(c,a)})};var So=function(a){try{return z.Od(a).next()}catch(b){if(b!=z.Pd)throw b;return null}};
z.To=function(a,b){var c=z.Od(a),d=new z.Nd;d.next=function(){for(;;){var a=c.next();if(b.call(void 0,a,void 0,c))return a}};return d};var Uo=function(a,b,c){return Math.min(Math.max(a,b),c)};z.Vo=function(a){var b={},c;for(c in a)b[a[c]]=c;return b};var Wo=function(a,b){var c={},d;for(d in a)c[d]=b.call(void 0,a[d],d,a);return c};
var Xo=function(a){for(var b=[],c=0;c<arguments.length;c++){var d=arguments[c];if(z.na(d))for(var f=0;f<d.length;f+=8192)for(var g=z.zb(d,f,f+8192),g=Xo.apply(null,g),h=0;h<g.length;h++)b.push(g[h]);else b.push(d)}return b};z.Yo=function(a,b){for(var c=z.pa(a)?a.split(""):a,d=a.length-1;0<=d;d--)if(d in c&&b.call(void 0,c[d],d,a))return d;return-1};var Zo=function(a,b){var c=0;z.w(a,function(a,f,g){b.call(void 0,a,f,g)&&++c},void 0);return c};
z.$o=function(a){return function(){return!a.apply(this,arguments)}};z.ap=function(a){var b=arguments,c=b.length;return function(){for(var a=0;a<c;a++)if(!b[a].apply(this,arguments))return!1;return!0}};z.bp=function(a){var b=arguments,c=b.length;return function(){for(var a,f=0;f<c;f++)a=b[f].apply(this,arguments);return a}};z.cp=function(a,b){var c=arguments,d=c.length;return function(){var a;d&&(a=c[d-1].apply(this,arguments));for(var b=d-2;0<=b;b--)a=c[b].call(this,a);return a}};
var dp=function(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}};z.ep=function(){return"goog_"+z.Cl++};z.fp=function(a){return a.replace(/[\s\xa0]+$/,"")};z.gp=function(a){return a.replace(/^[\s\xa0]+/,"")};var hp=function(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};z.ip=function(a){return a.replace(/(\r\n|\r|\n)+/g," ")};z.jp=function(a){return!/[^\t\n\r ]/.test(a)};z.kp=function(a){return/^[\s\xa0]*$/.test(a)};
z.lp=function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c};var mp=function(){throw Error("unimplemented abstract method");};z.Z=function(a){z.ee.call(this);this.eK=!!a;this.headers.set("X-Requested-With","XMLHttpRequest");this.on("complete",this.FO,!1,this)};z.np=function(a,b,c,d){var f=new z.Z;if(b)f.on("complete",b);f.ajax(a,d,c)};var op=function(a,b){pp.push({uK:a,filter:b})};
var qp=function(a){var b=a.getResponseHeader("content-type");if(b){var c=rp[b.split(";")[0].toLowerCase()];if(c&&pp.length){var d=z.ue(a);z.w(pp,function(a){"*"!==a.uK&&a.uK!==c||a.filter("json"===c?JSON.parse(d):d,this)},a)}}};var sp=function(){if(tp)return tp;var a=z.N("div",{id:"zh-global-spinner",style:"display:none",innerHTML:"加载中…"});window.document.body.appendChild(a);return tp=a};var up=function(){z.F.call(this)};
z.vp=function(a,b,c){function d(){var b=new z.Z(!0),d="/question/"+(a?"set_anonymous":"set_public"),g="qid\x3d"+(c||z.R.pa);b.on("success",function(){var c=z.Mn(b);c&&!c.r&&(z.R&&(z.R.lb=a),f.dispatchEvent(new z.wp(a)))});b.ajax(d,g)}var f=z.xp,g={title:"确认使用匿名身份？",content:'\x3cp\x3e使用匿名身份后\x3c/p\x3e\x3cul style\x3d"margin: 5px 0 0 5px;list-style-position: inside;"\x3e\x3cli\x3e提问、回答、赞同、关注会显示为匿名\x3c/li\x3e\x3cli\x3e除提问者本人，不能匿名编辑问题\x3c/li\x3e\x3cli\x3e不能邀请别人回答问题\x3c/li\x3e\x3c/ul\x3e'},h={title:"确认取消匿名身份？",
content:"取消匿名身份后， 提问、回答、赞同和关注将以实名显示。"};z.W.confirm(a?g:h,function(a){a&&d();b&&b(a)})};z.wp=function(a){this.type="anon_change";this.lb=a};var yp=function(a){z.F.call(this);this.J=window.$.extend({bk:z.p},a||{});this.gr=z.rm.guiders2||{};this.oQ=(0,z.G)();this.Ab=z.Tj&&!z.Uj;this.gc()};var zp=function(a,b,c){function d(g){g||(g=a.shift())&&b.call(c,g,f++,d)}a=a.slice();var f=0;d()};
var Ap=function(a){var b={"home-topstory":{path:"/",offset:{right:-10},Ht:"righttop",Um:"arrow-lefttop",bA:".zu-main-feed-con",ft:".zu-main-sidebar"}},c=a.gr.section;c&&zp(z.Ib(c),function(a,f,g){(f=b[a])&&f.path===window.location.pathname?Bp(this,"section",a,c[a],f,!1,g):g()},a)};
var Cp=function(a){var b={"/":{offset:{top:6},trigger:"1page-down inview",Ht:"lefttop",Um:"arrow-righttop",bA:".js-sidebarRoundtable",ft:".zu-main-content-inner"},"/explore":{Ht:"lefttop",Um:"arrow-righttop",bA:".explore-side-section-roundtable",ft:".zu-main-content-inner"}},c=a.gr["exclusive-popover"];c&&zp(z.Ib(c),function(a,f,g){var h;"roundtable"===a&&(h=b[window.location.pathname]);h&&Bp(this,"exclusive-popover",a,c[a],h,h.trigger,g)},a)};
var Bp=function(a,b,c,d,f,g,h){if(b&&c&&d&&f){var k=(0,window.$)(f.bA);if(k.length&&("righttop"!==f.Ht||300<z.Pe().width-k[0].getBoundingClientRect().right)){var m=(0,window.$)(z.La('\x3cdiv class\x3d"guide2-section-popover"\x3e\x3cdiv class\x3d"title"\x3e%s\x3c/div\x3e\x3cdiv class\x3d"content"\x3e%s\x3c/div\x3e\x3cdiv class\x3d"action"\x3e\x3ca class\x3d"dismiss" href\x3d"%s"\x3e%s\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e',d.title||"",d.content,d.dismissHref||"#",d.dismissText));m.addClass(f.Ht).addClass(f.Um).appendTo(k);
var n=f.offset;n&&window.$.each(["left","top","right","bottom"],function(a,b){n[b]&&m.css("margin-"+b,n[b])});var t=(0,window.$)([]);z.Ba(function(a){return(0,z.G)()-a},a.oQ);var x=function(){f.ft&&(t=(0,window.$)('\x3cspan class\x3d"guidev2-mask"/\x3e').appendTo(f.ft));(0,window.setTimeout)(function(){m.add(t).addClass("fx-show");K()});window.$.post("/node/Guide2",{method:"dismiss_popover",params:{category:b,key:c}})},J=function(a){if(window.Modernizr.csstransitions)m.add(t).removeClass("fx-show").onTransitionEnd(function(){(0,window.$)(this).remove()},
350);else m.add(t).remove();h&&h(a)};a=function(a){function b(a){var c=!1;return function(){!0!==c&&(c=a.apply(this,arguments));return c}}var c=0,d=b(function(){var a=window.pageYOffset;if(a>=f.size.height)return c=a,!0}),d={"1page-down .5page-up":z.ap(d,b(function(){return c-window.pageYOffset>=f.size.height/2})),"1page-down inview":z.ap(d,function(){return Cn(f,k[0])})},f=new z.fl,g=d[a]||d["1page-down .5page-up"];f.v().g(f,"update",function(){g()&&(f.H(),x())})};var K=function(){var a=new z.fl;
a.v().g(a,"update",function(){m.parent().length?Cn(a,m[0])||(J(),a.H()):a.H()})};(0,window.$)(".dismiss",m).click(function(){J();return!1});(0,window.$)(".skip-all",m).click(function(){window.$.post("/node/Guide2",{method:"skip_popover",params:{category:b}});J(!0);return!1});g?a(g):x()}}};var Dp=function(){var a=(0,window.$)("#guidersv2-page-banner");(0,window.$)(".js-close",a).click(function(){a.remove()})};
var Ep=function(a){function b(a){window.$.post("/node/Guide2",{method:"dismiss_editor",params:{key:a}})}function c(a){z.xi(Object.assign({category:"popup_guide",label:{bio:"popup_guide_personal_introduction",topic:"popup_guide_topic_recommendation"}[h]},a))}function d(a){k||(k=new z.U,k.xf(!0),k.DE=!1,z.V.add(k.Yh(),"Guide"));k.ia(a);k.G(!0)}var f=window.$.Deferred(),g=a.gr.editor;if(!g||!g.length)return f.reject();var g=g.slice(),h,k,m={},n={bio:function(a){var f=(0,window.$)("#tmpl-Guide-BioEditor").html();
if(!f)return window.console&&window.console.warn("Cannot find template"),a();var g=z.bp(a,function(){b("bio")});d(f);(function(a){a=(0,window.$)(a).off();var b=(0,window.$)(".js-submit",a),d=(0,window.$)('input[name\x3d"bio"]',a);b.click(function(){var a=m.Vv=window.$.trim(d.val());a?(window.$.post("/node/Guide2",{method:"add_headline",params:{headline:a}}),c({action:"click_edit_personal_introduction_submit",attributes:{personal_introduction:a}})):c({action:"click_edit_personal_introduction_skip"});
g()})})(k.R());c({action:"popup_edit_personal_introduction_appear"})},topic:function(a){function f(){z.xp.dispatchEvent("guider2:topicselected")}window.$.get("/node/GuideTopicList",function(a){(0,window.$)(".Guide-topicsLoading").remove();(0,window.$)(a).appendTo(".Guide-content")});var g=(0,window.$)("#tmpl-Guide-Topics").html();if(g){var h=z.bp(a,function(){b("topic")});d(g);(function(a){var b=(0,window.$)(a).off();a=(0,window.$)(".js-submit",b);b.on("click",".Guide-TopicsItem",function(){var a=
(0,window.$)(this);a.toggleClass("is-checked");var b=(0,window.$)(".template-relatedTopics",a);if(b.length){var c=b.html();b.remove();(0,window.$)(c).insertAfter(a)}});a.click(function(){var a=m.Dm=[],d={};(0,window.$)(".Guide-TopicsItem",b).filter(".is-checked").each(function(){var b=(0,window.$)(this),c=b.data("id"),f=b.index(),b=b.find(".name").text();a.push(c);d[c]={topic:b,row:Math.ceil((f+1)/3),column:f%3+1}});a.length?(window.$.post("/topics/follow",{follow_ids:a.join(",")},f),c({action:"click_popup_guide_topic_recommendation_submit",
attributes:{selected_topic:d}})):(f(),c({action:"click_popup_guide_topic_recommendation_skip"}));h()})})(k.R());c({action:"popup_guide_topic_recommendation_appear"})}else window.console&&window.console.warn("Cannot find template"),a(),f()}};(0,window.$)(window).on("beforeunload.guide2",function(){k&&k.V()&&c({vc:!0,action:{bio:"click_edit_personal_introduction_close",topic:"click_guide_topic_recommendation_close"}[h]})});zp(g,function(a,b,c){if(n[a]){h=a;var d=b===g.length-1,M=function(a){if(k)if(window.Modernizr.cssanimations)var b=
(0,window.$)(k.Yh()).addClass("fx-hide").onAnimationEnd(function(){b.removeClass("fx-hide");a()},400);else a()};n[a](function(){d?M(function(){k.G(!1);f.resolve(m);(0,window.$)(window).off(".guide2");"/topic"===window.location.pathname&&window.location.reload()}):M(c)})}});return f.promise()};var Fp=function(a,b){z.F.call(this);a&&this.attach(a,b)};var Gp=function(a,b,c,d){z.Qc.call(this,d);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c};var Hp=function(){};
var Ip=function(a,b,c){if(a=c||a.gf())c=b.getAttribute("role")||null,a!=c&&z.aj(b,a)};var Jp=function(a,b,c){var d=b.KC;null!=d&&a.CA(c,d);b.V()||z.bj(c,"hidden",!b.V());b.isEnabled()||a.rg(c,1,!b.isEnabled());Kp(b,8)&&a.rg(c,8,!!(b.N&8));Kp(b,16)&&a.rg(c,16,b.of());Kp(b,64)&&a.rg(c,64,b.rb())};var Lp=function(a,b){var c=[];b&&(a=a.concat([b]));z.w([],function(d){!z.Vn(d,z.Ba(z.y,a))||b&&!z.y(d,b)||c.push(d.join("_"))});return c};
var Mp=function(a){var b=a.U();b.replace(/\xa0|\s/g," ");a.$q={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};z.Np=function(){};z.Op=function(a,b){if(!a)throw Error("Invalid class name "+a);if(!z.sa(b))throw Error("Invalid decorator function "+b);Pp[a]=b};
var Qp=function(a,b,c){z.Q.call(this,c);if(!b){b=this.constructor;for(var d;b;){d=z.ua(b);if(d=Rp[d])break;b=b.o?b.o.constructor:null}b=d?z.sa(d.ba)?d.ba():new d:null}this.M=b;this.om(z.ka(a)?a:null);this.KC=null};
var Sp=function(a,b){var c=a.v(),d=a.m();b?(c.g(d,"mouseover",a.md).g(d,"mousedown",a.fe).g(d,"mouseup",a.mf).g(d,"mouseout",a.Dl),a.Xn!=z.p&&c.g(d,"contextmenu",a.Xn),z.B&&(c.g(d,"dblclick",a.nF),a.fo||(a.fo=new Tp(a),z.Bc(a,a.fo)))):(c.qa(d,"mouseover",a.md).qa(d,"mousedown",a.fe).qa(d,"mouseup",a.mf).qa(d,"mouseout",a.Dl),a.Xn!=z.p&&c.qa(d,"contextmenu",a.Xn),z.B&&(c.qa(d,"dblclick",a.nF),z.Dc(a.fo),a.fo=null))};var Kp=function(a,b){return!!(a.Rp&b)};
var Up=function(a,b){return!!(a.Wi&b)&&Kp(a,b)};var Vp=function(a,b,c){return Kp(a,b)&&!!(a.N&b)!=c&&(!(a.sk&b)||a.dispatchEvent(to(b,c)))&&!a.Gd};var Tp=function(a){z.yc.call(this);this.lr=a;this.ar=!1;this.ga=new z.yd(this);z.Bc(this,this.ga);a=this.lr.h;this.ga.g(a,"mousedown",this.Bl).g(a,"mouseup",this.js).g(a,"click",this.Al)};var Wp=function(){};z.Xp=function(a,b,c){Qp.call(this,a,b||Wp.ba(),c)};var Yp=function(){};
var Zp=function(a,b,c){if(b){var d=$p(a,c);z.fj(b,d)||(z.Eb(aq,function(a){a=$p(this,a);z.po(b,a,a==d)},a),z.bj(b,"checked",c==bq?"mixed":c==cq?"true":"false"))}};var $p=function(a,b){var c=a.U();if(b==cq)return c+"-checked";if(b==dq)return c+"-unchecked";if(b==bq)return c+"-undetermined";throw Error("Invalid checkbox state: "+b);};var eq=function(a,b,c){c=c||Yp.ba();Qp.call(this,null,c,b);this.Nh=z.ka(a)?a:dq};z.fq=function(){};var gq=function(){};
z.hq=function(a,b,c,d,f){function g(a){a&&(a.tabIndex=0,z.aj(a,h.gf()),z.gj(a,"goog-zippy-header"),iq(h,a),a&&h.CG.g(a,"keydown",h.jS))}z.F.call(this);this.da=f||z.H();this.Of=this.da.m(a)||null;this.jj=this.da.m(d||null);this.jl=(this.Ts=z.sa(b)?b:null)||!b?null:this.da.m(b);this.jb=1==c;z.ka(c)||this.Ts||(this.jj?this.jb=z.Lg(this.jj):this.Of&&(this.jb=z.fj(this.Of,"goog-zippy-expanded")));this.CG=new z.yd(this);this.vz=new z.yd(this);var h=this;g(this.Of);g(this.jj);this.Kc(this.jb)};
var jq=function(a){var b=a.jj;return b&&z.Lg(b)?b:a.Of};var iq=function(a,b){b&&a.vz.g(b,"click",a.iS)};var kq=function(a,b,c){z.Mc.call(this,a,b);this.Lg=c};z.lq=function(){z.U.call(this);this.xf(!0)};var mq=function(a){var b=(0,window.$)(".resend-activation-email",a.$B);nq(a,b,10,function(){window.$.post("/reactive")})};
var oq=function(a){window.$.get("/settings/account/request_unlock");var b=(0,window.$)("form.send-code",a.RB),c=a.OB=(0,window.$)("form.activate",a.RB),d=(0,window.$)(".submit",b);b.validate(window.$.extend({},pq,{submitHandler:z.tk(d,window.$.proxy(a.LS,a))}));b=(0,window.$)(".submit",c);c.validate(window.$.extend({},pq,{submitHandler:z.tk(b,window.$.proxy(a.LR,a))}));b=(0,window.$)("button.resend-code",c);nq(a,b,60,function(){var a=(0,window.$)('input[name\x3d"account"]',c).val();if(""===a)return c.data("validator").showErrors({account:"请填写手机号或邮箱"}),
!1;var b=this.pf(a),d;b?(a={email:a},d="/settings/account/send_new_email_digits"):(a={phone_no:a},d="/settings/account/send_new_phone_digits");var k=this;window.$.post(d,a,function(a){a.success?qq(k,b):(a=a.payload.fields,b?k.tb(a,"email","account"):k.tb(a,"phone_no","account"),c.data("validator").showErrors(a))})})};var qq=function(a,b){a.nv||(a.nv=(0,window.$)(".tip",a.Ad));b?a.nv.html("验证码已发送至你的邮箱，请查收。"):a.nv.html("验证码已发送至你的手机，请查收。")};
var nq=function(a,b,c,d){var f=b.text();b=z.sk(b,c,function(a){return a?"%s 秒后即可重发":f},window.$.proxy(d,a));z.Bc(a,b)};
var rq=function(a){function b(){(0,window.clearTimeout)(g);g=null;try{delete window[d]}catch(a){window[d]=null}}"string"===window.$.type(a)&&(a={url:a});a=a||{};var c=window.$.Deferred(),d="zh"+(0,z.G)()+Pn(),f=window.$.extend({},a.data||{},{callback:d}),g=null;a.timeout&&(g=(0,window.setTimeout)(function(){window[d]&&(window[d]=b,c.reject("timeout"))},a.timeout));window[d]=c.resolve;a=a.url+(-1===a.url.indexOf("?")?"?":"\x26")+window.$.param(f);z.dh(a).fail(c.reject).always(b);return c.promise()};
var sq=function(a,b){b=void 0===b?0:b;z.F.call(this);this.XL=Object.assign({},tq,a);this.xT=b;this.cu=1E3;this.bH=3E4;this.hQ=1.5};z.uq=function(a,b){a=void 0===a?z.p:a;b=void 0===b?!1:b;z.Q.call(this);this.SH=a;this.$U=b};var vq=function(a){window.$.get("/antispam/get_token").then(function(b){a.Ci=b.token;a.timeout=b.ttl;a.startTime=Date.now();(0,window.$)(".js-token",a.h).text(a.Ci);(0,window.$)(".js-timeout",a.h).text((0,window.parseInt)(a.timeout/60))})};
var wq=function(a){var b=(0,window.$)(".js-sent",a.h);b.click(z.tk(b,function(){if(Date.now()>a.startTime+1E3*a.timeout)return vq(a),xq(a,"短信超时，请重新发送");yq(a);a.Fk.show();return window.$.get("/antispam/is_send_sms").then(function(b){b.is_send_sms?zq(a,"unblock"):xq(a,"没收到正确的短信，请重新发送");a.Fk.hide()},function(){a.Fk.hide()})}))};
var Aq=function(a){var b=(0,window.$)(".js-verify",a.h);b.click(z.tk(b,function(){var b=a.Ac.Oi.val();if(!b)return xq(a,"请填写验证码");yq(a);a.Fk.show();return window.$.post("/antispam/create_appeal",{captcha:b}).then(function(b){0===b.errcode?zq(a,"appeal"):(a.Ac.Ut(),xq(a,b.msg),a.Fk.hide())},function(){a.Fk.hide()})}))};
var Bq=function(a){(0,window.$)(".js-appeal",a.h).click(function(){a.SH("向管理员申诉解封");a.qv.hide();(0,window.$)(".unblock-dialog-appeal",a.h).show();a.Ac.Ut();yq(a)});(0,window.$)(".js-message",a.h).click(function(){a.SH("帐号解封");a.qv.hide();(0,window.$)(".unblock-dialog-message",a.h).show();yq(a)})};var Cq=function(a){a.Jt=new sq({url:"/antispam/is_send_sms"},1E3);z.Bc(a,a.Jt);a.Jt.g("message",function(b){b.data.is_send_sms&&zq(a,"unblock")});a.Jt.It()};
var zq=function(a,b){a.Jt.H();var c;"unblock"===b?c="成功自助解封":"appeal"===b&&(c="成功提交申诉\x3cbr\x3e申诉成功后会以邮件或私信方式通知你");(0,window.$)(".unblock-dialog-success-text",a.h).html(c);a.qv.hide();(0,window.$)(".unblock-dialog-success",a.h).show();if(a.$U){var d=(0,window.$)(".js-count-down",a.h);d.show();var f=5,g;"unblock"===b?g="刷新":"appeal"===b&&(g="关闭");var h=function(){0>=f?"unblock"===b?window.location.reload():"appeal"===b&&a.dispatchEvent("complete"):(d.text(f--+" 秒后自动"+g),(0,window.setTimeout)(h,1E3))};
h()}};var xq=function(a,b){a.UB.text(b).addClass("is-visible")};var yq=function(a){a.UB.removeClass("is-visible")};var Dq=function(a){z.U.apply(this,arguments)};
z.Eq=function(a,b,c){function d(a){return a&&a.preventDefault?a.preventDefault():!1}return function(f){var g={pb:!0,pe:!1,rt:!1,zI:!1};z.na(b)?(!0===b[0]&&(g=Wo(g,function(){return!0})),z.Nb(g,b[1])):!0===b?g=Wo(g,function(){return!0}):(z.sa(b)&&(b=b.apply(this,arguments)),z.Nb(g,b||{}));var h=z.sa(c)?c.apply(this,arguments):c;if(!z.S.pb()&&g.pb){var k=new z.Uk;k.Ap(h);k.show();return d(f)}return!z.S.pe&&g.pe?((new z.lq).G(!0),window.$.post("/continuation/record",{url:window.location.pathname+window.location.search+
(h||"")}),d(f)):z.hm.zE&&g.zI?(h=z.hm.zE,"warning"===h?k='您的知乎用户名不符合 \x3ca href\x3d"/question/19791408"\x3e知乎用户名规范\x3c/a\x3e，请您 \x3ca href\x3d"/settings/profile"\x3e修改\x3c/a\x3e。':"pending"===h&&(k="您提交的用户名修改正在审核中，帐号暂时锁定。"),k&&z.W.message(k,4E3),d(f)):z.hm.Xv&&g.rt?(z.hm.Xv.by_antispam?(new Dq).G(!0):z.W.message(z.hm.Xv.message),d(f)):a.apply(this,arguments)}};var Fq=function(){z.F.call(this);this.N=Gq;this.endTime=this.startTime=null};
var Hq=function(a,b,c){z.yc.call(this);this.Tj=a;this.Vg=b||0;this.ga=c;this.Wk=(0,z.q)(this.Gg,this)};var Iq=function(a){a.hc()&&a.fire()};var Jq=function(a){a=z.ua(a);delete Kq[a];z.Kb(Kq)&&Lq&&Lq.stop()};var Mq=function(){Lq||(Lq=new Hq(function(){Nq()},20));var a=Lq;a.hc()||a.start()};var Nq=function(){var a=(0,z.G)();z.Eb(Kq,function(b){Oq(b,a)});z.Kb(Kq)||Mq()};
var Pq=function(a,b,c,d){Fq.call(this);if(!z.na(a)||!z.na(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.Np=a;this.RN=b;this.duration=c;this.rC=d;this.coords=[];this.Ii=!1;this.progress=0};var Oq=function(a,b){a.progress=(b-a.startTime)/(a.endTime-a.startTime);1<=a.progress&&(a.progress=1);Qq(a,a.progress);1==a.progress?(a.N=Gq,Jq(a),a.hd("finish"),a.eg()):1==a.N&&a.Bz()};
var Qq=function(a,b){z.sa(a.rC)&&(b=a.rC(b));a.coords=Array(a.Np.length);for(var c=0;c<a.Np.length;c++)a.coords[c]=(a.RN[c]-a.Np[c])*b+a.Np[c]};var Rq=function(a,b){z.Mc.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.progress=b.progress;this.state=b.N;this.uX=b};
var Sq=function(a){var b={};a=String(a);var c="#"==a.charAt(0)?a:"#"+a;if(Tq.test(c))return b.rs=Uq(c),b.type="hex",b;c=Vq(a);if(c.length){var d=c[0];a=c[1];c=c[2];d=Number(d);a=Number(a);c=Number(c);if((0,window.isNaN)(d)||0>d||255<d||(0,window.isNaN)(a)||0>a||255<a||(0,window.isNaN)(c)||0>c||255<c)throw Error('"('+d+","+a+","+c+'") is not a valid RGB color');d=Wq(d.toString(16));a=Wq(a.toString(16));c=Wq(c.toString(16));b.rs="#"+d+a+c;b.type="rgb";return b}if(Xq&&(c=Xq[a.toLowerCase()]))return b.rs=
c,b.type="named",b;throw Error(a+" is not a valid color string");};var Uq=function(a){if(!Tq.test(a))throw Error("'"+a+"' is not a valid hex color");4==a.length&&(a=a.replace(Yq,"#$1$1$2$2$3$3"));return a.toLowerCase()};var Vq=function(a){var b=a.match(Zq);if(b){a=Number(b[1]);var c=Number(b[2]),b=Number(b[3]);if(0<=a&&255>=a&&0<=c&&255>=c&&0<=b&&255>=b)return[a,c,b]}return[]};var Wq=function(a){return 1==a.length?"0"+a:a};var $q=function(a,b,c,d,f){Pq.call(this,b,c,d,f);this.element=a};
var ar=function(a,b,c,d,f){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");$q.apply(this,arguments)};var br=function(a,b,c,d,f){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");$q.apply(this,arguments)};var cr=function(a,b,c,d,f){$q.call(this,a,[b],[c],d,f)};var dr=function(a,b,c,d,f){$q.call(this,a,[b],[c],d,f)};
var er=function(a,b,c,d,f){z.qa(b)&&(b=[b]);z.qa(c)&&(c=[c]);$q.call(this,a,b,c,d,f);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");this.Rs=fr};var gr=function(a,b,c){er.call(this,a,1,0,b,c)};var hr=function(a,b,c){er.call(this,a,0,1,b,c)};var ir=function(a,b,c,d,f){if(3!=b.length||3!=c.length)throw Error("Start and end points must be 3D");$q.apply(this,arguments)};var jr=function(){return window.$.Deferred(function(a){(0,window.setTimeout)(a.resolve,2E3)}).promise()};
var kr=function(a,b){var c=z.Eo(a,function(a){return 3===a.nodeType&&!z.kp(a.nodeValue)})[0];c&&(c.nodeValue=b)};z.lr=function(a,b){var c=new gr(a,500);b&&z.E(c,"finish",(0,z.q)(function(){z.O(this)},a));c.play()};z.mr=function(a,b,c,d){"bottom"===d&&(d="b");var f="";!1!==c&&(f='data-tip\x3d"t$'+(d||"t")+"$"+a[1]+'"');return["\x3ca ",f,' class\x3d"',b||"zm-item-tag",'" href\x3d"/topic/',a[1],'"\x3e',a[0],"\x3c/a\x3e"].join("")};z.nr=function(a){return a?a.replace(/^\s+/,"").replace(/\s+$/,""):""};
var or=function(a){return a?a.replace(/<[^>]+>/g,""):""};var pr=function(){return'\x3ca href\x3d"javascript:;" class\x3d"zu-edit-button" name\x3d"edit"\x3e\x3ci class\x3d"zu-edit-button-icon"\x3e\x3c/i\x3e修改\x3c/a\x3e'};z.qr=function(a,b){z.P(a,!0);z.P(b,!1)};
var rr=function(a,b,c){var d;a&&(b=(0,window.$)(a).data("animation")||new ir(a,[255,255,150],b||[255,255,255],c||2E3),(0,window.$)(a).data("animation",b),1==b.N&&b.stop(!0),d=a.style.backgroundColor,z.md(b,"end",function(){z.sg(this.element,"background-color",d)},!1,b),b.play())};z.sr=function(a,b,c){a&&(tr&&window.document[ur]?z.E(window.document,vr,function f(){window.document[ur]||(rr(a,b,c),z.nd(window.document,vr,f))}):rr(a,b,c))};
var wr=function(a){var b=0,c=0;do c=a.indexOf("?",c),-1!==c&&(b++,c+=1);while(-1!==c);return b};
var xr=function(a,b,c){b=z.zb(a.data,1);if("topic"===a.data[0]){a=(b[2]?'\x3cimg class\x3d"zm-item-img-avatar zg-left" src\x3d"'+b[2]+'"\x3e':"")+'\x3cspan class\x3d"zu-autocomplete-row-name'+(b[3]?"":" zu-autocomplete-row-name-info")+'" title\x3d"'+b[0]+'"\x3e'+b[0]+"\x3c/span\x3e";var d=5<b.length&&b[5];4<=b.length&&(a+='\x3cspan class\x3d"zg-gray-normal zu-autocomplete-row-description"\x3e',b[4]||d?(d&&(a+="又称 "+b[5]),b[4]&&d&&(a+="，"),b[4]&&(a+=b[4]+" 人关注")):a+="\x26nbsp;",a+="\x3c/span\x3e");
c.innerHTML=a}else"people"===a.data[0]?c.innerHTML='\x3cimg class\x3d"zm-item-img-avatar zg-left" src\x3d"'+b[2]+'"\x3e\x3cspan class\x3d"zu-autocomplete-row-name" title\x3d"'+b[0]+'"\x3e'+b[0]+'\x3c/span\x3e\x3cspan class\x3d"zg-gray-normal zu-autocomplete-row-description"\x3e'+(b[4]||"\x26nbsp;")+"\x3c/span\x3e":"question"===a.data[0]?c.innerHTML=b[0]+'\x3cspan class\x3d"zm-ac-gray"\x3e问题\x3c/span\x3e':"plain_text"===a.data[0]?(c.innerHTML=a.data[1],z.V.add(c,b[1])):"sina"===a.data[0]&&(c.innerHTML=
b[0])};
var yr=function(a,b,c){var d;b=z.zb(a.data,1);if("topic"===a.data[0]){a=["\x3ca ",' style\x3d"display:block" href\x3d"/topic/'+b[1]+'"\x3e\x3cspan class\x3d"zm-item-tag"\x3e',b[0],"\x3c/span\x3e"].join("");d=6<b.length&&b[6];if(b[5]||d){a+='\x3cspan class\x3d"zm-ac-gray"\x3e';var f=[];d&&f.push("又称 "+b[6]);(d=(0,window.parseInt)(b[5],10))&&f.push(d+" 个精华问答");a+=f.join("，");a+="\x3c/span\x3e"}else a+='\x3cspan class\x3d"zm-ac-gray" \x3e\x26nbsp;\x3c/span\x3e';c.innerHTML=a+"\x3c/a\x3e"}else"people"===a.data[0]?
c.innerHTML='\x3ca href\x3d"/people/'+b[1]+'" title\x3d"'+b[0]+'" class\x3d"zm-ac-link zm-ac-link-people"\x3e\x3cimg class\x3d"zm-item-img-avatar zg-left" src\x3d"'+b[2]+'"\x3e\x3cspan class\x3d"zu-autocomplete-row-name" title\x3d"'+b[0]+'"\x3e'+b[0]+'\x3c/span\x3e\x3cspan class\x3d"zg-gray-normal  zu-autocomplete-row-description"\x3e'+(b[4]||"\x26nbsp;")+"\x3c/span\x3e\x3c/a\x3e":"question"===a.data[0]?(d=(0,window.parseInt)(b[3],10),c.innerHTML=(b[4]?'\x3ca class\x3d"zg-star" data-tip\x3d"s$b$优质问答" href\x3d"/question/'+
b[2]+'"\x3e\x3c/a\x3e':"")+['\x3ca class\x3d"zm-ac-link"','href\x3d"/question/'+b[2]+'"\x3e',b[0]].join("")+('\x3cspan class\x3d"zm-ac-gray"\x3e'+(d?d+" 个回答":"还没有回答")+"\x3c/span\x3e\x3c/a\x3e")):"search_link"===a.data[0]?(c.innerHTML='\x3ca href\x3d"/search?q\x3d'+b[0]+'\x26type\x3dquestion"\x3e查看全部搜索结果\x3ci class\x3d"zg-icon arrow"\x3e\x3c/i\x3e\x3c/a\x3e',z.V.add(c,"zu-autocomplete-row-search-link")):"plain_text"===a.data[0]?c.innerHTML=b[0]:"sina"===a.data[0]&&(c.innerHTML=['\x3ca href\x3d"javascript:;" title\x3d"'+
b[0]+'"\x3e','\x3cimg class\x3d"zm-item-img-avatar" src\x3d"'+b[2]+'" /\x3e',b[0],"\x3c/a\x3e"].join(""));(0,window.$)("a",c).click(function(a){a.preventDefault()})};z.zr=function(a,b,c){for(c=c||"A";null!=b&&b!==a;){if(b.tagName===c)return b;b=b.parentNode}return null};z.Ar=function(a){this.IQ=a;this.data=new z.Sd};var Br=function(a){return(a=z.nr(a))?a.length:0};
var Cr=function(a,b,c,d){window._gaq||(window._gaq=[]);c&&(c=""+c);d&&(d=(0,window.parseInt)(d,10));window._gaq.push(["_trackEvent",a,b,c,d]);z.Mi&&Dr("trackEvent(deprecated)",z.wb(arguments))};var Er=function(a,b){function c(b){return a.getElementsByTagName(b).length}var d=["img","embed"];return b&&z.qb(d,c)?!1:!z.cp(z.Fr,z.bb,z.pf)(a)};
z.Gr=function(a,b){var c=window.$.extend({all:!1},z.Gr.defaults,b||{}),d=(0,window.$)(a).get(0).getBoundingClientRect();return!c.all&&(d.bottom<c.paddingTop||d.bottom>(0,window.$)(window).height())||c.all&&(d.top<c.paddingTop||d.bottom>(0,window.$)(window).height())?!1:!0};
z.Hr=function(a,b){if(a){"number"===window.$.type(b)&&(b={offsetTop:b});var c=window.$.extend({LB:z.Gr},Ir,b||{});if(!c.LB(a,c)){var d=(0,window.$)(a).offset().top-c.paddingTop-c.offsetTop||0;c.Mv?(0,window.$)(window.document.documentElement).add(window.document.body).animate({scrollTop:d}):(0,window.$)(window).scrollTop(d)}}};var Jr=function(a){(0,window.$)(a.target.M.h).off("click.disable-a").on("click.disable-a","a",function(a){a.preventDefault()})};
z.Kr=function(a,b){var c=null;return function(){var d=this,f=arguments;(0,window.clearTimeout)(c);c=(0,window.setTimeout)(function(){b.apply(d,f)},a)}};var Lr=function(a,b){var c=a.getBoundingClientRect(),d=z.Qg(window.document.body).top;if(0<c.top-d)b&&b();else{var f=a.offsetHeight,g=zo(window.document).y,h=z.Pe().height;b&&b();var k=a.offsetHeight;window.scrollTo(0,g+(c.bottom<h?k-f:c.top-d))}};
z.Mr=function(a){z.F.call(this);this.KG=null;this.od=a;this.v().g(this.od,["input","propertychange"],this.ZJ);Nr(this,!0);z.V.add(this.od,"zu-seamless-input-origin-element")};var Nr=function(a,b){Or(a);if(a.li){var c=a.od.value;if(b||a.KG!==c)a.KG=c,a.li.value=c,c=z.Tg(a.od),a.od.style.height=z.Bg(a.li.scrollHeight+c.top+c.bottom,!0),a.dispatchEvent("change")}};
var Or=function(a){if(!a.li&&0!==z.$n(a.od).width){var b=z.N("div",{style:"overflow:hiddenposition:relativeheight:0"},a.li=z.N("textarea",{rows:1,className:"zu-seamless-input-mock-element"}));window.document.body.appendChild(b);z.Eb("paddingTop paddingBottom fontFamily fontSize fontWeight fontStyle letterSpacing textTransform wordSpacing textIndent lineHeight width white-space".split(" "),function(a){this.li.style[a]=z.wg(this.od,a)},a)}};var Pr=function(a){this.Qv=a};
var Qr=function(a,b){a&&(a.tabIndex=b?0:-1)};var Rr=function(a,b,c){if(c)for(var d=c.firstChild,f;d&&d.parentNode==c;){f=d.nextSibling;if(1==d.nodeType){var g=a.Nn(d);g&&(g.h=d,b.isEnabled()||g.Ua(!1),b.L(g),g.w(d))}else d.nodeValue&&""!=(0,z.bb)(d.nodeValue)||c.removeChild(d);d=f}};z.Sr=function(a,b,c){z.Q.call(this,c);this.M=b||Pr.ba();this.Mb=a||this.M.ZE()};
var Tr=function(a,b){var c=a.v(),d=a.Xb();b?c.g(d,"focus",a.ee).g(d,"blur",a.Wc).g(a.Wr(),"key",a.Yb):c.qa(d,"focus",a.ee).qa(d,"blur",a.Wc).qa(a.Wr(),"key",a.Yb)};var Ur=function(a,b){var c=b.m(),c=c.id||(c.id=b.de());a.Bg||(a.Bg={});a.Bg[c]=b};var Vr=function(a){return z.bh(a,a.Ra)};z.Wr=function(a){Xr(a,function(a,c){return(a+1)%c},z.ah(a)-1)};var Yr=function(a){Xr(a,function(a,c){a--;return 0>a?c-1:a},0)};var Zr=function(a){Xr(a,function(a,c){return(a+1)%c},a.Ra)};
var $r=function(a){Xr(a,function(a,c){a--;return 0>a?c-1:a},a.Ra)};var Xr=function(a,b,c){c=0>c?In(a,a.jc):c;var d=z.ah(a);c=b.call(a,c,d);for(var f=0;f<=d;){var g=z.bh(a,c);if(g&&a.fD(g)){a.ub(c);break}f++;c=b.call(a,c,d)}};var as=function(){z.Q.call(this);this.Vu=[]};z.bs=function(a,b){this.Qa=a||[];this.IB=!b};var cs=function(a,b,c){var d=[];if(""!=a){a=z.Ya(a);a=new RegExp("(^|\\W+)"+a,"i");for(var f=0;f<c.length&&d.length<b;f++){var g=c[f];String(g).match(a)&&d.push(g)}}return d};
var ds=function(a,b,c){for(var d=[],f=0;f<c.length;f++){var g=c[f],h=a.toLowerCase(),k=String(g).toLowerCase(),m=0;if(-1!=k.indexOf(h))m=(0,window.parseInt)((k.indexOf(h)/4).toString(),10);else for(var n=h.split(""),t=-1,x=10,J=0,K;K=n[J];J++)K=k.indexOf(K),K>t?(t=K-t-1,t>x-5&&(t=x-5),m+=t,t=K):(m+=x,x+=5);m<6*h.length&&d.push({mV:g,XI:m,index:f})}d.sort(function(a,b){var c=a.XI-b.XI;return 0!=c?c:a.index-b.index});a=[];for(J=0;J<b&&J<d.length;J++)a.push(d[J].mV);return a};
z.es=function(a,b,c){z.F.call(this);this.Kd=a;this.wf=c;this.M=b;z.E(b,[fs,z.gs,hs,z.is],this.handleEvent,!1,this);this.Ub=null;this.Qa=[];this.Sg=-1;this.Tc=0;this.Xd=this.wc=null;this.gG={}};z.js=function(a){for(var b=a.Tc+a.Qa.length-1,c=a.Sg,d=0;d<a.Qa.length;d++){if(c>=a.Tc&&c<b)c++;else if(-1==c)c=a.Tc;else if(a.DC&&c==b){a.Yf(-1);break}else if(a.xK&&c==b)c=a.Tc;else break;if(a.Yf(c))break}};
var ks=function(a){for(var b=a.Tc+a.Qa.length-1,c=a.Sg,d=0;d<a.Qa.length;d++){if(c>a.Tc)c--;else if(a.DC&&c==a.Tc){a.Yf(-1);break}else if(!a.xK||-1!=c&&c!=a.Tc)break;else c=b;if(a.Yf(c))break}};z.ls=function(a){a.XF()||window.setTimeout((0,z.q)(a.XF,a),10)};var ms=function(a,b){var c=b-a.Tc;return 0>c||c>=a.Qa.length?-1:c};
z.ns=function(a){var b=0,c=0;if(os(a))b=a.selectionStart,c=-1;else if(z.B){var d=ps(a),f=d[0],d=d[1];if(f.inRange(d)){f.setEndPoint("EndToStart",d);if("textarea"==a.type){d.duplicate();b=a=f.text;for(c=!1;!c;)0==f.compareEndPoints("StartToEnd",f)?c=!0:(f.moveEnd("character",-1),f.text==a?b+="\r\n":c=!0);f=[b.length,-1];return f}b=f.text.length;c=-1}}return[b,c]};
z.qs=function(a,b){if(os(a))a.selectionStart=b,a.selectionEnd=b;else if(z.B){b=rs(a,b);var c=a.createTextRange();c.collapse(!0);c.move("character",b);c.select()}};var ps=function(a){var b=a.ownerDocument||a.document,c=b.selection.createRange();"textarea"==a.type?(b=b.body.createTextRange(),b.moveToElementText(a)):b=a.createTextRange();return[b,c]};var rs=function(a,b){"textarea"==a.type&&(b=z.Ma(a.value.substring(0,b)).length);return b};var os=function(a){try{return"number"==typeof a.selectionStart}catch(b){return!1}};
z.ss=function(a,b,c,d){z.yc.call(this);d=d||150;this.Xl=null!=c?c:!0;this.wp=a||",;";this.uN=this.wp.substring(0,1);a=this.Xl?"[\\s"+this.wp+"]+":"[\\s]+";this.SJ=new RegExp("^"+a+"|"+a+"$","g");this.OU=new RegExp("\\s*["+this.wp+"]$");this.QG=b||"";this.IT=!1;this.HT=this.Xl;this.ma=0<d?new z.ud(d):null;this.cc=new z.yd(this);this.vv=new z.yd(this);this.sb=new Fp;this.HG=-1};
var ts=function(a,b,c){if(z.ka(c)?c:a.Xl){c=us(a,a.Y(),z.ns(a.bb)[0]);var d=vs(a,a.Y());a.OU.test(b)||(b=z.fp(b)+a.uN);a.kW&&(0==c||z.kp(d[c-1])||(b=" "+b),c==d.length-1&&(b+=" "));if(b!=d[c]){d[c]=b;b=a.bb;(z.A||z.B&&z.D("9"))&&b.blur();b.value=d.join("");for(var f=0,g=0;g<=c;g++)f+=d[g].length;b.focus();c=f;d=a.bb;b=c;os(d)?d.selectionStart=b:z.B&&(f=ps(d),g=f[0],g.inRange(f[1])&&(b=rs(d,b),g.collapse(!0),g.move("character",b),g.select()));d=a.bb;os(d)?d.selectionEnd=c:z.B&&(f=ps(d),b=f[1],f[0].inRange(b)&&
(c=rs(d,c),d=rs(d,z.ns(d)[0]),b.collapse(!0),b.moveEnd("character",c-d),b.select()))}}else a.Da(b);a.vA=!0};var ws=function(a,b){var c=a.Xl&&b.charCode&&-1!=a.wp.indexOf(String.fromCharCode(b.charCode));a.QU&&c&&a.update();return a.PU&&c&&a.aa.vi()?(b.preventDefault(),!0):!1};var xs=function(a){a.sb.attach(a.bb);a.cc.g(a.sb,"key",a.Xo);a.cc.g(a.bb,"mousedown",a.KH);z.B&&a.cc.g(a.bb,"keypress",a.HH)};
var ys=function(a,b){a.vv.removeAll();a.aa&&z.ls(a.aa);b!=a.bb&&(a.bb=b,a.ma&&(a.ma.start(),a.cc.g(a.ma,"tick",a.ap)),a.Co=a.Y(),xs(a))};var zs=function(a){a.Ki&&(a.Ki=!1,a.cc.qa(a.bb,"keypress",a.IH),a.cc.qa(a.bb,"keyup",a.JH))};var us=function(a,b,c){a=vs(a,b);if(c==b.length)return a.length-1;for(var d=b=0,f=0;d<a.length&&f<=c;d++)f+=a[d].length,b=d;return b};
var vs=function(a,b){if(!a.Xl)return[b];for(var c=String(b).split(""),d=[],f=[],g=0,h=!1;g<c.length;g++)a.QG&&-1!=a.QG.indexOf(c[g])?(a.iO&&!h&&(d.push(f.join("")),f.length=0),f.push(c[g]),h=!h):h||-1==a.wp.indexOf(c[g])?f.push(c[g]):(f.push(c[g]),d.push(f.join("")),f.length=0);d.push(f.join(""));return d};z.As=function(a,b,c){z.yc.call(this);this.DB=a;this.IB=!b;this.ea=new z.ee(c)};
z.Bs=function(a,b,c,d,f,g,h,k,m){var n=Cs(c),t=z.vo(a),x=yo(a);x&&t.Jy(new z.rg(x.left,x.top,x.right-x.left,x.bottom-x.top));var x=z.H(a),J=z.H(c);if(x.ua()!=J.ua()){var K=x.ua().body;var J=J.Ta(),M=new z.He(0,0),ca=z.Se(z.Ke(K));if(z.Pc(ca,"parent")){var Wa=K;do{var cb=ca==J?z.Rn(Wa):z.Fg(Wa);M.x+=cb.x;M.y+=cb.y}while(ca&&ca!=J&&ca!=ca.parent&&(Wa=ca.frameElement)&&(ca=ca.parent))}K=eo(M,z.Rn(K));!z.B||9<=z.Ug||Ln(x)||(K=eo(K,z.wf(x)));t.left+=K.x;t.top+=K.y}a=Ds(a,b);t=new z.He(a&2?t.left+t.width:
t.left,a&1?t.top+t.height:t.top);t=eo(t,n);f&&(t.x+=(a&2?-1:1)*f.x,t.y+=(a&1?-1:1)*f.y);var Ha;if(h)if(m)Ha=m;else if(Ha=yo(c))Ha.top-=n.y,Ha.right-=n.x,Ha.bottom-=n.y,Ha.left-=n.x;return Es(t,c,d,g,Ha,h,k)};
var Cs=function(a){var b;if(a=a.offsetParent){var c="HTML"==a.tagName||"BODY"==a.tagName;c&&"static"==z.zg(a)||(b=z.Rn(a),c||(c=(c=z.Ng(a))&&z.A?-a.scrollLeft:!c||z.Il&&z.D("8")||"visible"==z.yg(a,"overflowX")?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft,b=eo(b,new z.He(c,a.scrollTop))))}return b||new z.He};
var Es=function(a,b,c,d,f,g,h){a=a.clone();var k=Ds(b,c);c=z.Ig(b);h=h?h.clone():c.clone();a=a.clone();h=h.clone();var m=0;if(d||0!=k)k&2?a.x-=h.width+(d?d.right:0):d&&(a.x+=d.left),k&1?a.y-=h.height+(d?d.bottom:0):d&&(a.y+=d.top);if(g){if(f){d=a;k=h;m=0;65==(g&65)&&(d.x<f.left||d.x>=f.right)&&(g&=-2);132==(g&132)&&(d.y<f.top||d.y>=f.bottom)&&(g&=-5);d.x<f.left&&g&1&&(d.x=f.left,m|=1);if(g&16){var n=d.x;d.x<f.left&&(d.x=f.left,m|=4);d.x+k.width>f.right&&(k.width=Math.min(f.right-d.x,n+k.width-f.left),
k.width=Math.max(k.width,0),m|=4)}d.x+k.width>f.right&&g&1&&(d.x=Math.max(f.right-k.width,f.left),m|=1);g&2&&(m=m|(d.x<f.left?16:0)|(d.x+k.width>f.right?32:0));d.y<f.top&&g&4&&(d.y=f.top,m|=2);g&32&&(n=d.y,d.y<f.top&&(d.y=f.top,m|=8),d.y+k.height>f.bottom&&(k.height=Math.min(f.bottom-d.y,n+k.height-f.top),k.height=Math.max(k.height,0),m|=8));d.y+k.height>f.bottom&&g&4&&(d.y=Math.max(f.bottom-k.height,f.top),m|=2);g&8&&(m=m|(d.y<f.top?64:0)|(d.y+k.height>f.bottom?128:0));f=m}else f=256;m=f}g=new z.rg(0,
0,0,0);g.left=a.x;g.top=a.y;g.width=h.width;g.height=h.height;f=m;if(f&496)return f;z.Ag(b,new z.He(g.left,g.top));h=g.Og();z.Mo(c,h)||(c=h,a=Ln(z.H(z.Ke(b))),!z.B||z.D("10")||a&&z.D("8")?(b=b.style,z.A?b.MozBoxSizing="border-box":z.C?b.WebkitBoxSizing="border-box":b.boxSizing="border-box",b.width=Math.max(c.width,0)+"px",b.height=Math.max(c.height,0)+"px"):(h=b.style,a?(a=z.Qg(b),b=z.Tg(b),h.pixelWidth=c.width-b.left-a.left-a.right-b.right,h.pixelHeight=c.height-b.top-a.top-a.bottom-b.bottom):(h.pixelWidth=
c.width,h.pixelHeight=c.height)));return f};var Ds=function(a,b){return(b&4&&z.Ng(a)?b^2:b)&-5};z.Fs=function(a,b,c,d){z.F.call(this);this.Pa=a||window.document.body;this.da=z.H(this.Pa);this.mp=!a;this.h=null;this.Ub="";this.Qa=[];this.vf=[];this.vJ=this.Ll=-1;this.ob=!1;this.className="ac-renderer";this.kh="ac-row";this.MG="active";this.wv="ac-active";this.ZP="ac-highlighted";this.dl=b||null;this.fK=null!=d?d:!0;this.pR=!0;this.co=!1;this.qU=!!c;this.Fu=!1;this.Jo=0;this.qJ=!1};
var Gs=function(a,b){a.wc&&(z.bj(a.wc,"haspopup",b),z.bj(a.h,"expanded",b),b?z.bj(a.wc,"owns",a.h.id):(a.wc.removeAttribute("aria-owns"),ro(a.wc,null)))};var Hs=function(a,b){var c=0<=b&&b<a.Qa.length?a.Qa[b]:void 0,d=0<=b&&b<a.vf.length?a.vf[b]:void 0;a.dispatchEvent({type:"rowhilite",aY:d,si:c?c.data:null})&&(0<=a.Ll&&z.jj(a.vf[a.Ll],[a.wv,a.MG]),a.Ll=b,d&&(z.hj(d,[a.wv,a.MG]),a.wc&&ro(a.wc,d),xo(d,a.h)))};
var Is=function(a){if(!a.h){var b=a.da.B("DIV",{style:"display:none"});a.qJ&&(b.style.overflowY="auto");a.h=b;z.hj(b,(0,z.bb)(a.className).split(" "));z.aj(b,"listbox");b.id=z.Xg(z.Wg.ba());a.da.appendChild(a.Pa,b);z.E(b,"click",a.Al,!1,a);z.E(b,"mousedown",a.Bl,!1,a);z.E(b,"mouseover",a.vF,!1,a)}};
var Js=function(a){Is(a);a.Fu&&(a.h.style.visibility="hidden");a.lW&&(a.h.style.minWidth=a.lW.clientWidth+"px");a.vf.length=0;a.da.kp(a.h);if(a.dl&&a.dl.render)a.dl.render(a,a.h,a.Qa,a.Ub);else{var b=null;z.w(a.Qa,function(a){a=Ks(this,a,this.Ub);this.Fu?this.h.insertBefore(a,b):this.da.appendChild(this.h,a);b=a},a)}0==a.Qa.length?a.Bc():(a.show(),a.ha(),z.uo(a.h,!0))};
var Ls=function(a,b,c){if(a.co||!a.sK)if(3==b.nodeType){var d=null;z.na(c)&&1<c.length&&!a.co&&(d=z.zb(c,1));c=Ms(a,c);if(0!=c.length){var f=b.nodeValue,g=a.pR?new RegExp("\\b(?:"+c+")","gi"):new RegExp(c,"gi");c=[];for(var h=0,k=g.exec(f),m=0;k;)m++,c.push(f.substring(h,k.index)),c.push(f.substring(k.index,g.lastIndex)),h=g.lastIndex,k=g.exec(f);c.push(f.substring(h));if(1<c.length){d=a.co?m:1;for(f=0;f<d;f++)g=2*f,b.nodeValue=c[g],h=a.da.createElement("B"),h.className=a.ZP,a.da.appendChild(h,a.da.createTextNode(c[g+
1])),h=b.parentNode.insertBefore(h,b.nextSibling),b.parentNode.insertBefore(a.da.createTextNode(""),h.nextSibling),b=h.nextSibling;c=z.zb(c,2*d);b.nodeValue=c.join("");a.sK=!0}else d&&Ls(a,b,d)}}else for(b=b.firstChild;b;)d=b.nextSibling,Ls(a,b,c),b=d};
var Ms=function(a,b){var c="";if(!b)return c;z.na(b)&&(b=z.nb(b,function(a){return!z.kp(null==a?"":String(a))}));a.co?z.na(b)?c=z.ob(b,z.Ya).join("|"):(c=b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""),c=z.Ya(c),c=c.replace(/ /g,"|")):z.na(b)?c=0<b.length?z.Ya(b[0]):"":/^\W/.test(b)||(c=z.Ya(b));return c};
var Ks=function(a,b,c){var d=a.da.B("DIV",{className:a.kh,id:z.Xg(z.Wg.ba())});z.aj(d,"option");a.dl&&a.dl.td?a.dl.td(b,c,d):a.GI(b,c,d);c&&a.fK&&(a.sK=!1,Ls(a,d,c));z.gj(d,a.kh);a.vf.push(d);return d};var Ns=function(a,b){for(;b&&b!=a.h&&!z.fj(b,a.kh);)b=b.parentNode;return b?z.mb(a.vf,b):-1};z.Os=function(a,b,c,d){this.Kd=a=new z.As(a,!d);d=new z.Fs;c=new z.ss(null,null,!!c,300);z.es.call(this,a,d,c);c.aa=this;c.Ok(b)};
z.Ps=function(a,b){var c=this,d={};z.Nb(d,this.defaults,b||{});this.J=d;var f=d.td?{td:(0,z.q)(d.td,c)}:null;f&&(f.render=d.render?(0,z.q)(d.render,c):null);this.M=f=new z.Fs(d.pk,f);var g="string"===typeof d.source?z.As:z.bs,h=new g(d.source,!d.dW);this.Kd=h;var k=d.Hy;k||(k=new z.ss(d.separator,d.wN,!!d.multiple,d.delay),k.wi=function(a,b){var f;z.sa(d.select)&&(f=d.select.call(c,a,c.M.vf[c.M.Ll]));ts(this,z.ka(f)?f:a.label||a.toString(),b);return!1});z.es.call(this,h,f,k);k.aa=this;k.Ok(a);a.setAttribute("autocomplete",
"off");h.ri=function(a,b,f){var h=f;z.sa(d.format)&&(h=function(a,b){var g=d.format.call(c,b,a);z.sa(d.filter)&&(g=d.filter.call(c,g,a));f(a,g)});return g.prototype.ri.call(this,a,b,h)};f.GI=function(a,b,c){a=a.data;c.innerHTML=a.DV?a.DV():a.label||a.toString()};this.wc=a;d.Ke&&(this.Ul=d.Ke);d.placeholder&&(this.kc=new z.uk(a,d.placeholder));this.addEventListener("suggestionsupdate",function(){this.dispatchEvent(this.rb()?"show":"hide")})};var Qs=function(a,b,c,d){z.ss.call(this,a,b,c,d)};
z.Rs=function(a,b){z.Q.call(this,b);this.Lb=a||""};var Ss=function(){null!=Ts||(Ts="placeholder"in window.document.createElement("INPUT"));return Ts};var Us=function(a){!a.fO&&a.T&&a.m().form&&(a.T.g(a.m().form,"submit",a.bP),a.fO=!0)};var Vs=function(a){return!!a.m()&&""!=a.m().value&&a.m().value!=a.Lb};var Ws=function(a,b){return window.$.post("/node/MemberFollowBaseV2",{method:b?"follow_member":"unfollow_member",params:{hash_id:a}})};
var Xs=function(a,b){return window.$.post("/node/QuestionFollowBaseV2",{method:b?"follow_question":"unfollow_question",params:{question_id:a}})};var Ys=function(a,b){return window.$.post(b?"/collection/follow":"/collection/unfollow",{favlist_id:a})};var Zs=function(a,b){return window.$.post("/node/TopicFollowBaseV2",{method:b?"follow_topic":"unfollow_topic",params:{topic_id:a}})};z.$s=function(a,b){return window.$.get("/"+a+"/"+b+"/sharetext")};var at=function(a,b,c,d){z.ss.call(this,a,b,c,d)};
var bt=function(a,b){z.As.call(this,a,b);this.uA=null;this.JE=!0};var ct=function(a,b,c,d){this.iH=0;z.ss.call(this,a,b,!!c,d||300)};var dt=function(a,b,c,d){ct.call(this,a,b,!!c,d)};
z.et=function(a,b,c,d,f,g,h,k,m){var n={};"question_suggest"===g?(n.render=(0,z.q)(this.dU,this),n.td=yr):"topic_question"===g?(n.render=(0,z.q)(this.fU,this),n.td=xr):n.td=g?xr:yr;g=new z.Fs(f,n);f&&(g.mp=!1);g.co=!0;this.M=g;this.Kd=new bt(a,!d);a=m?m:new ct(null,null,c);h&&h.length&&new z.uk(b,h[0]);a.YJ=!1;z.es.call(this,this.Kd,g,a);a.aa=this;a.Nq(b);k&&(a.iH=k)};
z.ft=function(a,b,c){z.F.call(this);this.Ee=c||"搜索话题";this.pa=b;this.data=a||[];this.status=gt;this.$T="/topic/unbind";this.GL="/topic/bind";this.isEnabled=!0;this.zs='\x3ca class\x3d"zm-tag-editor-tip-link" href\x3d"#" name\x3d"edit"\x3e帮忙给这个问题选个话题吧，好让别人来回答\x3c/a\x3e\x3ca name\x3d"edit" class\x3d"zu-edit-button" href\x3d"#"\x3e\x3ci class\x3d"zu-edit-button-icon"\x3e\x3c/i\x3e添加\x3c/a\x3e';this.Ke=10;this.pt=!1;this.gt=window.Infinity;this.kt=0;this.wC=!1};
var ht=function(a){a=z.Lo("zm-item-tag",a.pg);return z.ob(a,function(a){var c=[(0,z.bb)(a.innerHTML),a.getAttribute("data-token"),null,a.getAttribute("data-topicid")];c.RV=!!a.getAttribute("data-uneditable");return c})};var it=function(a){if(a.data.length){var b=z.ob(a.data,function(a){return z.mr(a,"",null,"b")},a);a.isEnabled&&b.push(pr());a.pg.innerHTML=b.join("")}else a.isEnabled&&(a.pg.innerHTML=a.zs)};var jt=function(a,b){return z.nb(b,function(a){return"topic"!==a[0]?!1:!this.ix(a)},a)};
var kt=function(a,b,c){function d(){return z.rb(b,function(a){return"topic"===a[0]&&a[4]&&a[1]===c})}function f(){return z.rb(b,function(a){return 3>=a.length&&a[1]===z.La("创建 %s 话题",a[2])})}var g=(0,z.q)(function(){return z.rb(this.data,function(a){return a[0]===c})},a);z.S.ps?!a.wC||b.length&&(f()||d())||g()||b.push(["topic",z.La("创建 %s 话题",c),c]):(a=f())&&(1<b.length?z.ub(b,a):b=[["plain_text",'\x3cspan class\x3d"zu-autocomplete-row-name zu-autocomplete-row-name-info"\x3e没有找到话题：'+a[2]+'\x3c/span\x3e\x3cspan class\x3d"zg-gray-normal zu-autocomplete-row-description"\x3e请使用已经创建的话题\x3c/span\x3e']]);
return b};var lt=function(a){var b=a.data.length>=a.gt;a.cf&&z.P(a.cf,!b);a.ht&&z.P(a.ht,b)};var mt=function(a){var b=[];a.data=z.nb(a.data,function(a){if(z.y(b,a[1]))return!1;b.push(a[1]);return!0})};z.nt=function(a,b,c){z.ft.call(this,a,0,c?"添加父话题":"添加子话题");this.Qy=c;this.Cf=b;this.zs="";this.FI="/topic/parent/remove"};var ot=function(a){z.ft.call(this);this.zs="";this.Ee=a||"";this.gt=this.Ke=5;this.uq=(0,window.$)("#zh-question-suggest-title-content")};
var pt=function(a){var b;b=a.Pp?z.nb(a.Pp,function(a){return!this.ix(a)},a):[];a.wq.show();b&&0!==b.length||a.wq.hide();var c="";b=z.ob(b,function(a){return"\x3ca href\x3d'javascript:;' name\x3d'add' data-id\x3d'"+a[4]+"' data-text\x3d'"+a[1]+"' class\x3d'zg-r3px zm-item-tag'\x3e\x3cspan\x3e"+a[1]+"\x3c/span\x3e\x3c/a\x3e"});c+=b.join("");a.SK.html(c);a.lv.hide()};z.qt=function(a){z.ft.call(this,a,0);this.zs="";this.$C="/topic/ignore"};z.rt=function(){z.yc.call(this)};
z.st=function(a,b,c,d,f){this.Ic=!!b;this.node=null;this.Sb=0;this.rk=!1;this.jr=!c;a&&this.setPosition(a,d);this.depth=void 0!=f?f:this.Sb||0;this.Ic&&(this.depth*=-1)};z.tt=function(){};var ut=function(a){if(a.getSelection)return a.getSelection();a=a.document;var b=a.selection;if(b){try{var c=b.createRange();if(c.parentElement){if(c.parentElement().document!=a)return null}else if(!c.length||c.item(0).document!=a)return null}catch(d){return null}return b}return null};
z.vt=function(a){for(var b=[],c=0,d=a.xj();c<d;c++)b.push(a.Ae(c));return b};z.wt=function(a){return a.Xg()?a.la():a.Z()};z.xt=function(a){return a.Xg()?a.Ja():a.va()};z.yt=function(a){return a.Xg()?a.Z():a.la()};z.zt=function(a){return a.Xg()?a.va():a.Ja()};var At=function(a,b){z.st.call(this,a,b,!0)};z.Bt=function(){};
z.Ct=function(a,b,c,d,f){this.ta=this.xa=null;this.Ba=this.Ca=0;var g;a&&(this.xa=a,this.Ca=b,this.ta=c,this.Ba=d,1==a.nodeType&&"BR"!=a.tagName&&(a=a.childNodes,(b=a[b])?(this.xa=b,this.Ca=0):(a.length&&(this.xa=z.lb(a)),g=!0)),1==c.nodeType&&((this.ta=c.childNodes[d])?this.Ba=0:this.ta=c));z.st.call(this,f?this.ta:this.xa,f,!0);if(g)try{this.next()}catch(h){if(h!=z.Pd)throw h;}};var Dt=function(a,b){null!=a&&this.append.apply(this,arguments)};var Et=function(){};
var Ft=function(a,b){var c=a.O.getClientRects();return c.length?(c=b?c[0]:z.lb(c),new z.He(b?c.left:c.right,b?c.top:c.bottom)):null};z.Gt=function(a){this.O=a};
var Ht=function(a){var b=z.Ke(a).createRange();if(3==a.nodeType)b.setStart(a,0),b.setEnd(a,a.length);else if(It(a)){for(var c,d=a;(c=d.firstChild)&&It(c);)d=c;b.setStart(d,0);for(d=a;(c=d.lastChild)&&It(c);)d=c;b.setEnd(d,1==d.nodeType?d.childNodes.length:d.length)}else c=a.parentNode,a=z.mb(c.childNodes,a),b.setStart(c,a),b.setEnd(c,a+1);return b};var Jt=function(a,b,c,d){var f=z.Ke(a).createRange();f.setStart(a,b);f.setEnd(c,d);return f};var Kt=function(a){this.O=a};
z.Lt=function(a,b){this.ta=this.xa=this.ig=null;this.Ba=this.Ca=-1;this.O=a;this.Ar=b};z.Mt=function(a){var b=z.Ke(a).body.createTextRange();if(1==a.nodeType)b.moveToElementText(a),It(a)&&!a.childNodes.length&&b.collapse(!1);else{for(var c=0,d=a;d=d.previousSibling;){var f=d.nodeType;if(3==f)c+=d.length;else if(1==f){b.moveToElementText(d);break}}d||b.moveToElementText(a.parentNode);b.collapse(!d);c&&b.move("character",c);b.moveEnd("character",a.length)}return b};
var Nt=function(a,b){for(var c=b.childNodes,d=0,f=c.length;d<f;d++){var g=c[d];if(It(g)){var h=z.Mt(g),k=h.htmlText!=g.outerHTML;if(a.isCollapsed()&&k?0<=a.ve(h,1,1)&&0>=a.ve(h,1,0):a.O.inRange(h))return Nt(a,g)}}return b};
var Ot=function(a,b,c){c=c||a.sc();if(!c||!c.firstChild)return c;for(var d=1==b,f=0,g=c.childNodes.length;f<g;f++){var h=d?f:g-f-1,k=c.childNodes[h],m;try{m=Pt(k)}catch(t){continue}var n=m.O;if(a.isCollapsed())if(!It(k)){if(0==a.ve(n,1,1)){a.Ca=a.Ba=h;break}}else{if(m.Cg(a))return Ot(a,b,k)}else{if(a.Cg(m)){if(!It(k)){d?a.Ca=h:a.Ba=h+1;break}return Ot(a,b,k)}if(0>a.ve(n,1,0)&&0<a.ve(n,0,1))return Ot(a,b,k)}}return c};
var Qt=function(a,b){var c=1==b,d=c?a.Z():a.la();if(1==d.nodeType){for(var d=d.childNodes,f=d.length,g=c?1:-1,h=c?0:f-1;0<=h&&h<f;h+=g){var k=d[h];if(!It(k)&&0==a.O.compareEndPoints((1==b?"Start":"End")+"To"+(1==b?"Start":"End"),Pt(k).O))return c?h:h+1}return-1==h?0:h}f=a.O.duplicate();g=z.Mt(d);f.setEndPoint(c?"EndToEnd":"StartToStart",g);f=f.text.length;return c?d.length-f:f};var Rt=function(a){return 3==a.nodeType?a.nodeValue:a.innerText};
var St=function(a,b,c){c=c||z.H(a.parentElement());var d,f=d=b.id;d||(d=b.id=z.ep());a.pasteHTML(b.outerHTML);(b=c.m(d))&&(f||b.removeAttribute("id"));return b};z.Tt=function(a,b,c){var d;d=d||z.H(a.parentElement());var f;1!=b.nodeType&&(f=!0,b=d.B("DIV",null,b));a.collapse(c);b=St(a,b,d);f&&(a=b.firstChild,d.ZN(b),b=a);return b};var Ut=function(a){this.O=a};var Vt=function(a){this.O=a};var Wt=function(a){return z.Tl?new z.Lt(a,z.Ke(a.parentElement())):z.C?new Vt(a):z.A?new Kt(a):z.vg?new Ut(a):new z.Gt(a)};
var Pt=function(a){if(!z.B||9<=z.Ug)a=z.C?new Vt(Ht(a)):z.A?new Kt(Ht(a)):z.vg?new Ut(Ht(a)):new z.Gt(Ht(a));else{var b=new z.Lt(z.Mt(a),z.Ke(a));if(It(a)){for(var c,d=a;(c=d.firstChild)&&It(c);)d=c;b.xa=d;b.Ca=0;for(d=a;(c=d.lastChild)&&It(c);)d=c;b.ta=d;b.Ba=1==d.nodeType?d.childNodes.length:d.length;b.ig=a}else b.xa=b.ta=b.ig=a.parentNode,b.Ca=z.mb(b.ig.childNodes,a),b.Ba=b.Ca+1;a=b}return a};var It=function(a){return z.Ze(a)||3==a.nodeType};
z.Xt=function(){this.Ba=this.ta=this.Ca=this.xa=this.Ih=null;this.qf=!1};var Yt=function(a,b){var c=new z.Xt;c.Ih=a;c.qf=!!b;return c};z.Zt=function(a,b,c,d){var f=new z.Xt;f.qf=$t(a,b,c,d);if(z.kf(a)&&!z.Ze(a)){var g=a.parentNode;b=z.mb(g.childNodes,a);a=g}z.kf(c)&&!z.Ze(c)&&(g=c.parentNode,d=z.mb(g.childNodes,c),c=g);f.qf?(f.xa=c,f.Ca=d,f.ta=a,f.Ba=b):(f.xa=a,f.Ca=b,f.ta=c,f.Ba=d);return f};
z.au=function(a){var b;if(!(b=a.Ih)){b=a.Z();var c=a.va(),d=a.la(),f=a.Ja();if(!z.B||9<=z.Ug)b=z.C?new Vt(Jt(b,c,d,f)):z.A?new Kt(Jt(b,c,d,f)):z.vg?new Ut(Jt(b,c,d,f)):new z.Gt(Jt(b,c,d,f));else{var g=b,h=c,k=d,m=f,n=!1;1==g.nodeType&&(h=g.childNodes[h],n=!h,g=h||g.lastChild||g,h=0);var t=z.Mt(g);h&&t.move("character",h);g==k&&h==m?t.collapse(!0):(n&&t.collapse(!1),n=!1,1==k.nodeType&&(k=(h=k.childNodes[m])||k.lastChild||k,m=0,n=!h),g=z.Mt(k),g.collapse(!n),m&&g.moveEnd("character",m),t.setEndPoint("EndToEnd",
g));m=new z.Lt(t,z.Ke(b));m.xa=b;m.Ca=c;m.ta=d;m.Ba=f;b=m}b=a.Ih=b}return b};var bu=function(a){z.yc.call(this);this.GC=z.wt(a);this.cM=z.xt(a);this.NE=z.yt(a);this.bO=z.zt(a)};z.cu=function(){this.Kp=this.cb=this.O=null};var du=function(a){var b=new z.cu;b.O=a;return b};var eu=function(a){for(var b=z.Ke(arguments[0]).body.createControlRange(),c=0,d=arguments.length;c<d;c++)b.addElement(arguments[c]);return du(b)};
var fu=function(a){a.Kp||(a.Kp=a.Zh().concat(),a.Kp.sort(function(a,c){return a.sourceIndex-c.sourceIndex}));return a.Kp};var gu=function(a){this.cb=a.Zh()};var hu=function(a){this.cb=this.ta=this.xa=null;a&&(this.cb=fu(a),this.xa=this.cb.shift(),this.ta=z.lb(this.cb)||this.xa);z.st.call(this,this.xa,!1,!0)};z.iu=function(){this.If=[];this.hm=[];this.kr=this.xm=null};var ju=function(a){var b=new z.iu;b.hm=a;b.If=z.ob(a,function(a){return a.ce()});return b};
var ku=function(a){a.xm||(a.xm=z.vt(a),a.xm.sort(function(a,c){var d=a.Z(),f=a.va(),g=c.Z(),h=c.va();return d==g&&f==h?0:$t(d,f,g,h)?1:-1}));return a.xm};var lu=function(a){this.xA=z.ob(z.vt(a),function(a){return a.wA()})};var mu=function(a){this.ag=null;this.bl=0;a&&(this.ag=z.ob(ku(a),function(a){return z.Od(a)}));At.call(this,a?this.Z():null,!1)};z.nu=function(a){return(a=ut(a||window))&&ou(a)};
var ou=function(a){var b,c=!1;if(a.createRange)try{b=a.createRange()}catch(f){return null}else if(a.rangeCount){if(1<a.rangeCount){b=new z.iu;for(var c=0,d=a.rangeCount;c<d;c++)b.If.push(a.getRangeAt(c));return b}b=a.getRangeAt(0);c=$t(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset)}else return null;return z.pu(b,c)};z.pu=function(a,b){return a&&a.addElement?du(a):Yt(Wt(a),b)};z.qu=function(a){return Yt(Pt(a),void 0)};z.ru=function(a,b){return z.Zt(a,b,a,b)};z.su=function(a){if(a=ut(a||window))if(a.empty)try{a.empty()}catch(b){}else try{a.removeAllRanges()}catch(b){}};
var $t=function(a,b,c,d){if(a==c)return d<b;var f;if(1==a.nodeType&&b)if(f=a.childNodes[b])a=f,b=0;else if(z.mf(a,c))return!0;if(1==c.nodeType&&d)if(f=c.childNodes[d])c=f,d=0;else if(z.mf(c,a))return!1;return 0<(Ho(a,c)||b-d)};z.tu=function(a,b,c){this.sH=a;this.oU=!!c;a&&!b&&this.next()};var uu=function(a,b,c){z.ka(c)||(c=b&&a.childNodes.length?a.childNodes.length-1:0);z.tu.call(this,a.childNodes[c],!0,b)};z.vu=function(a){for(var b;b=a&&1==a.nodeType?z.wu(z.To(new uu(a,!1),z.xu)):null;)a=b;return a};
z.wu=function(a){try{return a.next()}catch(b){return null}};z.xu=function(a){return 1==a.nodeType||3==a.nodeType&&!z.jp(a.nodeValue)};z.yu=function(a,b){var c=z.Do(a);if(a.getElementsByTagName)for(var d in zu)if(a.tagName==d||0<a.getElementsByTagName(d).length)return!1;return!b&&" "==c||z.jp(c)};z.Au=function(a){return a.length||a.childNodes.length};z.Bu=function(a,b){z.B&&z.af(a);a.innerHTML=b};var Cu=function(a){return(a=a.exec(z.Cb))?a[1]:""};z.Du=function(a){z.ru(z.vu(a),0).select()};
z.Eu=function(a,b){var c=a.parentNode,d=z.mb(c.childNodes,a)+(b?0:1),c=z.Fu(c,d,b,!0);z.ru(c.node,c.offset).select()};z.Gu=function(a,b){this.node=a;this.offset=b};z.Fu=function(a,b,c,d){for(;1==a.nodeType;){var f=a.childNodes[b];if(f||a.lastChild)if(f){var g=f.previousSibling;if(c&&g){if(d&&Hu(g))break;a=g;b=z.Au(a)}else{if(d&&Hu(f))break;a=f;b=0}}else{if(d&&Hu(a.lastChild))break;a=a.lastChild;b=z.Au(a)}else break}return new z.Gu(a,b)};var Hu=function(a){return 1==a.nodeType&&!z.Ze(a)};
z.Iu=function(a,b){var c=a?z.H(a):b;z.Q.call(this,c);this.sT=a||this.K().ua().body;this.Qz={};z.Ju.push(this);this.gu=!0};z.Ku=function(a,b){(a.gu=b)?a.gq():z.Lu(a)};
var Mu=function(a){if(!a.ql){var b=a.m(),c=z.Rn(b).x,d=z.$n(b).width;a.Qz={};z.Eb(Nu,function(a){this.Qz[a]=b.style[a]},a);z.Eb(Ou,function(a){this.kc.style[a]=b.style[a]||z.xg(b,a)||z.wg(b,a)},a);z.Gg(a.kc,b.offsetWidth,b.offsetHeight);z.sg(b,{left:c+"px",width:d+"px",cssFloat:"none"});b.parentNode.replaceChild(a.kc,b);a.sT.appendChild(b);b.style.position="fixed";a.mp();z.V.add(b,"goog-scrollfloater-floating");a.ql=!0}};
z.Lu=function(a){if(a.ql){var b=a.m();z.Eb(a.Qz,function(a,d){b.style[d]=a});a.kc.parentNode.replaceChild(b,a.kc);z.V.remove(b,"goog-scrollfloater-floating");a.ql=!1}};var Pu=function(a,b,c){z.Iu.call(this,a,c);this.UT=b;this.tag="";this.dI=100};var Qu=function(a){return a&&z.rb(z.Ju,function(b){return a===b.tag&&b.ql})};var Ru=function(){};var Su=function(a,b){this.W=(0,window.$)(a);this.J=window.$.extend({},this.defaults,b||{});this.yg()};
var Tu=function(a,b){window.$.each(Uu,function(c,d){var f=b&&(null!==b&&d in b?b[d]:void 0);f?f(a,d):a.removeAttribute(d)})};var Vu=function(a,b){(0,window.$)("*",a).each(function(){Tu(this,b)})};var Wu=function(a){a=a.J;var b=a.iU,c=a.qA;return{id:function(a,c){a.id&&!z.y(b,a.id)&&a.removeAttribute(c)},"class":function(a,b){if(a.className)if(c.length){var g=z.V.get(a),g=z.nb(g,z.$o(z.Ba(z.y,c)));g.length&&z.V.remove.apply(null,[a].concat(g))}else a.removeAttribute(b)}}};
var Xu=function(a){z.F.call(this);this.J=window.$.extend(!0,{},this.defaults,a||{});this.fw();this.Ug()};var Yu=function(a,b){a.close();a.dispatchEvent({type:"cancel",data:{originalEvent:b}})};var Zu=function(a,b){z.F.call(this);this.input=a;z.Nb(this.J={},this.defaults,b||{});this.jg=new Xu({Om:this.J.Om,gk:this.J.gk});z.Bc(this,this.jg);this.yg()};var $u=function(a){a=z.L(a.J.ss,a.input);var b;if(a)return b=window.document.createTextNode("@"),z.Ko(b,a),b};
var av=function(a,b){var c;z.A&&(c=z.Qe(window.document),a.input.focus(),window.scrollTo(c.x,c.y));var d;bv?(c=window.getSelection(),d=window.document.createRange(),d.setStartAfter(b),c.removeAllRanges(),c.addRange(d)):3===b.nodeType&&z.ru(b,b.length).select()};var cv=function(a){return a&&"A"===a.nodeName};
var dv=function(a,b,c){var d=window.getSelection();if(b(d.anchorNode.parentNode)){b=d.getRangeAt(0);var f=ev(a);b.insertNode(f);b.selectNode(f);d.removeAllRanges();d.addRange(b);d=window.getSelection().getRangeAt(0);a=fv(a,d);c(a)}};var gv=function(a,b,c){var d=window.document.selection.createRange(),f=d.parentElement();b(f)&&(d.pasteHTML(ev(a).outerHTML),d.moveToElementText(z.L(a.J.ss,a.input)),d.select(),a=fv(a,d),"7.0"===z.Kc&&(a.x-=2),c(a))};
var fv=function(a,b){var c;c=b.getBoundingClientRect();var d;z.B&&(d={width:b.boundingWidth,height:b.boundingHeight},z.Ca(d,c),c=d);d=z.Qe(window.document);var f=z.Rn(a.jg.sc());f.x=c.left-f.x+d.x;f.y=c.top-f.y+d.y;a.J.position.call(a,f,c);return f};var hv=function(a){return a&&1===a.nodeType&&"A"===a.tagName&&z.y(iv,a.className)};var ev=function(a){return z.N("a",{className:a.J.ss,innerHTML:"@"})};
z.jv=function(a,b,c){z.Q.call(this);this.status=this.Tb=null;this.qG=a;this.VI=b;this.rr=c;this.isEnabled=!0;this.QE=!1;this.params=[];this.content=null;this.FB=!1;this.YD=window.$.Deferred()};var kv=function(a){var b=a.Ka;if(b.m)b.on("load",function(){new Su(b.m(),{qA:["video-link"].concat(this.Nu?iv:[])})},!1,a)};var lv=function(a){var b=a.Ka;b.m&&(a=(0,z.q)(function(){new Zu(b.m(),{gk:this.ij})},a),b.tc()?a():b.addEventListener("load",a))};
var mv=function(a){if(a.dispatchEvent("shouldUpdateContent")){var b=a.content,c=a.gd,d=a.bF();a.FB?(z.nf(c,b),c.appendChild(z.Xe(d))):c.innerHTML=b+d;(0,window.$)("img.lazy",c).lazyload({data_attribute:"actualsrc",threshold:400})}};z.nv=function(a,b,c){z.jv.call(this,a,b,c);this.zR="mock"+this.de();this.Ww=!1;this.hw=!0;this.Id=!z.Rm||z.Vl;this.Nu=!1;this.dK=this.cW=!0;this.jz=""};
var ov=function(a,b,c){var d=b.Pb.FullScreenPlugin;if(d){var f=z.$g(c,"toggleFullScreen");d.on("save",a.ks,!1,a).on("willEnterFullScreen",function(){pv(this,!1)},!1,a).on("enterFullScreen",function(){f.wd("退出写作模式")}).on("exitFullScreen",function(){f.wd("写作模式")}).on("shouldExitFullScreenOnEscape",function(){return!b.Tg})}};
var pv=function(a,b){if(a.qg)if(b){z.V.add(a.il,"zm-editable-editor-field-wrap-active");var c=a.qg;c.Ct=z.Rn(c.m()).y;z.Ku(a.qg,!0)}else z.V.remove(a.il,"zm-editable-editor-field-wrap-active"),z.Ku(a.qg,!1)};var qv=function(a){a.hC.toggle();a.nq.toggleClass("no-toolbar")};z.rv=function(){z.U.call(this);this.hE=!0;this.xz=z.S.xz;this.UU=-1===window.location.href.indexOf("psq")};z.sv=function(a,b){a.Fc&&(a.Fc.value=b,a.UH(),a.wI.ZJ(),a.Ma&&a.Ma.Lu())};
var tv=function(a){var b=uv.get("add_question_form_title");b&&z.sv(a,b);(b=uv.get("add_question_form_des"))&&vv(a,b);b=a.J.Dm;b||(b=uv.get("add_question_form_topics"))&&(b=JSON.parse(b));b&&z.w(b,function(b){a.Ma.qm(b)})};
var wv=function(a){function b(){var a=(0,window.$)('\x3cdiv\x3e\x3cdiv style\x3d"text-align:center"\x3e\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\x3c/div\x3e\x3c/div\x3e'),b=(0,window.$)(jq(this)),c=b.data("answer_count"),f=b.data("url_token");window.$.get("/question/"+f+"/answers/summary").done(function(b){if(b&&!b.r){b=d({forEach:z.w,answers:b.msg,question_url_token:f});var g=z.La('\x3cdiv class\x3d"zippy-row"\x3e\x3ca class\x3d"zg-link-litblue" href\x3d"/question/%s"\x3e查看该问题%s\x3c/a\x3e\x3c/div\x3e',
f,0<c?"的全部 "+c+" 个回答":"");a.html(b+g)}else z.W.message(b.msg)});b.after(a);return a.get(0)}var c=(0,z.xv)(a.$p.vI),d=(0,z.xv)(a.$p.jM),f=a.Fc,g=new Qs;a.qC=new z.Ps(f,{source:"/question/autocomplete",pk:z.I("zh-question-suggest-ac-wrap"),td:window.$.noop,render:function(d,f,g){a.sC&&a.sC.H();f=(0,window.$)(d.m());var n=a.sC=new as;f.html(c({forEach:z.w,questions:g,token:(0,window.encodeURIComponent)(this.Ub)}));f.prepend('\x3cdiv class\x3d"ac-head zg-gray"\x3e你的问题可能已经有答案\x3c/div\x3e');(0,window.$)(".ac-row",
f).each(function(){n.Fa(new z.hq((0,window.$)(this).get(0),b,!1))});n.w(d.m())},Hy:g})};var yv=function(a,b){(0,window.$)(a.iV).toggle(!!b);(0,window.$)(a.kR).toggle(!b);b?a.YC.focus():(a.bG(),a.Fc.focus());a.ha()};
var zv=function(a){if(!z.Tj||z.Uj){var b=gq.ba(),c=new z.Xp("",b);c.Rb(32,!1);a.v().g(c,"action",a.eS);c.w(a.EV);c.wd("切换工具栏");c=new z.Xp("",b);c.Rb(32,!1);a.v().g(c,"action",function(){this.Nb.Ka.execCommand("image")});c.w(a.HL);c.wd("添加图片");b=new z.Xp("",b);b.Rb(32,!1);a.v().g(b,"action",function(){this.Nb.Ka.execCommand("video")});b.w(a.IL);b.wd("添加视频")}};
var Av=function(a){a.Ma=new ot;a.Ma.w(a.JV);a.v().g(a.Ma,["add_tag","remove_tag"],a.QH);new z.uk(a.Fc,"写下你的问题");var b=a.yN;a.Nb=new z.nv;a.Nb.jz='\x3cspan style\x3d"font-style: normal;color: #999;"\x3e问题背景、条件等详细信息\x3c/span\x3e';a.Nb.w(b);a.Nb.init();a.Nb.og();z.Tj&&!z.Uj||qv(a.Nb);(0,window.setTimeout)(function(){a.ha()});zv(a);wv(a)};var Bv=function(a,b,c){"title"===c?a.PQ=b:"detail"===c?a.GQ=b:a.QQ=b;a.hE=a.PQ||a.GQ||a.QQ};
var Cv=function(a){(0,window.$)(window).on("beforeunload.AddQuestionForm",(0,z.q)(function(){Dv(this)},a))};var Dv=function(a){a.Fc.value&&uv.set("add_question_form_title",a.Fc.value);var b=a.Nb.Wf();b&&uv.set("add_question_form_des",b);(a=a.Ma.data)&&uv.set("add_question_form_topics",JSON.stringify(a))};var Ev=function(a,b,c){a.mt.innerHTML=b.xe;0===b.level?z.P(a.Yj,!1):(3!==b.level&&(z.P(a.Wq,!0),z.P(a.cn,!1)),z.P(a.Yj,c),c&&a.Fc.focus())};
var Fv=function(a){var b=z.nr(a.Fc.value).replace(/？/g,"?"),c=Gv(a);1<c.level||(1>wr(z.nr(a.Fc.value).replace("？","?"))?(c.xe="您还没有给问题添加问号",c.level=3,c.name="noquestionmark"):1<wr(b)&&(c.xe="如果有多个问题，最好拆分一下",c.level=1,c.name="multiquestionmark"));return c};
var Gv=function(a){var b="#",c=a.Bo||new Hv,d=!1;if(!a.qC||!a.UU)return c;var f=a.qC.Qa;f&&f.length?(z.w(f,function(a){4<a.raw.length&&1===+a.raw[4]&&(d=!0,b="/question/"+a.url_token+"?q\x3d"+(0,window.encodeURIComponent)(this.Fc.value)+"\x26psq\x3d0")},a),d?(c.xe='我们找到了一个也许是你想问的问题，\x3ca href\x3d"'+b+'"\x3e查看问题\x3c/a\x3e',c.level=3,c.name="duplicatedquestion",c.PX=!0,a.cn.href=b,z.P(a.Wq,!1),z.P(a.cn,!0)):(c=new Hv,z.P(a.Wq,!0),z.P(a.cn,!1)),a.Bo=c):(c=new Hv,a.Bo=c,z.P(a.Wq,!0),z.P(a.cn,!1));a.Bo||
(a.Bo=c);return a.Bo};var Iv=function(a){a=z.nr(a.Fc.value).replace(/？/g,"?");a=Br(a);var b=new Hv;3>a?(b.level=3,b.xe="问题字数太少了吧",b.name="tooshort"):40<a&&51>=a?(b.level=1,b.xe='还可以输入 \x3cspan class\x3d"warning"\x3e'+(51-a)+"\x3c/span\x3e 字",b.name="buffer"):51<a&&(b.level=3,b.xe='已超出 \x3cspan class\x3d"error"\x3e'+(a-51)+"\x3c/span\x3e 字",b.name="toolong");return b};var Jv=function(a){a=a.Nb;var b=(0,z.bb)(a.Wf());return a.isContentEditable()?b:z.Na(b)};
var vv=function(a,b){var c=a.Nb;(0,window.setTimeout)(function(){c.ia(b);c.Bp()})};var Kv=function(a){var b=new z.Ar,c=[],d=[];b.add("question_title",a.Fc.value);b.add("question_detail",Jv(a));a.kD&&b.add("anon",a.kD.checked?"1":"0");z.w(a.Ma.data,function(a){a[3]?c.push(a[3]):d.push(a[1])});b.add("topic_ids",c.join(","));b.add("new_topics",d.join("$"));z.mh&&b.add("uid",z.mh[3]);return b};var Hv=function(){this.level=(0,window.isNaN)(void 0)?0:void 0;this.xe=""};var Lv=function(){};
z.Mv=function(a){z.Bk.call(this,"register");this.Kn=a};var Nv=function(a){z.Q.apply(this,arguments)};var Ov=function(){};var Pv=function(){var a=(0,window.$)("#rq3-sidenav-link"),b=(0,window.$)(".tour",a);b.length&&(0,window.$)(".close-button",b).click(function(){var a=(0,window.$)(this).data("feature");window.$.get("/notifeature",{feature:a});b.fadeOut(100,function(){b.remove()})})};
var Qv=function(){var a=(0,window.$)(".zm-side-my-columns");if(a.length){var b=a.find(".column-homepage-link .icon-column-logo"),c=+z.Qh.get("navcolumn:entered");a.on("click",".column-unfold",function(b){a.find(".column-list").append((0,window.$)("#SidebarColumnItem-template").html());(0,window.$)(b.currentTarget).parent().remove()});c||(b.addClass("icon-column-logo-active"),a.on("click",".column-homepage-link",function(){b.removeClass("icon-column-logo-active");z.Qh.set("navcolumn:entered",1)}))}};
var Rv=function(a){z.Q.apply(this,arguments)};z.Sv=function(a){(new window.Image).src=a};var Tv=function(){(0,window.$)(".shameimaru-placeholder").each(function(){var a=(0,window.$)(this),b=Object.assign({},{loc:a.data("loc")},a.data("params"));window.$.get("/node/Banner",b,function(b){b?(b=(0,window.$)(b),a.replaceWith(b),(new Rv).w(b[0])):a.remove()})})};var Uv=function(a){z.Q.apply(this,arguments)};
var Vv=function(a){var b=a.Ff;b.addClass("is-hidden");(0,window.setTimeout)(function(){b.remove()},200)};
var Wv=function(){function a(a,b){a=z.pa(a)?new RegExp(a):a;return a.test(b)}var b;z.Gb({home:"^/$",collection:"^/collection/\\d+$",roundtable:"^/roundtable/[\\w\\.-]+$",answer:"^/question/\\d+/answer/\\d+$",question:"^/question/\\d+$",search:"^/search$",people:"^/people/[\\w\\.-]+$",people_answers:"^/people/[\\w\\.-]+/answers$",explore_recommendations:"^/explore/recommendations$",explore_daily_hot:{path:"^/explore$",hash:"^(?!monthly-hot$)"},explore_monthly_hot:{path:"^/explore$",hash:"^monthly-hot$"}},
function(c,d){c.path&&c.hash?a(c.path,window.location.pathname)&&a(c.hash,window.location.hash.slice(1))&&(b=d):a(c,window.location.pathname)&&(b=d);return!!b});return b};z.Xv=function(a){return"/qrcode?"+window.$.param({url:a+"#showWechatShareTip"})};var Yv=function(){Zv=(0,window.$)(".wechat-share-tip");Zv.on("touchstart click",function(a){a.preventDefault();$v()});"#showWechatShareTip"===window.location.hash&&(aw(),window.location.hash="")};var bw=function(){Zv.length&&(Zv.show(),(0,window.$)(window.document.documentElement).addClass("show-wechat-share-tip"))};
var $v=function(){Zv.onTransitionEnd(function(){Zv.hide()},150);(0,window.$)(window.document.documentElement).removeClass("show-wechat-share-tip")};var aw=function(){var a=Wv();z.xi({category:"share",action:"scan_share_"+a+"_to_wechat_start"})};var cw=function(a){z.Q.apply(this,arguments)};var dw=function(){};
var ew=function(a){var b=(0,window.$)("#zh-feedback-form"),c=(0,window.$)(".zg-report-msg",b),d=(0,window.$)("textarea",b),b=(0,window.$)("select",b);a=a.type||b.val();b=window.$.trim(d.val());if(!b)return c.html("请填写反馈内容").show(),d.focus(),!1;c.hide();c=new z.Z(!0);d=new z.vh;c.on("success",function(){z.W.message("建议发送成功，我们会尽快处理，感谢您的帮助");fw.remove("content")});d.add("type",a).add("content",b);c.ajax("/feedback/report",d.toString())};
var gw=function(a,b){return window.$.post("/node/ColumnFollowBaseV2",{method:b?"follow_column":"unfollow_column",params:{column_id:a}})};var hw=function(a,b){return window.$.post("/roundtable/"+a,{action:b?"follow":"unfollow"})};var iw=function(a){z.F.call(this);this.url=a+"/apilive";this.RT=5E3;this.nU=1E3;this.Dw=0;jw(this)};
var jw=function(a){a.client=new window.WebSocket(a.url);a.client.onmessage=function(b){try{a.dispatchEvent({type:"message",data:b.data})}catch(c){}};a.client.onclose=function(){(0,window.setTimeout)(function(){a.Dw<a.nU&&(jw(a),a.Dw+=1)},a.RT)};a.client.onerror=function(){a.client.close()}};var kw=function(a){z.Nb(this.J={},this.defaults,a||{});this.gc()};var lw=function(a){return mw.every(function(b){return a[b]})};var nw=function(a,b){return mw.every(function(c){return a[c]===b[c]})};
var ow=function(a){return window.$.extend({},{key:a.key},a.Tb)};var pw=function(a,b){a.every(function(a){return!nw(a,b)})&&a.push(b);return a};var qw=function(a,b){var c=a[b.group];c?c.push(b):a[b.group]=[b];return a};
var rw=function(){var a=Xo(z.Zm.map(function(a){return z.Hb(Nn(a.Uk))})).map(ow).filter(lw).reduce(pw,[]).reduce(qw,{}),b=['\x3cdiv class\x3d"shortcut-tips"\x3e'],c={sU:/([^\s+])+|([\s+])/g,hO:function(a){return a.replace(this.sU,function(a,b){return b?"\x3ckbd\x3e"+a+"\x3c/kbd\x3e":" "+a+" "})}};z.Eb(a,function(a,f){b.push('\x3cdiv class\x3d"group"\x3e\x3ch2\x3e',f,"\x3c/h2\x3e\x3cdl\x3e");z.w(a,function(a){b.push("\x3cdt\x3e",c.hO(a.key),"\x3c/dt\x3e");b.push("\x3cdd\x3e",a.name,"\x3c/dd\x3e")});
b.push("\x3c/dl\x3e\x3c/div\x3e")});b.push("\x3c/div\x3e");return b.join("")};z.sw=function(a){return tw("common").then(function(){return tw(a)})};var uw=function(){var a=z.S;return{signedIn:a.pb(),currentUser:{email:a.Dn,activated:a.pe},authRequired:z.Eq}};var vw=function(a,b){ww.push([a,z.qa(b)?b:2]);ww.sort(function(a,b){return a[1]-b[1]})};var xw=function(){Fq.call(this);this.queue=[]};var yw=function(){xw.call(this);this.ox=0};var zw=function(a){return Math.pow(a,3)};
var Aw=function(a){return 1-Math.pow(1-a,3)};var Bw=function(a){return 3*a*a-2*a*a*a};var Cw=function(){z.F.call(this);this.h=null;this.yR=768;this.lx=this.zU=300;this.ao=!0;this.Nv=!1;this.xV=150};var Dw=function(){};var Ew=function(){z.F.call(this)};z.Fw=function(a){a.ak=new z.Z(!1);a.v().ya(a.ak,"success",a.vS);a.ak.ajax("/noti7/new?r\x3d"+ +new Date,null,"GET")};
var Gw=function(){if(Hw)(0,window.$)(window.document).on("click.tabless","a:not(#js-openInApp)",function(a){this.host===window.location.host&&"_blank"===a.currentTarget.target&&(a.currentTarget.target="")})};var Iw=function(){};z.Jw=function(a,b,c){this.element=a;this.Ye=b;this.nT=c};var Kw=function(a,b){this.Qh=a instanceof z.He?a:new z.He(a,b)};var Lw=function(a,b){this.dA=4;this.Lt=b||void 0;z.Gn.call(this,a)};
z.Mw=function(a,b){a.mz=null==b||b instanceof z.qg?b:new z.qg(b,void 0,void 0,void 0);a.V()&&a.ha()};z.Nw=function(a,b,c){this.da=c||(a?z.H(z.I(a)):z.H());Lw.call(this,this.da.B("DIV",{style:"position:absolute;display:none;"}));this.bj=new z.He(1,1);this.cb=new Qo;this.xk=null;a&&this.attach(a);null!=b&&z.nf(this.m(),b)};var Ow=function(a,b){z.nd(b,"mouseover",a.md,!1,a);z.nd(b,"mouseout",a.El,!1,a);z.nd(b,"mousemove",a.Cl,!1,a);z.nd(b,"focus",a.ee,!1,a);z.nd(b,"blur",a.El,!1,a)};
var Pw=function(a,b){var c=z.wf(a.da);a.bj.x=b.clientX+c.x;a.bj.y=b.clientY+c.y};var Qw=function(a,b){try{for(;b&&!a.cb.contains(b);)b=b.parentNode;return b}catch(c){return null}};var Rw=function(a,b){if(0==b){var c=a.bj.clone();return new Sw(c)}return new Tw(a.$b)};var Uw=function(a){if(a.anchor)for(var b,c=0;b=Vw[c];c++)z.mf(b.m(),a.anchor)&&(b.Zk=a,a.gI=b)};var Ww=function(a,b,c){a.vm||(a.vm=z.wd((0,z.q)(a.oz,a,b,c),a.Hp))};var Xw=function(a){a.vm&&(z.xd(a.vm),a.vm=void 0)};
var Sw=function(a,b){Kw.call(this,a,b)};var Tw=function(a){z.Jw.call(this,a,3)};var Yw=function(a,b,c){z.Nw.call(this,a,b,c)};z.Zw=function(a,b){a.eo=b||null};var $w=function(a,b){if(a.Lv&&a.Lv.contains(b)||a.Hs(b))return!0;var c=a.Zk;return!!c&&c.Hs(b)};z.ax=function(a,b,c,d){z.Nw.call(this,null,null,c);z.sa(a)?this.Ly=a:this.HC=a;this.LM=0!=b;this.iB=[];this.Ia=d||(c?c.ua():window.document);z.E(this.Ia,"mouseover",this.GF,!1,this)};
var bx=function(a,b,c){if(b==a.Mf)a.$i();else if(b!=a.anchor){if(1==a.getState()||4==a.getState())Xw(a),cx(a);var d=new dx("trigger",a,b,void 0);a.Zh().contains(b)||(a.attach(b),a.iB.push(b));a.anchor=b;a.Lz(d)?Ww(a,b,c||a.Lt):cx(a)}};var ex=function(a,b){var c=z.mb(a.iB,b);-1!=c&&(a.detach(b),a.iB.splice(c,1))};var cx=function(a){a.dispatchEvent(new dx("canceltrigger",a,a.anchor||null));ex(a,a.anchor);delete a.anchor};var dx=function(a,b,c,d){z.Mc.call(this,a,b);this.anchor=c;this.data=d};
var fx=function(a,b,c){z.Jw.call(this,a,b);this.zC=c};var gx=function(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};z.hx=function(a){a=void 0===a?{}:a;z.F.call(this);this.hq=!0;this.Cm=this.Sp=-1;this.HJ="";this.Ga=null;Object.assign(this.J={},this.defaults,a);this.J.Pk&&(this.ls=z.Eq(this.ls,this.J.Pk))};z.ix=function(a,b){a.yh.innerHTML+='\x3ca class\x3d"zm-profile-email-history-link" href\x3d"'+b+'"\x3e私信记录  »\x3c/a\x3e'};
z.jx=function(a,b,c,d){-1===b?z.qr(a.Zc,a.yh):b!==z.S.cg&&(a.Cm=b,a.HJ=c,a.yh&&a.Zc&&(a.yh.innerHTML=a.HJ+(d?pr():""),z.qr(a.yh,a.Zc),a.Zc.value=""))};var kx=function(a,b){a.mt.innerHTML=b;z.P(a.mt,!0)};var lx=function(){z.F.call(this);this.cV=this.YP=250;this.Jh={};this.init()};var mx=function(a,b){return'\x3cdiv class\x3d"popover-content no-hovercard"\x3e'+a+"\x3c/div\x3e"+('\x3cdiv class\x3d"arrow"\x3e\x3c/div\x3e\x3cdiv class\x3d"arrow2'+(b?" loading":"")+'"\x3e\x3c/div\x3e')};
var nx=function(a){var b;switch(a.cl){case "t":b=5;break;case "r":b=4;break;case "b":b=4;break;case "l":b=6}a=a.S;a.dA=b;a.V()&&a.ha()};var ox=function(a,b,c,d){var f=a.Jh[b]&&a.Jh[b][c];if(f)px(a,mx(f));else if(f=qx[b])window.$.get("/node/"+f,{params:{url_token:c}},(0,z.q)(function(a){rx(this,a,b,c)},a)),px(a,a.ew(d))};var rx=function(a,b,c,d){a.Nf===c&&a.yn===d&&rx(a,b);a.Jh[c]=a.Jh[c]||{};a.Jh[c][d]=b;nx(a);px(a,mx(b));bx(a.S,a.WD,a.cl)};var px=function(a,b){a.S.Pd(b);a.S.setPosition(a.mN)};
var sx=function(a){z.Q.call(this);this.options=window.$.extend({stopPropagation:!0,wM:"#000",Uv:.5,bN:"#666",yD:.2,top:2,width:6,right:2,tM:!0},a);this.wz=0;this.Dr=!1};var tx=function(a){a.tm&&(a.me.stop().css({opacity:a.options.Uv}).show(),a.Ym&&((0,window.clearTimeout)(a.Ym),a.Ym=!1))};var ux=function(a,b){b=b||0;a.Ym=(0,window.setTimeout)((0,z.q)(function(){this.me.stop().fadeOut();this.Ym=!1},a),b)};
var vx=function(a,b){var c=a.ed.height()-2*a.options.top-a.me.height(),d=a.Qe.height()-a.ed.height();return b/c*d};var xx=function(a,b,c){z.Mc.call(this,"scroll",a);this.scrollTop=b;this.ZI=c};z.yx=function(a){z.Q.call(this);this.J=window.$.extend({},this.defaults,a||{})};
var zx=function(){z.F.call(this);this.Lf=[0,0,0];this.wH=[0,0,0];this.types=["default","follow","vote_thank"];this.wE=!z.qm.Ab;this.cK=z.qm.Ab||null!=window.navigator.userAgent.match(/iPad/i);this.cache=[!1,!1,!1];this.uj=[null,null,null];this.Oo=[0,0,0];this.um=[!1,!1,!1]};
var Ax=function(a){a.tab=new z.yx({oH:".zm-noti7-popup-tab-item",fI:".zm-noti7-content",zg:"current"});a.v().g(a.tab,"action",function(a){this.UD=a=a.data.index;Bx(this,a);var c=this.mg&&this.mg[a];c&&((0,window.setTimeout)(function(){c.update()}),this.tab.index()===a&&c.scrollTop())}).g(a.tab,"select",function(a){this.UD=a=a.data.index;Cx(this,a);z.X.zb({type:"ga_click_top_nav_noti_tab",data:{tab:+a}});this.Td||z.Qh.set("noti7-tab",a)});a.tab.w(a.pi)};
var Dx=function(a){var b=void 0,c=void 0,d=z.Kr(100,function(c,d){var h=d.target;200>("number"===typeof d.ZI?d.ZI:h.scrollHeight-h.offsetHeight-h.scrollTop)&&a.fz(c).then(function(a){a||z.od(b[c])},window.$.noop)}),c=a.cK?a.contents:a.mg,b=z.ob(c,function(a,b){return z.E(a,"scroll",(0,z.q)(d,void 0,b))})};var Cx=function(a,b){a.mg&&z.w(a.mg,function(a,d){b===d?a.enter():a.$w&&(a.v().removeAll(),a.Qd&&a.Qd.stop(),a.$w=!1)})};var Ex=function(a){a=z.Yo(a.Lf,On);return-1===a?0:a};
var Fx=function(a){if(!z.tm){var b=Gx(a.Td);a=Gx(a.YF);var c="";b&&a?c="("+a+" 封私信 / "+b+" 条消息) ":b?c="("+b+" 条消息) ":a&&(c="("+a+" 封私信) ");window.document.title=c+window.document.title.replace(/^(\(|\uff08)(\d)*(\+)?( )?(\u5c01\u79c1\u4fe1)?( \/ )?(\d)*(\+)?( )?(\u6761\u6d88\u606f)?(\)|\uff09)( )?/g,"")}};var Hx=function(a,b){a.Td-=a.Lf[b];a.hv.eq(b).removeClass("withdot");0>a.Td&&(a.Td=0);z.P(a.rn,!!a.Td);a.rn.innerHTML=a.Td};
var Bx=function(a,b){a.wE?a.visible&&(a.cache[b]?("$$used$$"!==a.cache[b]&&(a.uw[b].innerHTML=a.cache[b],a.cache[b]="$$used$$"),a.Lf[b]&&Ix(a.types[b]),Hx(a,b),a.mg&&a.mg[b].update().scrollTop(),a.Td||z.Qh.set("noti7-tab",b)):(a.um[b]=!0,a.yl(b))):a.cache[b]?("$$used$$"!==a.cache[b]&&(a.uw[b].innerHTML=a.cache[b],a.cache[b]="$$used$$"),a.Lf[b]&&Ix(a.types[b]),Hx(a,b)):(a.um[b]=!0,a.yl(b),Ix(a.types[b]))};
var Jx=function(a,b){b?a.cC.fadeIn(50):a.cC.fadeOut(50);a.visible=b;z.V.enable(a.pi,"open",a.visible);z.V.enable(a.Xp,"open",a.visible);if(b){a.pi.focus();z.w(a.cache,function(a,b){a||this.yl(b)},a);a.v().g(window.document,"click",a.cs);var c;a.Td?(c=Ex(a),a.tab.select(c),a.um[c]=!0):(c=Kx(),a.yw||(a.tab.select(c),a.um[c]=!0));Cx(a,c);z.X.zb({type:"ga_click_top_nav_noti",data:{tab:a.UD,WJ:+(a.Td||0)}})}else a.v().qa(window.document,"click",a.cs),Cx(a,-1)};
var Ix=function(a){(new z.Z(!1)).ajax("/noti7/readall","tab\x3d"+a,"POST")};var Kx=function(){var a=z.Qh.get("noti7-tab");return a?+a:0};var Gx=function(a){return 99<a?"99+":a};var Lx=function(a){z.Q.call(this);window.$.extend(this.J={},this.defaults,a||{})};
var Mx=function(a){var b=a.ug,c=a.dd,d=c.attr("id");d||(d=z.Xg(z.Wg.ba()),c.attr("id",d),b.attr("aria-labelledby",d));c.attr("role")||c.attr("role","button");a.dd.attr("aria-haspopup","true").attr("aria-activedescendant","");a.ug.children().find("a").attr("tabindex",-1).attr("id",(0,z.q)(function(a,b){return b||z.Xg(z.Wg.ba())},a))};var Nx=function(a,b){var c=a.ug.children().find("a"),d=c.size();b>=d?b=0:-1>=b&&(b=d-1);c=c.eq(b);a.dd.attr("aria-activedescendant",c.attr("id"));c.focus();a.index=b};
var Ox=function(a){z.Q.apply(this,arguments)};var Px=function(a,b){if(!a.metaKey)try{z.Qh.set("query",a.ca.Ub)}catch(c){b+="?q\x3d"+(0,window.encodeURIComponent)(a.ca.Ub)}return b};var Qx=function(){z.F.call(this)};
var Rx=function(){var a=(0,window.$)("#js-top-nav-link-profile"),b=(0,window.$)("#mobile-top-nav-profile-popup");if(z.Tj&&b.length&&b.children("ul").length){var c=function(c){c=c.target;b[0].contains(c)||c.contains(a[0])||d()},d=function(){a.parent().removeClass("open");b.hide();(0,window.$)(window.document.body).off("mousedown",c)};a.click(function(f){f.preventDefault();b.is(":visible")?d():(a.parent().addClass("open"),b.show(),(0,window.$)(window.document.body).mousedown(c))}).attr("href","javascript:;");
b.find(".slide-up").click(d)}};var Sx=function(){z.Q.call(this)};var Tx=function(){z.Aj.call(this,null,!1);this.aD="zh-lightbox-showing";this.zV="zh-lightbox-thumb";this.gc()};var Dr=function(){if(window.console){var a=Array.from(arguments);a.unshift("["+(new Date).toLocaleTimeString()+"]:\t");window.console.log.apply?window.console.log.apply(window.console,a):window.console.log(a[0],a.slice(1).join(","))}};z.Ux=function(a,b,c,d){z.Jw.call(this,a,b);this.Ao=c?5:0;this.Sz=d||void 0};
var Vx=function(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};var Wx=function(){};var Xx=function(a,b,c){Qp.call(this,a,c||Wx.ba(),b);this.Rb(1,!1);this.Rb(2,!1);this.Rb(4,!1);this.Rb(32,!1);this.N=1};var Yx=function(){this.mw=[]};var Zx=function(a,b){var c=a.mw[b];if(!c){switch(b){case 0:c=a.U()+"-highlight";break;case 1:c=a.U()+"-checkbox";break;case 2:c=a.U()+"-content"}a.mw[b]=c}return c};var $x=function(a,b,c){a=Zx(a,2);return c.B("DIV",a,b)};
var ay=function(a,b){var c=a.R(b);if(c){var c=c.firstChild,d=Zx(a,1);return!!c&&z.kf(c)&&z.fj(c,d)}return!1};var by=function(a,b,c,d){Ip(a,c,b.ci());Jp(a,b,c);d!=ay(a,c)&&(z.po(c,"goog-option",d),c=a.R(c),d?(a=Zx(a,1),c.insertBefore(b.K().B("DIV",a),c.firstChild||null)):c.removeChild(c.firstChild))};z.cy=function(a,b,c,d){Qp.call(this,a,d||Yx.ba(),c);this.Da(b)};var dy=function(){};z.ey=function(a,b){Qp.call(this,null,a||dy.ba(),b);this.Rb(1,!1);this.Rb(2,!1);this.Rb(4,!1);this.Rb(32,!1);this.N=1};
var fy=function(a){this.Qv=a||"menu"};z.gy=function(a){z.ey.call(this,dy.ba(),a)};z.hy=function(a,b){z.Sr.call(this,iy,b||fy.ba(),a);this.Ne(!1)};var jy=function(a,b,c,d){z.Ux.call(this,a,b,c||d);(c||d)&&this.pm(65|(d?32:132))};var ky=function(){};var ly=function(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var f=c.nodeValue;if(""==(0,z.bb)(f))a.removeChild(c);else{c.nodeValue=b?z.gp(f):z.fp(f);break}}else break;c=d}};
var my=function(){};var ny=function(a,b,c){return c.B("DIV","goog-inline-block "+(b+"-caption"),a)};z.oy=function(a,b,c,d,f){z.Xp.call(this,a,c||my.ba(),d);this.Rb(64,!0);this.Vj=new jy(null,5);b&&this.oh(b);this.dH=null;this.ma=new z.ud(500);!z.Ti&&!z.Uj||z.D("533.17.9")||(this.Js=!0);this.tR=f||fy.ba()};var py=function(a){a.dH=new z.qg(7,0,7,0)};z.qy=function(a){a.Vj.pm&&a.Vj.pm(33)};
var ry=function(a){if(a.ka.wa){var b=a.Vj;a.Vj.element=a.zT||a.m();var c=a.ka.m();a.ka.V()||(c.style.visibility="hidden",z.P(c,!0));!a.Dt&&a.Vj.Pn&&a.Vj.Pn()&32&&(a.Dt=z.Ig(c));b.ha(c,b.Ye^1,a.dH,a.Dt);a.ka.V()||(z.P(c,!1),c.style.visibility="visible")}};var sy=function(a,b,c){var d=a.v();c=c?d.g:d.qa;c.call(d,b,"action",a.Yn);c.call(d,b,"close",a.Rx);c.call(d,b,"highlight",a.Wx);c.call(d,b,"unhighlight",a.ey)};var ty=function(a,b){var c=a.v();(b?c.g:c.qa).call(c,a.m(),"keydown",a.hP)};
var uy=function(a,b){var c=a.m(),d=z.dj(b,"activedescendant"),d=z.Ke(b).getElementById(d)||b;if(!d.id){var f=z.Wg.ba();d.id=z.Xg(f)}ro(c,d);z.bj(c,"owns",d.id)};var vy=function(a,b){this.Qh=a instanceof z.He?a:new z.He(a,b)};var wy=function(a,b){vy.call(this,a,b)};z.xy=function(a,b){z.hy.call(this,a,b);this.Tm=!0;this.Ne(!0);this.G(!1,!0);this.Bf=new z.Sd};
z.yy=function(a,b,c,d,f){var g=a.V();a.rG()&&a.FV?a.hide():(a.Mf=f||null,a.dispatchEvent("beforeshow")&&(c="undefined"!=typeof c?c:4,g||(a.m().style.visibility="hidden"),z.P(a.m(),!0),b.ha(a.m(),c,d),g||(a.m().style.visibility="visible"),a.ub(-1),a.G(!0)))};var zy=function(a,b){for(var c=a.Bf.kd(),d=0;d<c.length;d++){var f=a.Bf.get(c[d]);if(f.h==b.currentTarget){a.pJ(f,b.clientX,b.clientY);b.preventDefault();b.stopPropagation();break}}};var Ay=function(){this.mw=[]};
var By=function(a,b,c){var d=b.K().B("SPAN");d.className="goog-submenu-arrow";Cy(b,d);a.R(c).appendChild(d)};var Cy=function(a,b){a.qd()?(z.gj(b,"goog-submenu-arrow-rtl"),z.nf(b,a.Fq?"◄":"►")):(z.ij(b,"goog-submenu-arrow-rtl"),z.nf(b,a.Fq?"►":"◄"))};var Dy=function(a,b,c,d){z.cy.call(this,a,b,c,d||Ay.ba())};var Ey=function(a){a.Xd&&z.xd(a.Xd);a.OA&&z.xd(a.OA)};var Fy=function(a){z.ch(a.getParent(),function(a){a!=this&&"function"==typeof a.Fg&&(a.Fg(),Ey(a))},a)};
var Gy=function(a,b){!b&&a.Xa()&&a.Xa().ub(-1);a.dispatchEvent(to(64,b));var c=a.Xa();b!=a.pz&&z.po(a.m(),"goog-submenu-open",b);if(b!=c.V()&&(b&&(c.wa||c.render(),c.ub(-1)),c.G(b),b)){var c=new z.Ux(a.m(),a.Fq?6:4,a.MQ),d=a.Xa(),f=d.m();d.V()||(f.style.visibility="hidden",z.P(f,!0));c.ha(f,a.Fq?4:6);d.V()||(z.P(f,!1),f.style.visibility="visible")}a.pz=b};var Hy=function(a,b,c){var d=a.v();(c?d.g:d.qa).call(d,b,"enter",a.ZR)};
z.Iy=function(){z.F.call(this);this.sa=null;this.Va=0;this.dz=[];this.Zs=[];this.oB="最多输入 20 字";this.Nw="最多输入 256 字"};var Jy=function(a,b,c){a.sa||(a.sa=new z.U(null),z.Kj(a.sa,null),a.sa.La(b||""),c&&(a.sa.R().innerHTML=c),a.v().g(a.sa,"afterhide",a.Uh))};
var Ky=function(a,b,c){var d=z.I("zh-fav-list-item-place-holder");d&&z.P(d,!1);a.gA=b[5]?"":z.N("span","zm-fav-list-item-lock",[z.N("i","icon icon-lock")]);d=z.N("span","zm-favo-list-item-title");z.nf(d,b[1]);d=z.N("a",{"class":"zg-r5px zm-favo-list-item-link",href:"javascript:;"},[a.gA,d,z.N("span",{className:"meta zg-gray",innerHTML:'\x3cspan class\x3d"num"\x3e'+b[3]+'\x3c/span\x3e 条答案 \x3cspan class\x3d"zg-bull"\x3e•\x3c/span\x3e '+b[4]+" 人关注"})]);a.gA&&a.gA.setAttribute("data-tip","s$t$私密收藏夹");
d.setAttribute("data-lid",b[0]);z.y(a.Zs,b[0])&&z.V.add(d,"zm-favo-list-item-link-active");b=z.L("zm-favo-list-item-link",a.$g);c&&b?z.bf(d,b):a.$g.appendChild(d)};var Ly=function(a,b){if(a.Va!==b&&a.$g){var c=z.Lo("zm-favo-list-item-link",a.$g);z.w(c,function(a){z.V.remove(a,"zm-favo-list-item-link-active")},a)}a.Va=b};
z.My=function(a,b,c,d){var f=z.I("zh-fav-head-title"),g=z.I("zh-fav-head-description-source");b=b||(f?z.pf(f):"");c=c||(g?z.pf(g):"");a.RD=d||z.lh;Ny(a);a.bc();Oy(a,1);z.P(a.$A,!1);a.cr.innerHTML="取消";a.zv.innerHTML="保存";a.sa.La("编辑收藏夹");a.ii.value=mo(b);a.Sj.value=mo(c);a.RD[1]?(z.P(a.tI,!1),z.P(a.rI,!1),z.P(a.DG,!1)):(z.P(a.tI,!0),z.P(a.rI,!0),z.P(a.DG,!0),a.vG.setAttribute("checked",!0));a.nQ=Py(a);a.sa.G(!0);a.Ql=!0};
var Qy=function(a){var b=z.Lo("zm-favo-list-item-link",a.$g);z.w(b,function(a){var b=a.getAttribute("data-lid");z.V.remove(a,"zm-favo-list-item-link-active");z.y(this.Zs,+b)&&z.V.add(a,"zm-favo-list-item-link-active")},a)};var Ny=function(a){a.EN?Qy(a):a.B()};
var Oy=function(a,b){var c=!!b;a.sa.La(0===b?"添加到收藏夹":"创建新收藏夹");z.P(a.aR,!c);z.P(a.yx,c);(0,window.$)(a.ax).text("").hide();new z.uk(a.ii,a.oB);new z.uk(a.Sj,a.Nw);if(1===b)(0,window.$)(a.yx).on("change.FavoDiag","input, textarea, select",function(){a.Jg()});else(0,window.$)(a.yx).off("change.FavoDiag"),a.Uh()};var Py=function(a){var b=new z.Ar,c=z.nr(a.ii.value),d=z.Oa(a.Sj.value===a.Nw?"":a.Sj.value);d||(d=-1);b.add("title",c);b.add("description",d);b.add("is_public",a.wG.checked?1:0);return b};
var Ry=function(a){a.sa.G(!1);a.dispatchEvent(Sy);z.X.zb({type:"ga_click_collect_answer",data:{count:(0,window.$)(".zm-favo-list-item-link-active",a.$g).length}})};var Ty=function(a,b,c,d){(0,window.$)(c).addClass("btn-pending").text(d?"保存中":"创建中");a.v().ya(b,"complete",function(){(0,window.$)(c).removeClass("btn-pending").text(d?"保存":"确认创建")})};var Uy=function(a,b,c){c=c||(b?"保存失败，请重试":"创建失败，请重试");(0,window.$)(a).text(c).show()};
var Vy=function(a,b){z.xi({category:"collect",action:a,label:-1<window.location.pathname.indexOf("collection")?"collections_sidebar_create_collection":"collect_answer_box",attributes:b})};z.Wy=function(a,b,c){z.cy.call(this,a,b,c);this.zp(!0)};var Xy=function(a){z.Q.call(this);this.Gh=a;this.xD=null;this.$z=[]};var Yy=function(a,b){z.Eb(Zy,function(a,d){var f=new z.Wy(a);f.Da(d);f.Jc(d===this.xD);this.$z.push(f);b.Fa(f)},a)};
var $y=function(a){z.W.confirm("你确定要删除自己的答案吗？","答案内容不会被永久删除，你还可以撤消本次删除操作。",function(b){b&&window.$.post("/answer/remove",{aid:a.Gh.ib}).then(function(){return a.Gh.Bj()})})};var az=function(a){var b=null;try{b=a.cssRules||a.rules}catch(c){if(15==c.code)throw c.styleSheet=a,c;}return b};
var bz=function(a){var b=[];a=a||window.document.styleSheets;var c=z.ka(void 0)?void 0:!1;if(a.imports&&a.imports.length)for(var d=0,f=a.imports.length;d<f;d++)z.xb(b,bz(a.imports[d]));else if(a.length)for(d=0,f=a.length;d<f;d++)z.xb(b,bz(a[d]));else{var g=az(a);if(g&&g.length)for(var d=0,f=g.length,h;d<f;d++)h=g[d],h.styleSheet&&z.xb(b,bz(h.styleSheet))}!(a.type||a.rules||a.cssRules)||a.disabled&&!c||b.push(a);return b};var cz=function(){this.Bn="";this.mh=[]};
var dz=function(a,b,c){var d=[],f;for(f in b){var g=b[f];g&&d.push(f,":",g,c?" !important":"",";")}a.Bn=d.join("")};var ez=function(a){this.Kv={};if(a){var b=[];a=a.split(/\s+/gm);for(var c=0;c<a.length;c++)if(a[c]){var d=new fz(a[c]);b.push(d)}this.oi=b}};
var fz=function(a){var b=gz[a];if(b)return b;for(var b=a.match(/[#\.]/)?a.split(/(?=[#\.])/):[a],c={},d=0;d<b.length;d++){var f=b[d];"."==f.charAt(0)?c.className=f.substring(1,f.length):"#"==f.charAt(0)?c.id=f.substring(1,f.length):c.tagName=f.toUpperCase()}this.fG=a;this.oR=c;this.CJ={};gz[a]=this};
var hz=function(a,b){var c=b.uid,d=a.CJ[c];if("undefined"!=typeof d)return d;var f=a.oR,d=f.tagName,g=f.className,f=f.id,h=!0;d&&"*"!=d&&d!=b.nodeName?h=!1:f&&f!=b.id?h=!1:g&&!b.QM[g]&&(h=!1);return a.CJ[c]=h};var iz=function(a){var b=z.ua(a),c=jz[b];if(c)return c;c=[];do{var d={id:a.id,nodeName:a.nodeName};d.uid=z.ua(d);var f={};if(a.className)for(var g=z.ej(a),h=0;h<g.length;h++)f[g[h]]=1;d.QM=f;c.unshift(d)}while(a=a.parentNode);this.tH=c;this.uid=z.ua(this);jz[b]=this};
z.kz=function(){z.F.call(this);this.dc=this.Aq()};var lz=function(a,b,c,d,f){this.IE=a;this.VA=b;this.Uq=c;this.LE=d;this.kx=f||{}};var mz=function(a,b){this.nW=a;this.ND=b};
var nz=function(a,b,c,d){var f=[];a.Uq&&a.VA&&f.push("\x3c!DOCTYPE HTML\x3e");f.push('\x3chtml style\x3d"background:none transparent;min-width:0;');a.Uq&&f.push("height:",a.LE?"100%":"auto");f.push('"\x3e');f.push("\x3chead\x3e\x3cstyle\x3e");c&&c.ND&&f.push(c.ND);z.A&&a.VA&&f.push(" img {-moz-force-broken-image-icon: 1;}");f.push("\x3c/style\x3e\x3c/head\x3e");f.push('\x3cbody g_editable\x3d"true" hidefocus\x3d"true" ');z.oz&&f.push("contentEditable ");f.push('class\x3d"editable ');f.push('" id\x3d"',
a.IE,'" style\x3d"min-width:0;');z.A&&a.Uq&&(f.push(";width:100%;border:0;margin:0;background:none transparent;",";height:",a.VA?"100%":"auto"),a.LE?f.push(";overflow:auto"):f.push(";overflow-y:hidden;overflow-x:auto"));z.vg&&f.push(";outline:hidden");for(var g in a.kx)f.push(";"+g+":"+a.kx[g]);f.push('"\x3e',b,"\x3c/body\x3e\x3c/html\x3e");a=f.join("");d=d.contentDocument||d.contentWindow.document;d.open();d.write(a);d.close()};
var pz=function(a,b){z.F.call(this);this.Rg=this.id=a;this.eb=null;this.Pb={};this.Ij={};for(var c in z.qz)this.Ij[c]=[];this.al="";this.vk={};this.vk[rz]=1;this.vk[z.sz]=1;this.vr=new Hq(this.kE,tz,this);this.tr={};for(var d in uz)this.tr[uz[d]]=0;z.A&&(this.te=new Hq(this.Wn,vz,this));this.ec=new z.yd(this);this.oW=[];this.Tl=z.wz;this.bm=z.H(b||window.document);this.Hc=this.bm.m(this.id);this.eO=xz;this.Nk=this.bm.Ta()};
var yz=function(a){var b=!(a.ctrlKey||a.metaKey)&&a.keyCode in zz;return(a.ctrlKey||a.metaKey)&&a.keyCode in Az||b};var Bz=function(a,b){a.Tl=2;a.Ea=b;a.eb=z.H(b);b.setAttribute("g_editable","true");z.aj(b,"textbox")};
var Cz=function(a,b){if(9==b.keyCode&&!a.dispatchEvent({type:"beforetab",shiftKey:b.shiftKey,altKey:b.altKey,ctrlKey:b.ctrlKey})||z.A&&b.metaKey&&!z.D(29)&&(37==b.keyCode||39==b.keyCode))return b.preventDefault(),!1;var c;(c=b.charCode)||(c=yz(b)?!0:!(!z.A||b.ctrlKey||b.metaKey||z.A&&!b.charCode));a.Nx=c;a.Nx&&a.Vh();return!0};var Dz=function(a,b,c){var d={};a=a.Tt(8,b||"",d);z.sg(c,d);z.Bu(c,a)};
var Ez=function(a,b){!Fz(a,"selectionchange")&&(Gz[b.keyCode]||(b.ctrlKey||b.metaKey)&&Hz[b.keyCode])&&(a.dispatchEvent("beforeselectionchange"),a.cJ.start())};var Iz=function(a,b){if(!b.altKey){var c=z.Vc?b.metaKey:b.ctrlKey;if(c||Jz[b.keyCode]){var d=b.charCode||b.keyCode;17!=d&&(d=String.fromCharCode(d).toLowerCase(),z.Vc&&z.A&&"`"==d&&" "==b.fc.key&&(d=" "),a.oo(5,b,d,c)&&b.preventDefault())}}};var Kz=function(a){var b;return a.nc()&&(b=a.eb)?(a=b.Ta())&&a.frameElement:null};
z.Lz=function(a){return(a=a.eb&&a.eb.Ta())&&z.nu(a)};z.Mz=function(a,b,c){if(!Fz(a,"selectionchange")){var d=z.Lz(a),d=d&&d.Ob();a.rf=!!d&&z.mf(a.m(),d);a.dispatchEvent("cvc");a.dispatchEvent({type:"selectionchange",VX:b&&b.type});a.oo(4,b,c)}};z.Nz=function(a,b,c){b&&(a.te&&Iq(a.te),a.vk[rz]=1);c&&(z.Oz(a),a.vk[z.sz]=1)};var Pz=function(a,b,c){!b&&a.te&&Iq(a.te);a.vk[rz]=0;a.vk[z.sz]=0;b&&a.Wn();c&&a.kE()};var Fz=function(a,b){return!!a.vk[b]||a.tr[b]&&500>=(0,z.G)()-a.tr[b]};
z.Oz=function(a){a.te&&Iq(a.te);Iq(a.vr)};var Qz=function(a){z.uf(a.target,"A")&&a.preventDefault()};z.Rz=function(a){var b=a.m();if(b){var c=z.vu(b);b==c?z.ru(b,0).select():z.Eu(c,!0);z.Mz(a)}};var Sz=function(a){if(!z.ka(a.Oy)&&(a.Oy=!1,z.B&&a.nc())){for(var b=a.bm.Ta();b!=b.parent;)try{b=b.parent}catch(c){break}b=b.location;a.Oy="https:"==b.protocol&&-1==b.search.indexOf("nocheckhttps")}return a.Oy};z.Tz=function(a,b){pz.call(this,a,b)};
var Uz=function(a){if(a.Ip?0:a.Ip=!0){var b=Kz(a),c=a.m(),d=!1;if(b&&c){var f,g=b.parentNode,h=g.offsetWidth;(0,window.parseInt)(Ao(b,"width"),10)!=h&&(f=z.Qg(c),b.style.width=h+"px",c.style.width=h-f.left-f.right+"px",d=!0);g=g.offsetHeight;a.uo()&&(0,window.parseInt)(Ao(b,"height"),10)!=g&&(f||(f=z.Qg(c)),b.style.height=g+"px",c.style.height=g-f.top-f.bottom+"px",d=!0)}a.Ip=!1;d&&a.dispatchEvent("ifrsz")}};var Vz=function(a){a.m()&&(Uz(a),a.uo()||a.SA())};
z.Wz=function(a,b){var c=a.split("!");this.type=c[0]+"!";this.namespace=c[1];this.xc=new Xz(b)};var Xz=function(a){this.category=a.category;this.action=a.action;this.label=a.label;this.value=a.value};var Yz=function(){z.F.call(this)};z.Zz=function(){z.F.call(this)};var $z=function(a,b,c){window.$.post(a,b).done(function(a){if(a.r)z.W.message(a.msg);else{var b=a.msg;(b=b&&b.redirect)?window.location.href=b:(z.W.message("操作成功！"),c&&c(a))}})};
var aA=function(a,b){var c=window.$.extend({action:"get_member_info",reason:b.value},a.SN);return window.$.post("/manage",c).then(function(a){return z.La("用户已被警告 %s 次，禁言 %s 次",a.warn_num,a.ban_num)})};z.bA=function(a){a=void 0===a?{}:a;"post"===a.type&&(a.type="article");this.type=a.type;this.id=a.id;this.submit=z.Eq(this.submit.bind(this),!0);this.render=z.Eq(this.render.bind(this),!0)};
var cA=function(a){if(a){var b=z.W({title:"举报成功",content:'\x3cp\x3e您的举报正在等待人工审核，我们会在 24 小时内审核完成\x3cbr\x3e处理完成后会「私信」通知您\x3cbr\x3e您也可以进入 \x3ca href\x3d"/community/report"\x3e社区服务中心\x3c/a\x3e 查看实时处理进度\x3c/p\x3e\x3cp style\x3d"margin-top: 1em"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" name\x3d"neverRemind"\x3e不再提醒\x3c/label\x3e\x3c/p\x3e',modal:!0,ha:!0,buttons:{yes:"知道了"}});b.g(z.ok,function(){b.Yh().querySelector("[name\x3dneverRemind]").checked&&window.$.post("/community/report/noti",{cancel:!0})})}else{var c=
z.W({title:"举报成功",content:"您的举报正在等待人工审核，我们会在 24 小时内审核完成",modal:!0,buttons:{}});(0,window.setTimeout)(function(){return c.G(!1)},4E3)}};var dA=function(a){z.Q.call(this);z.Nb(this.J={},this.defaults,a||{});this.Qm=new z.Sd;this.qe=null};var eA=function(a,b){var c=a.J,d=new z.ax(c.trigger,!1,null,b);d.Hp=c.bV;d.bo=c.XP;d.nh(a.Xi);z.E(d,"trigger",function(a){d.setPosition(new z.Jw(a.anchor,1))});z.E(d,"beforeshow",function(a){this.qe=a.target.anchor;this.render()},!1,a);d.className=c.BL;a.bQ=d};
var fA=function(a,b){var c=a.J.RQ,d=z.ff(a.Xi),f=z.rb(d,function(a){return a.getAttribute("data-action")===b});if(!f||z.V.has(f,c))return!1;z.w(d,function(a){z.V.remove(a,c)});z.V.add(f,c);return!0};var gA=function(a,b,c,d){a.Qm.set(b,{name:b,S:c,Kh:d||z.p})};z.hA=function(a){z.Q.call(this);z.Nb(this.J={},this.defaults,a||{})};var iA=function(a){var b=a.J,c=a.h;jA(c);b=kA(c,b.JF);b.length&&(a.dispatchEvent("willScrape"),window.$.when.apply(window.$,b).always(function(){a.dispatchEvent("didScrape")}))};
var lA=function(a,b,c){for(;a&&a!==b;){if(c(a))return a;a=a.parentNode}};var mA=function(a,b){return lA(a,b,function(a){return nA(a)||"CODE"===a.nodeName||"PRE"===a.nodeName})};var nA=function(a){return"A"===a.nodeName};var jA=function(a){var b=z.Eo(a,function(b){return 3===b.nodeType&&!mA(b,a)}),c,d=z.nu(),f=d&&z.wt(d);z.w(b,function(a){var b=a.nodeValue,d=oA(b);d!==b&&(b=z.Xe(d),f===a&&(c=b.lastChild),z.Ko(b,a))});c&&z.Eu(c)};
var kA=function(a,b){var c=z.nb(a.getElementsByTagName("A"),function(a){var b=a.getAttribute("href");if(b=!(!b||"#"===b)&&!a.getAttribute("data-editable")&&z.y(pA,a.protocol))b=z.pf(a),z.Ka(a.href,b)?a=void 0:(a.setAttribute("data-editable",!0),a.setAttribute("data-title",b),a=!0),b=!a;return b});return z.ob(c,function(c){return qA(c.href).done(function(f){rA(a,c,f,b)})})};
var rA=function(a,b,c,d){if(c&&a.contains(b)){d=d||{};var f=function(a,b,c){var d=z.nu();if(d){var f=d.Z(),t=d.va(),x=d.la(),J=d.Ja();z.mf(b,f)&&(f=a,t=0);z.mf(b,x)&&(x=a,J=0);c(function(){f===a&&x===a?z.Eu(a):z.Zt(f,t,x,J).select()})}else c(z.p)};a={link:function(a,b){a.setAttribute("data-editable",!0);b.title===a.href?a.setAttribute("data-title",sA(a.hostname)):(a.setAttribute("data-title",b.title),f(a,a,function(c){z.nf(a,b.title);c()}))},image:function(a,b){var c=window.document.createElement("img");
c.src=b.src;c.setAttribute("data-rawwidth",b.width);c.setAttribute("data-rawheight",b.height);f(c,a,function(b){z.Ko(c,a);b()})}};(d=d[c.type]||a[c.type])&&d(b,c)}};var sA=function(a){return a.split(".").slice(/(.com|.edu|.gov|.net|.org)$/.test(a)?-2:-3).join(".").replace(/^www\./,"")+" 的页面"};var oA=function(a){return a.replace(tA,function(a){z.Ka(a,"http")||(a="http://"+a);return a.link(a)})};
var uA=function(a){var b=new dA({});gA(b,"link","链接",function(a){z.nf(a,a.href)});gA(b,"text","文本",function(a){z.nf(a,a.getAttribute("data-title"))});b.w(a);var c=b.Gx();z.Mw(c,new z.qg(2,0,0,0));z.Zw(c,new z.qg(2,0,0,0));var d=b.v();d.g(c,"beforeshow",function(a){a=a.target.anchor;var c=z.pf(a);c===a.href?fA(b,"link"):(c!==a.getAttribute("data-title")&&a.setAttribute("data-title",c),fA(b,"text"))}).g(c,"beforehide",function(b){if((b=b.target)&&a.contains(b)&&nA(b))return!1});var f;d.g(c,"show",function(a){f=
a.target.anchor;z.V.add(f,"hover")}).g(c,"hide",function(){f&&(z.V.remove(f,"hover"),f=null)});return b};
z.vA=function(a,b,c){z.Q.call(this);this.id=a;this.type=b;this.Ea=null;this.Lg=this.Gt=!1;this.kc="写下你的评论…";this.placeholder='\x3cp style\x3d"color:#999"\x3e'+this.kc+"\x3c/p\x3e";this.Rj="";this.Ha=-1;this.gz=window.$.Deferred().resolve();this.eA=this.bt=null;this.pD="zm-comment-box";this.Rd=null;a=wA[b];if(!a)throw Error("API not found");this.Ag=window.$.extend({},wA._default_,a);this.aj="";z.Nb(this.J={},this.defaults,c||{})};var xA=function(a){return z.Eq(a,!0,function(){return this.aj})};
var yA=function(a,b,c){if(!z.kf(a)||"TEXTAREA"===a.nodeName)return function(){};var d=new z.hA({JF:{image:z.p}});d.w(a);b=(new z.vh).add("type",b+"_comment").add("resource_id",c);var f=new Zu(a,{Om:{source:"/people/autocomplete?"+b.toString()},gk:z.L("zu-main")||window.document.body});new Su(a,{qA:iv});return function(){d.H();f.H()}};z.zA=function(a,b,c){var d=z.L(a.pD,b);c&&(a.Rd=c);d?a.w(d):(a.Gt=!0,a.render(b))};
var AA=function(a){z.Eb({CC:".load-more",pn:".zm-comment-list",wD:".zm-comment-form",Ea:".zm-comment-editable"},function(a,c){this[c]=(0,window.$)(a,this.h)[0]},a)};
var BA=function(a){a.Ea&&a.Ea.setAttribute("aria-label",a.kc);if(z.Rm){var b=a.Ea;b.setAttribute("contentEditable",!0);var c=a.hj={m:function(){return b},tl:function(){return Er(b)?"":b.innerHTML},Pd:function(a,c){b.innerHTML=c},Tf:function(){z.Du(b)}};z.Cc(a,yA(c.m(),a.type,a.id))}else CA(a);a.v().g(a.Ea,["change","keyup"],function(a){27!==a.keyCode&&(z.yu(this.Ea)?this.Rj="":this.Rj=this.Sa())}).g(a.hj.m(),"focus",function(){this.na({action:"click_add_[type]_comment_box"})});DA(a)};
var CA=function(a){var b=z.N("textarea",{placeholder:a.kc,"class":"zm-comment-textarea"});z.Ko(b,a.Ea);new z.Mr(b);a.Ea=b;a.hj={m:function(){return b},tl:function(){return b.value},Pd:function(){b.value="";b.style.height=z.Bg(22,!0)},Tf:function(){b.focus()}}};
var EA=function(a){var b=a.hj,c=b.m();if(b.tl()!==a.placeholder){b.Pd(!1,a.placeholder);var d=["click","focus","keydown"],f=function(){b.Pd(!1,this.Rj||"");this.Ea.lastChild?z.Eu(this.Ea.lastChild):b.Tf();z.nd(c,d,f,!1,this)};z.E(c,d,f,!1,a);var g;window.getSelection?(g=window.getSelection(),g.anchorNode&&z.mf(a.Ea,g.anchorNode)&&g.removeAllRanges()):window.document.selection&&a.Ea.blur()}};var FA=function(a){a.focus();a=z.qu(a);a.collapse();a.select()};
var GA=function(a){var b;(b=z.L("zm-comment-reply-hack"))?(b=z.Xe(z.Fo(b)),z.V.Cv(b,"zm-comment-reply-hack","zm-comment-reply-hacked"),z.cf(b,a)):(b="",z.S.pb()&&(b='\x3cimg class\x3d"avatar" src\x3d"'+z.S.be("is")+'"\x3e'),b=z.Xe('\x3cdiv class\x3d"zm-comment-form expanded"\x3e\x3cdiv class\x3d"zm-comment-editable-wrap"\x3e'+b+'\x3cdiv class\x3d"zm-comment-editable" aria-label\x3d"写下你的回复"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"zm-command zg-clear"\x3e\x3ca href\x3d"javascript:;" class\x3d"zm-comment-submit zg-right zg-btn-blue"\x3e评论\x3c/a\x3e\x3ca href\x3d"javascript:;" class\x3d"zm-comment-close zm-command-cancel"\x3e取消\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e'),
a.appendChild(b));return b};var HA=function(a,b){return z.rb(IA(a),function(a){return a.getAttribute("data-id")===b})};var IA=function(a){return(0,window.$)(a.pn).children(".zm-item-comment").get()};
var JA=function(a){a.v().g(a.h,"click",a.Oa).g(a.Ea,"keydown",a.kS).g(z.xp,"anon_change",a.yj).g(a.hj.m(),["click","focus"],z.Ba(a.qu,!0)).g(a.hj.m(),"focus",z.Ba(a.Ei,"add_comment_start"));a.Ha=Number(a.h.getAttribute("data-count"));(0,window.$)(a.h).on("focusin focusout","."+a.J.sf,function(a){(0,window.$)(this).toggleClass("focusin","focusin"===a.type)});!z.Tj&&a.CC&&(a.eA=jr().then(window.$.proxy(a.SG,a)))};var KA=function(a){0<a.qb()?(a.Rj=a.Sa(),a.qu(!1),EA(a)):a.Rd?a.collapse():a.qu();a.Uh()};
var LA=function(a){if(a.Rd){var b=(0,window.$)(a.Rd);a.$(a.LC).show().css("left",b.position().left+b.width()/2)}};var MA=function(a){if("pending"!==a.gz.state()){a.Gb();a.h.innerHTML=a.sn();a.expand();var b=a.Ag.sj(a.id,a.J.eR).done((0,z.q)(a.aU,a));return a.gz=b}};
var DA=function(a){z.S.pb()?z.S.pe||NA(a,'\x3cdiv class\x3d"activate-mask-tip-comment"\x3e'+(z.S.Dn?"为了正常使用知乎的提问、回答、评论和编辑功能，请验证你的邮箱。":"为了正常使用知乎的提问、回答、评论和编辑功能，请绑定你的手机或邮箱。")+"\x3c/div\x3e",'\x3cdiv class\x3d"zm-command"\x3e\x3ca class\x3d"zg-r3px zg-btn-blue" href\x3d"javascript:;"\x3e我要激活\x3c/a\x3e\x3c/div\x3e'):NA(a,'\x3cdiv class\x3d"signin-mask-tip-comment"\x3e\x3c/div\x3e',null)};
var NA=function(a,b,c){b=(0,window.$)(b);var d=(0,window.$)(c);c?((0,window.$)(".zm-command, .zm-comment-info",a.h).hide(),(0,window.$)(a.Ea).hide().after(d).after(b)):b.insertAfter(a.Ea);a=(0,z.q)(xA(z.p),a);b.on("click",a);d.on("click",a)};var OA=function(a){AA(a);BA(a);EA(a);JA(a);PA(a);LA(a)};var PA=function(a){var b=a.J,c=!a.qb();z.V.enable(a.h,b.Vw,c);c&&a.Ea&&b.autofocus&&a.Jn();a.dispatchEvent("change")};
var QA=function(a,b,c){if(!a.gm||"pending"!==a.gm.state()){var d;z.ta(b)&&(d=b.gU,b=b.content);b=z.Na(b);var f=new z.Sd;f.set(a.type+"_id",a.id);f.set("content",b);d&&f.set("reply",d);b=a.Ag.add(Nn(f));b.done(window.$.proxy(a.wO,a)).done(c);a.gm=b;a.Rj=a.Sa();a.Ei("add_comment_submit")}};var RA=function(a,b){var c=z.Co(b,a.J.sf);(new z.Zz).open(b,{id:c.getAttribute("data-id"),type:"comment"},(0,z.q)(function(){z.O(c);--this.Ha;PA(this)},a))};
var SA=function(a,b){var c=z.Co(b,a.J.sf),d=c.getAttribute("data-id");z.W.confirm("删除评论","你确定要删除这条评论吗？",function(a){a&&TA(this,d,z.Ba(z.O,c))},a)};
var UA=function(a,b){var c=z.Co(b,a.J.sf),d=c.getAttribute("data-id"),f="你确定要删除这条评论吗？",g=(0,window.$)(".zm-item-link-avatar",c).prop("href");g&&(f+='\x3cp class\x3d"js-block" style\x3d"margin-top:.2em;color:#999;visibility:hidden"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox"\x3e同时将此人屏蔽\x3c/label\x3e\x3c/p\x3e',window.$.get(g+"/block",function(a){a.r||a.msg||(0,window.$)(".js-block",h.m()).css("visibility","visible")}));var h=z.W.confirm("删除评论",f,function(a){a&&(a=(0,window.$)(":checkbox",h.m()).prop("checked"),
VA(this,d,Number(a),z.Ba(z.O,c)))},a)};var TA=function(a,b,c){a.Ag.remove(b).done((0,z.q)(function(){z.sa(c)&&c();--this.Ha;PA(this)},a))};var VA=function(a,b,c,d){a.Ag.rM(b,c).done((0,z.q)(function(){z.sa(d)&&d();--this.Ha;PA(this)},a))};var WA=function(a,b){return a&&(b.length?WA(a[b.shift()],b):a)};var XA=function(a,b){z.Q.call(this);this.ib=a;this.entryType=b;this.Oj=!1;this.SC=!0};var YA=function(a){z.S.pb()&&0===ZA(a)&&(0,window.setTimeout)(function(){return a.Jn()})};
var $A=function(a){if(!a.pl&&!z.tm){var b=z.Co(a.h,"zm-item-meta");if(b){var c=z.L("zm-meta-panel",b);c&&(a.pl=new Pu(null,b),a.pl.tag="comment",a.pl.w(c))}}};var aB=function(a,b){a.Rd=b;a.ov=(0,window.$)(b);a.lT=z.pf(a.Rd);a.ov.on("click",function(){YA(a)})};var bB=function(a){a.Oj&&(0,window.$)(".icon-spike",a.h).css("left",a.ov.position().left+a.ov.width()/2).removeClass("hidden")};
var cB=function(a){if(a.Rd)if(a.Oj)kr(a.Rd,"收起评论");else{var b=ZA(a),c=void 0,c=z.qa(b)?0<b?b+" 条评论":"添加评论":a.lT;kr(a.Rd,c)}};var ZA=function(a){var b;if(b=a.Lq)a=a.Lq.store.getState(),b=WA(a,["commentBox","paging","totalCount"]);return b};var dB=function(a,b,c){var d=a.Lq;a=d.store;var f=d.actions,d=d.ActionTypes;/[A-Z]/.test(b[0])?a.dispatch({type:d[b],payload:c}):a.dispatch(f[b](c))};
var eB=function(a,b){z.Q.call(this);window.$.extend(this.options={},fB,b||{});this.state={Rl:!1,Is:!1,Ks:!0,po:!1,Zz:!1};var c=new z.el(this.update,17,this);z.Bc(this,c);this.GJ=(0,z.q)(c.fire,c)};
var gB=function(a){var b=(0,window.$)(a.h),c=(0,window.$)("\x3cdiv\x3e");window.$.each("display position top right bottom left float margin".split(" "),function(a,f){c.css(f,b.css(f))});c.css({visibility:"hidden",width:b.outerWidth(),height:b.outerHeight()}).insertBefore(b);a.kc=c.get(0);b.addClass(a.options.zg);a.ha();a.options.PH.call(a)};
var hB=function(a){if(!window.Modernizr.csstransitions)return gB(a);var b=(0,window.$)(a.h);a.state.po=!0;gB(a);b.css({transition:"none",transform:"translateY("+iB(a)+"px)"});(0,window.setTimeout)(function(){b.css({transition:"",transform:""}).onTransitionEnd(function(){a.onAnimationEnd()},200)})};
var jB=function(a){if(!window.Modernizr.csstransitions)return a.restore();var b=(0,window.$)(a.h);a.state.po=!0;b.css("transform","translateY("+iB(a)+"px)").onTransitionEnd(function(){b.css({transition:"none",transform:""});a.restore();a.onAnimationEnd()},200)};var iB=function(a){var b=(0,window.$)(a.h).outerHeight();return null===a.options.bottom?-(b+a.options.top):b+a.options.bottom};z.kB=function(a){z.Q.call(this);this.entryType=a;this.jb=this.lj=!1;this.Bs=window.setTimeout.bind(window,this.Bs.bind(this))};
var lB=function(a,b){return z.Eq(a,b,function(){return mB(this)})};var nB=function(a){a.g("trackRequested",function(b){b.label=a.hF();b.value=(0,window.$)(a.h).index()+1;z.xi(b)});a.lj&&z.Bn(a.m(),function(){return a.YG()})};var mB=function(a){var b=a.entryType+"-"+a.ib;return(0,window.$)('a[name\x3d"'+b+'"]',a.h).length&&"#"+b};
var oB=function(a){a=(0,window.$)(a);var b={};(0,window.$)("[itemprop]",a).each(function(){var a=(0,window.$)(this);a.is("link, a")?b[a.attr("itemprop")]=a.prop("href"):b[a.attr("itemprop")]=a.attr("content")});(0,window.$)("meta[name]",a).each(function(){var a=(0,window.$)(this);b[a.attr("name")]=a.attr("content")});return b};var pB=function(a){var b=oB(a.h);a.ib=b[a.entryType+"-id"];a.ll=b[a.entryType+"-url-token"];a.Kg=b};
var qB=function(a){if(a.UA)return a.UA;var b=(0,window.$)('meta[itemprop\x3d"ZReactor"]',a.h);b.length||(b=(0,window.$)(a.h).closest(".feed-item").find('meta[itemprop\x3d"ZReactor"]'));b=b.data("meta");a.UA=b&&b.source_type||"";return a.UA};
var rB=function(a){if(a.Xy)return a.Xy;var b=Wv();a.Xy=({home:"feed",search:"search_result_question_answer_tab",explore_daily_hot:"daily_trending",explore_monthly_hot:"monthly_trending",people:"people_profile_activities",people_answers:"people_profile_answers",explore_recommendations:"editor_recommendations"}[b]||b)+({collection:"_feed",roundtable:"_feed",answer:"_more"}[b]||"");return a.Xy};
var sB=function(a){return{promotion_answer:"promote",member_voteup_answer:"someone_vote_up",topic_acknowledged_answer:"from_topic",roundtable_add_answer:"from_roundtable",member_answer_question:"someone_add",member_create_article:"someone_add",member_voteup_article:"someone_vote_up"}[qB(a)]};var tB=function(a){return(0,window.$)(a.CL,a.m())[0]};
z.uB=function(a){return(0,window.$)('\x3cdiv class\x3d"copyright-notification"\x3e\x3cdiv class\x3d"user-image-container"\x3e\x3cimg class\x3d"user-image" src\x3d"'+(a||"")+'"\x3e\x3c/div\x3e\x3cdiv class\x3d"tooltip right noty-tooltip"\x3e\x3cdiv class\x3d"tooltip-arrow arrow"\x3e \x3c/div\x3e\x3cdiv class\x3d"tooltip-inner inner"\x3e 如需转载，请通过私信或评论联系我 \x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')};
var vB=function(a,b){var c=-1,d=-1,f=wB();a.on("mousedown",function(a){3===a.which&&(c=a.pageX,d=a.pageY)});a.on("copy",function(g){var h=z.nu(),k=Math.floor(22*Math.random()+44);if(h&&h.Jd()&&(0,z.bb)(h.Jd()).length>k){g.preventDefault();(0,window.$)(".user-image",f).attr("src",b);g=h.Lx();var h=h.Cx(),k=z.Rn(window).y,m=z.Pe(window).height,n=Uo(k+45+15,Math.min(g.y,h.y)+k,k+m-15),t=Uo(k+45+15,Math.max(g.y,h.y)+k,k+m-15);z.qm.Ab?(m=(z.Pe(window).width-265)/2,g=z.Kl?h.y>g.y?h.y+k+10:g.y+k-10:-1!==
d?d+3:n+(t-n)/2-15):(m=-1!==c?c+3:a.offset().left+a.width()/2-15,g=-1!==d?d+3:n+(t-n)/2-15);f.css({position:"absolute",left:m,top:g}).finish().fadeIn(300).delay(2E3).fadeOut(300)}d=c=-1})};
var xB=function(a,b,c){function d(a,b,c){a=["作者："+b,"链接："+a,"来源：知乎","著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"];b=["",""];return a=c?a.concat(b):b.concat(a)}function f(a,b,c,f){b=d(b,c,f).join("\x3cbr /\x3e");return"\x3cdiv\x3e"+(f?b+a:a+b)+"\x3c/div\x3e"}function g(a,b,c,f){b=d(b,c,f).join("\n");return f?b+a:a+b}function h(){var a="";window.getSelection?a=window.getSelection().toString():window.document.selection&&"Control"!==window.document.selection.type&&(a=window.document.selection.createRange().text);
return a}function k(a){var d=z.nu(),k=d&&(0,z.bb)(d.Jd());if(k&&!(128>k.length)){k=512<=k.length;if("object"===typeof a.originalEvent.clipboardData&&(a.originalEvent.clipboardData.setData("text/html",f(d.Xf(),b,c,k)),a.originalEvent.clipboardData.setData("text/plain",g(h(),b,c,k)),0<a.originalEvent.clipboardData.getData("text/plain").length)){a.preventDefault();return}if(window.getSelection){a=d.Xf();var x=(0,window.$)(f(a,b,c,k)).css({position:"fixed",left:"-9999px"}).appendTo("body");window.getSelection().selectAllChildren(x.get(0));
(0,window.setTimeout)(function(){d.select();x.remove()},200)}}}a&&b&&c&&(z.Ka(b,"http")||(b=window.location.protocol+"//"+window.location.host+b),a.on("copy",k))};z.yB=function(a){var b={appkey:"3063806388"};a&&(b.title=a);window.open("http://service.weibo.com/share/share.php?"+window.$.param(b),"_blank","width\x3d615,height\x3d505")||(window.location.href="http://service.weibo.com/share/share.php?"+window.$.param(b))};z.zB=function(a,b,c,d){b=new AB(b,c,d);b.w(a);return b};
var AB=function(a,b,c){z.Q.call(this);this.Vb=a;this.bK=b;this.kJ=c};
var BB=function(a){var b=a.Io=new z.hy,c=[{label:z.Xe('\x3cspan class\x3d"ico z-ico-weibo-share"\x3e\x3c/span\x3e新浪微博'),value:0},{label:z.Xe('\x3cspan class\x3d"ico z-ico-wechat-share"\x3e\x3c/span\x3e微信扫一扫\x3cimg class\x3d"qrcode-image js-qrcode-image"\x3e'),value:1}];"answer"!==a.Vb&&"post"!==a.Vb||c.push({label:z.Xe('\x3cspan class\x3d"ico z-ico-daily-share"\x3e\x3c/span\x3e读读日报'),value:2});window.$.each(c,function(a,c){var g=new z.cy(c.label,c.value);b.Fa(g)});z.bh(b,1).Ua(!1);c=new z.oy("share",
b);c.nk=!0;c.Wb=z.El;c.w(a.m());z.Bc(c,a);b.g("action",a.vO.bind(a));(0,window.$)(b.m()).addClass("share-menu")};var CB=function(a,b,c,d){Dy.call(this,a,b,c,d)};z.DB=function(a){z.Q.call(this);z.Nb(this.options={},EB,a||{});this.content="";this.dd=this.Qe=this.Jk=null};var FB=function(a){a.getParent()?a.dispatchEvent("expandRequest"):a.expand()};var GB=function(a,b){return window.$.post("/node/PromotionVoteBarV2",{method:b,params:{post_id:a}})};
var HB=function(a,b,c){z.Q.call(this);this.ib=a;this.entryType=b||"answer";this.Th=null;this.J=window.$.extend({},this.defaults,c||{})};var IB=function(a,b,c){var d=+a.bv.text(),f=0;(0,window.isNaN)(d)||(c===z.JB.wg?f=1:b===z.JB.wg&&(f=-1),a.bv.text(d+f))};
var KB=function(a){var b=a.N,c=a.J,d=b===z.JB.wg,b=b===z.JB.Kk,f=d?"取消赞同":"赞同",g=b?"取消反对":"反对，不会显示你的姓名";a.pv.toggleClass(c.Nt,d).find(".label").text(f).end().attr("aria-pressed",d).attr("title",f);a.dv.toggleClass(c.Nt,b).find(".label").text(g).end().attr("aria-pressed",b).attr("title",g)};var LB=function(a,b){z.Q.call(this);this.ib=a;this.entryType=b;this.gm=null;this.Ag="post"===b?MB:NB};z.OB=function(a){a.gm&&"pending"===a.gm.state()||(a.gm=a.Ag.jF(a.ib).done((0,z.q)(a.lp,a)))};
var PB=function(a){z.Q.call(this);this.mK="votebar-mobile";this.Pw="votebar-mobile-dialog";this.Pu=a;this.oK="votebar-"+(["post","promotion"].includes(a.entryType)?"post":"answer");this.nK=z.N("span","_votebar-holder")};var QB=function(a){var b=a.Pu;z.Ko(a.nK,b.m());z.hj(b.m(),[a.mK,a.oK]);a.v().g(b,"action",function(){this.Ga&&(0,window.setTimeout)((0,z.q)(function(){this.Ga.G(!1)},this),150)})};
z.RB=function(){z.kB.call(this,"answer");this.lj=!0;this.Nl=window.setTimeout.bind(window,this.Nl.bind(this));this.Kj=window.setTimeout.bind(window,this.Kj.bind(this))};
var SB=function(a){var b=(0,window.$)(".js-administer",tB(a))[0];if(b){a.KL=b;TB=0;var c=new z.xy;a.L(c);c.attach(b,5);var d=a.Nj?new z.cy("取消折叠"):new CB("折叠");d.Da("collapse");var f=function(a,b){var c=new z.cy(b+1+" "+a.label);c.Da(a.value);d.Fa(c)};a.Nj||UB("answer","collapse").then(function(a){z.w(a,f);z.V.add(d.Xa().m(),"manage-menu")});b=new z.cy("删除");b.Da("delete");c.Fa(d);c.Fa(b);c.render(a.h);z.V.add(c.m(),"manage-menu");return c}};
var VB=function(a,b){a.v().g(b,"action",function(a){var b=a.target;a=b.Y();var b=b.m(),f=new z.vh;"collapse"===a?(f.add("answer_id",this.Va).add("action","collapse2").add("collapse",this.Nj?"cancel":"done"),b.setAttribute("data-op",this.Nj?"uncollapse-answer":"collapse-answer"),b.setAttribute("data-action","/manage?"+f.toString()),WB(this,b)):"delete"===a?(f.add("answer_id",this.Va).add("action","remove_answer2"),b.setAttribute("data-op","remove-answer"),b.setAttribute("data-action","/manage?"+f.toString()),
WB(this,b)):z.qa(a)&&(b=new z.vh,b.add("answer_id",this.Va).add("action","collapse2").add("collapse",this.Nj?"cancel":"done").add("reason",a),$z("/manage",b.toString(),(0,z.q)(this.Bj,this)))});a.v().g(b,"show",function(){z.V.add(tB(this),"zm-item-meta-has-menu")}).g(b,"hide",function(a){a.currentTarget===a.target&&z.V.remove(tB(this),"zm-item-meta-has-menu")})};var WB=function(a,b){(new z.Zz).open(b,{id:a.Va,type:"answer"},(0,z.q)(a.Bj,a))};
var XB=function(a){var b=a.Kg.disableCopy,c=(0,window.$)(".entry-content, .zm-item-rich-text",a.h);b?vB(c,a.Kg.disableCopyAvatar):(a=c.data("entryUrl"),b=c.data("authorName"),xB(c,a,b))};z.YB=function(){z.kB.call(this,"post");this.lj=!0};var ZB=function(a){a=(0,window.$)(".post-content",a.h);var b=a.data("entryUrl"),c=a.data("authorName");xB(a,b,c)};z.$B=function(){z.kB.call(this,"question");this.lj=!0};
z.aC=function(a){a=a.getAttribute("data-type");return new ({a:z.RB,Answer:z.RB,p:z.YB,Post:z.YB,q:z.$B,Question:z.$B}[a]||z.Q)};var bC=function(a,b){z.F.call(this);this.h=a;var c=z.kf(this.h)?this.h:this.h?this.h.body:null;this.OQ=!!c&&z.Ng(c);this.PG=z.E(this.h,z.A?"DOMMouseScroll":"mousewheel",this,b)};var cC=function(a,b){return z.C&&(z.Vc||z.Jl)&&0!=a%b?a:a/b};var dC=function(a,b,c,d){z.Qc.call(this,b);this.type="mousewheel";this.detail=a;this.deltaX=c;this.deltaY=d};var eC=function(){z.F.call(this)};
var fC=function(a,b){return null==a.uk?b:a.Ko+Math.round((b-a.Ko)/a.uk)*a.uk};var gC=function(a,b){z.Q.call(this,a);this.yC=null;this.Bb=new eC;this.UQ=b||z.Fl;z.E(this.Bb,"change",this.AF,!1,this)};
var hC=function(a,b){b?(a.v().g(a.ke,"beforedrag",a.as).g(a.Rf,"beforedrag",a.as).g(a.ke,["start","end"],a.ms).g(a.Rf,["start","end"],a.ms).g(a.sb,"key",a.kf).g(a.m(),"click",a.hs).g(a.m(),"mousedown",a.hs),a.nG&&iC(a,!0)):(a.v().qa(a.ke,"beforedrag",a.as).qa(a.Rf,"beforedrag",a.as).qa(a.ke,["start","end"],a.ms).qa(a.Rf,["start","end"],a.ms).qa(a.sb,"key",a.kf).qa(a.m(),"click",a.hs).qa(a.m(),"mousedown",a.hs),a.nG&&iC(a,!1))};
var jC=function(a,b){var c=z.Dg(b,a.m());return"vertical"==a.Mb?c.y:a.ae&&a.qd()?a.m().clientWidth-c.x:c.x};var kC=function(a,b){var c=a.Dc(),d=a.Uc();if("vertical"==a.Mb){var f=a.ab.offsetHeight,g=a.m().clientHeight-f,f=jC(a,b)-f/2;return(d-c)*(g-f)/g+c}f=a.ab.offsetWidth;g=a.m().clientWidth-f;f=jC(a,b)-f/2;return(d-c)*f/g+c};var lC=function(a,b){if(b==a.ab)return a.Bb.Y();if(b==a.Hd)return a.Bb.Y()+a.Bb.$h();throw Error("Illegal thumb element. Neither minThumb nor maxThumb");};
var mC=function(a,b){Math.abs(b)<a.Rn()&&(b=(0,z.Pl)(b)*a.Rn());var c=lC(a,a.ab)+b,d=lC(a,a.Hd)+b,c=Uo(c,a.Dc(),a.Uc()-a.lt),d=Uo(d,a.Dc()+a.lt,a.Uc());nC(a,c,d-c)};var oC=function(a,b,c){var d=fC(a.Bb,c);c=b==a.ab?d:a.Bb.Y();b=b==a.Hd?d:a.Bb.Y()+a.Bb.$h();c>=a.Dc()&&b>=c+a.lt&&a.Uc()>=b&&nC(a,c,b-c)};var nC=function(a,b,c){a.Dc()<=b&&b<=a.Uc()-c&&a.lt<=c&&c<=a.Uc()-b&&(b!=a.Y()||c!=a.$h())&&(a.Bb.nt=!0,a.Bb.lu(0),a.Bb.Da(b),a.Bb.lu(c),a.Bb.nt=!1,a.AF())};
var pC=function(a,b){return b<=a.Bb.Y()+a.Bb.$h()/2?a.ab:a.Hd};var qC=function(a){if(a.ab&&!a.qo){var b=rC(a,lC(a,a.ab)),c=rC(a,lC(a,a.Hd));if("vertical"==a.Mb)a.ab.style.top=b.y+"px",a.Hd.style.top=c.y+"px",a.Qb&&(b=sC(c.y,b.y,a.ab.offsetHeight),a.Qb.style.top=b.offset+"px",a.Qb.style.height=b.size+"px");else{var d=a.ae&&a.qd()?"right":"left";a.ab.style[d]=b.x+"px";a.Hd.style[d]=c.x+"px";a.Qb&&(b=sC(b.x,c.x,a.ab.offsetWidth),a.Qb.style[d]=b.offset+"px",a.Qb.style.width=b.size+"px")}}};
var sC=function(a,b,c){var d=Math.ceil(c/2);return{offset:a+d,size:Math.max(b-a+c-2*d,0)}};var rC=function(a,b){var c=new z.He;if(a.ab){var d=a.Dc(),f=a.Uc(),f=b==d&&d==f?0:(b-d)/(f-d);"vertical"==a.Mb?(d=a.m().clientHeight-a.ab.offsetHeight,f=Math.round(f*d),c.x=tC(a,a.ab),c.y=d-f):(c.x=Math.round(f*(a.m().clientWidth-a.ab.offsetWidth)),c.y=a.ab.offsetTop)}return c};
var uC=function(a,b){b=Uo(b,a.Dc(),a.Uc());a.qo&&(a.wn.stop(!0),a.wn.H());var c=new yw,d,f=pC(a,b),g=a.Y(),h=a.$h(),k=lC(a,f),m=rC(a,k);d=a.Rn();Math.abs(b-k)<d&&(b=Uo(k+(b>k?d:-d),a.Dc(),a.Uc()));oC(a,f,b);k=rC(a,lC(a,f));d="vertical"==a.Mb?[tC(a,f),k.y]:[k.x,f.offsetTop];m=new ar(f,[m.x,m.y],d,100);m.Ig(a.ae);c.add(m);a.Qb&&vC(a,f,g,h,k,c);a.yC&&(f=a.yC.BX(g,b,100),z.w(f,function(a){c.add(a)}));a.wn=c;a.v().g(c,"end",a.QN);a.qo=!0;c.play(!1)};
var vC=function(a,b,c,d,f,g){var h=rC(a,c),k=rC(a,c+d);c=h;d=k;b==a.ab?c=f:d=f;"vertical"==a.Mb?(b=sC(k.y,h.y,a.ab.offsetHeight),h=sC(d.y,c.y,a.ab.offsetHeight),f=new ar(a.Qb,[tC(a,a.Qb),b.offset],[tC(a,a.Qb),h.offset],100),b=new dr(a.Qb,b.size,h.size,100)):(b=sC(h.x,k.x,a.ab.offsetWidth),h=sC(c.x,d.x,a.ab.offsetWidth),f=new ar(a.Qb,[b.offset,a.Qb.offsetTop],[h.offset,a.Qb.offsetTop],100),b=new cr(a.Qb,b.size,h.size,100));f.Ig(a.ae);b.Ig(a.ae);g.add(f);g.add(b)};
var wC=function(a){var b=a.m();b&&(z.bj(b,"valuemin",a.Dc()),z.bj(b,"valuemax",a.Uc()),z.bj(b,"valuenow",a.Y()),z.bj(b,"valuetext",a.UQ(a.Y())||""))};var iC=function(a,b){b?(a.Xj||(a.Xj=new bC(a.m())),a.v().g(a.Xj,"mousewheel",a.wF)):a.v().qa(a.Xj,"mousewheel",a.wF)};var tC=function(a,b){return a.ae?z.mj(b):b.offsetLeft};var xC=function(a,b){gC.call(this,a,b);this.Bb.lu(0)};var yC=function(a){z.Q.call(this);this.options=window.$.extend({},this.defaults,a)};
var zC=function(a,b){a.zoom=b;AC(a,a.Ie.kq/2+a.Ie.x,a.Ie.Sn/2+a.Ie.y)};var AC=function(a,b,c){var d=a.zoom;a.Ie={kq:a.options.tg/d,Sn:a.options.sg/d,x:b-a.options.tg/d/2,y:c-a.options.sg/d/2};BC(a)};var BC=function(a){var b=a.zoom,c=Uo(a.options.Hm-a.Ie.x*b,a.options.tg+a.options.Hm-a.us*b,a.options.Hm),d=Uo(a.options.Im-a.Ie.y*b,a.options.sg+a.options.Im-a.ts*b,a.options.Im),f={width:b*a.us,height:b*a.ts,left:c,top:d};a.rq.css(f);a.fv.css(f);a.Ie.x=(a.options.Hm-c)/b;a.Ie.y=(a.options.Im-d)/b};
z.CC=function(a,b,c){z.Q.call(this);this.Pq=a||z.DC;this.BE=b;this.QI=c||"l"};var EC=function(){return!!window.FileReader};
var FC=function(a){a.Ml=a.py=a.Ej="";if(a.dialog)a.dialog.ha();else{a.dialog=new z.U(null);a.dialog.La("修改图片");var b=z.Jm.Se,c=z.Jm.xg,d=new z.Nj;d.set(b,"取消",!1,!0).set(c,"确定",!0);z.Kj(a.dialog,d);a.v().g(a.dialog,z.Mj,function(a){if(a.key===c){if(EC()){var b=this.zw;a=(0,window.$)("\x3ccanvas\x3e\x3c/canvas\x3e");a.attr("width",b.options.tg);a.attr("height",b.options.sg);var d=a[0];(0,window.$)(window.document.body).append(d);var k=a[0].getContext("2d"),m=b.Ie;k.drawImage(b.vs,m.x,m.y,m.kq,m.Sn,
0,0,b.options.tg,b.options.sg);b=d.toDataURL("image/png");a.remove();a=b}else a=this.zw.Ie;this.Ej=a;GC(this);this.dialog.G(!1);return!1}})}HC(a.dialog.R());a.dialog.G(!0);z.V.add(a.dialog.h,"avatar-edit-dialog")};var IC=function(a){var b=a.input.cloneNode();z.Ko(b,a.input);a.input=b;a.v().g(a.input,"change",a.Gc)};
var GC=function(a){if(a.Ej&&(EC()||a.py)){a.dispatchEvent("beforepost");var b={type:a.Pq,dest_id:a.Pq===z.DC?z.S[3]:a.BE,return_size:a.QI};if(EC()){var c=new window.FormData;c.append("handle_mode","upload");c.append("picture",JC(a.Ej.replace(/data\:image\/\w{3,4};base64,/,"")),a.file.name);window.$.each(b,function(a,b){c.append(a,b)});window.$.ajax({url:a.BB,data:c,method:"post",processData:!1,contentType:!1,success:window.$.proxy(a.MD,a),dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0})}else{var b=
window.$.extend(b,{handle_mode:"resize",x:Math.round(a.Ej.x),y:Math.round(a.Ej.y),height:Math.round(a.Ej.Sn),width:Math.round(a.Ej.kq),hashval:a.py}),d='\x3cform target\x3d"av_up_frame" style\x3d"display:none;" method\x3d"post" action\x3d"'+a.BB+'"\x3e';window.$.each(b,function(a,b){d+='\x3cinput type\x3d"hidden" name\x3d"'+a+'" value\x3d"'+b+'" /\x3e'});d+="\x3c/form\x3e";b=(0,window.$)(d);b.appendTo(a.h);b[0].submit()}}};
var HC=function(a){var b=(0,window.$)("\x3cdiv class\x3d'new-avatar-editor-loading'\x3e\x3cdiv\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv\x3e正在上传...\x3c/div\x3e\x3c/div\x3e");a=(0,window.$)(a);a.html("");a.append(b)};var JC=function(a){var b,c;c="image/png";b=b||512;a=(0,window.atob)(a);for(var d=[],f=0;f<a.length;f+=b){for(var g=a.slice(f,f+b),h=Array(g.length),k=0;k<g.length;k++)h[k]=g.charCodeAt(k);g=new window.Uint8Array(h);d.push(g)}return new window.Blob(d,{type:c})};
z.KC=function(a,b,c){z.cy.call(this,a,b,c);this.zi(!0)};z.LC=function(a,b,c){z.Q.call(this);this.offset=this.Mp=0;this.WU=c;this.NN=a;this.url=b||window.location.href;this.Yg="zm-item";this.params={}};z.MC=function(a,b){b?a.Hk.html('\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e正在加载').prop("disabled",!0):a.Hk.html("更多").prop("disabled",!1)};
var NC=function(a){var b=a.fb();a.offset=a.zz?a.zz(b):b.length;a.ns?(b=a.ns(),z.P(a.Md,b)):a.Md&&("-1"!==a.Hk.attr("data-next")&&b?a.Hk.removeClass("hidden").show():a.Hk.hide())};
z.OC=function(a,b,c,d){c=c||z.p;if(!a.Pi||"pending"!==a.Pi.state()){var f=a.mI(window.$.extend(a.params,{offset:a.offset,start:a.Mp}));"live"!==f.start&&z.X.zb({type:"topstory_feed_more"});(0,z.Gi)(a,{action:a.ro?"LoadMore":"RollForMore",element:"Button"});a.Pi=window.$.post(a.url,f).done(c).done(window.$.proxy(function(a){if(d)return d.call(this,a);this.GB&&!b?this.MA?this.ck(a):(this.Mt=a,z.MC(this,!1)):this.ck(a)},a));1!==a.Xm&&z.MC(a,!0)}};
z.PC=function(a){a.dispatchEvent({data:{ro:a.ro,EB:a.EB},type:"afterload"})};var QC=function(a){var b=a.fb(),c;if(a.WU)if(a.Md&&(c=a.Md.getAttribute("data-next")),c)a.Mp=c;else if(b=z.lb(b))a.Mp=a.jI(b)};var RC=function(a,b){z.w(b,function(a){var b=this.vt(a);this.dispatchEvent({data:{item:a,SQ:b},type:"itemcreated"})},a)};
z.SC=function(a){z.F.call(this);this.ma=null;this.h=a;a=z.B||z.Hc||z.C&&!z.D("531")&&"TEXTAREA"==a.tagName;this.T=new z.yd(this);this.T.g(this.h,a?["keydown","paste","cut","drop","input"]:"input",this)};var TC=function(a){null!=a.ma&&(z.xd(a.ma),a.ma=null)};var UC=function(a){a=new z.Qc(a.fc);a.type="input";return a};var VC=function(a,b,c,d){z.F.call(this);this.Wh=a;this.uE=b;this.it=c;this.CN=d||WC;a.removeAttribute("maxlength");this.Gy=new z.SC(a);z.E(this.Gy,"input",this.Ez,!1,this);this.Yk()};
z.XC=function(a){z.F.call(this);this.sa=null;this.pa=a;this.du=0;this.uI=""};var YC=function(a,b){var c=z.Lo("zm-menu-item-link",a.$H);z.w(c,function(a,c){var g=!z.y(b,c);z.P(a,g)},a)};var ZC=function(){z.F.call(this)};
z.$C=function(a){function b(){var b;aD||(aD=new ZC,aD.init());b=aD;b.Ti=a;b.AL=a.id.split("-")[1];b.show()}function c(b){if(!a.getAttribute("data-disabled")){var c;bD||(bD=new z.XC,bD.init());c=bD;c.Ti=a;c.pa=a.id.split("-")[1];"redirect"===b?c.show():(z.np("/question/unredirect",null,"POST","qid\x3d"+c.pa+"\x26rqid\x3d"+c.du),c.Ti.innerHTML="重定向已撤销",c.Ti.setAttribute("data-disabled",1))}}function d(){function b(){var f=d.value,g=a.getAttribute("id").split("-")[1],f=(new z.vh).add("revision",g).add("reason",
f),t=new z.Z(!0);t.on("success",function(){var a=z.Mn(t);c.G(!1);if(!a)return z.W.message("网络异常");if(a.r)return z.W.message(a.msg);a.msg?window.location.href=a.msg:window.location.reload()});t.ajax("/revert",f.toString())}var c=z.W.confirm("撤销",'\x3cdiv class\x3d"zg-form-text-input"\x3e\x3ctextarea class\x3d"zg-editor-input content" title\x3d"请输入撤销原因" placeholder\x3d"请输入撤销原因"\x3e\x3c/textarea\x3e\x3c/div\x3e',function(a){if(a)return b(),!1}),d=z.L("content",c.R());new z.uk(d);new z.Mr(d);new VC(d,
null,200)}var f=a&&a.name;if(f)switch(f){case "adminflag":b();break;case "redirect":case "cancel_redirect":c(f);break;case "revert":d()}};z.cD=function(a){(0,window.$)(a).on("click",'a[name\x3d"revert"]',function(){z.$C(this)})};
z.dD=function(a){var b={Zp:!1,YX:!1};return function(c){if(!1===c)return!1;c={};z.Nb(c,b,a||{});if(c.Zp&&!z.S.ps)return z.W.alert('\x3ca href\x3d"/question/23261456" target\x3d"_blank"\x3e如何参与知乎话题的公共编辑？\x3c/a\x3e'),!1;if(c.fp){if(!z.R.IN)return z.W.alert('\x3cp\x3e创建较久或已有较多讨论的问题限制公共编辑\x3c/p\x3e\x3cp\x3e\x3ca href\x3d"/question/24501563" target\x3d"_blank"\x3e如何参与知乎问题的公共编辑？\x3c/a\x3e\x3c/p\x3e'),!1;if(z.R.to)return z.W.alert('\x3cp\x3e创建较久或编辑次数较多的问题锁定公共编辑\x3c/p\x3e\x3cp\x3e\x3ca href\x3d"/question/24501563" target\x3d"_blank"\x3e如何参与知乎问题的公共编辑？\x3c/a\x3e\x3c/p\x3e'),
!1}}};var eD=function(a){return window.$.post("/settings/account/unlock_with_digits",a)};var fD=function(a){return window.$.post("/settings/account/unlock_with_password",a)};
z.gD=function(){return new window.Promise(function(a){function b(a,b){return!!z.rb(a,function(a){return a.challenge_type===b})}function c(a){var b={value:a.challenge_type};switch(b.value){case "password":b.label="使用知乎密码验证";break;case "phone_digits":b.label=z.La("使用手机 %s 验证",a.hint);break;case "email_digits":b.label=z.La("使用邮箱 %s 验证",a.hint)}return b}if(z.$i.get("unlock_ticket"))return a();var d=z.W.async({title:"验证身份",modal:!0,tJ:"正在进行安全验证，请稍等",className:"settings-account-unlock-dialog",onload:function(b,
c){function d(a){var b=(0,window.$)(".panel",k),c=a?b.filter(function(){return(0,window.$)(this).data("match")===a}):b.first();b.not(c.show()).hide()}var k=(0,window.$)("form",b),m=(0,window.$)(".submit",k),n=(0,window.$)(".error-label-container",k),t=(0,window.$)(".hint-label-container",k),x=(0,window.$)("select",k).change(function(){d(this.value);n.text("");t.text("")});(0,window.$)(".js-send-digits",k).each(function(){var a=(0,window.$)(this),b=a.closest(".panel");(0,window.$)("input",b);var d=
b.data("match"),a=z.sk(a,"email_digits"===d?10:60,function(a){return a?"%s 秒后即可重发":"重发验证码"},function(){t.text("");window.$.post("/settings/account/send_unlock_digits",{type:d}).then(function(){t.text("验证码已发送至你的"+("email_digits"===d?"邮箱":"手机"))})});z.Bc(c,a)});var J=k.validate({messages:z.hD,ignore:"input.text:hidden",errorLabelContainer:n,submitHandler:z.tk(m,function(){var b="password"===x.val();return(b?fD:eD)((0,window.$)(":input:visible",k).serialize()).then(function(d){if(d.success)c.G(!1),a();
else if(d=d.payload,d.fields)J.showErrors(d.fields);else if(d.message){var f={};f[b?"password":"digits"]=d.message;J.showErrors(f)}})})});x.change();(0,window.$)("input.text:visible",k).focus()},tw:window.$.get("/settings/account/request_unlock").then(function(f){if(f.success)return(0,window.setTimeout)(function(){d.G(!1);a()},3E3),'\x3cp class\x3d"z-text-muted"\x3e验证成功\x3c/p\x3e';var g=f.payload;return window.$.get("/node/SettingsRequestUnlockTemplate").then(function(a){return(0,z.xv)(a,{canUsePanel:z.Ba(b,
g),each:z.w,options:z.ob(g,c)})})})})})};var iD=function(a,b,c,d){z.st.call(this,a,b,c,null,d)};z.jD=function(){};var kD=function(a,b,c,d){for(var f=[],g=0,h=0;g<c.height;g++){for(var k=[],m=0;m<c.width;m++){var n=b&&b[h++];k.push(lD(a,n,d))}f.push(mD(a,k,d))}return a.xw(f,d)};var mD=function(a,b,c){a=c.B("TR",a.U()+"-row",b);z.aj(a,"row");return a};
var lD=function(a,b,c){a=c.B("TD",{"class":a.U()+"-cell",id:a.U()+"-cell-"+nD++},b);z.aj(a,"gridcell");z.bj(a,"selected",!1);if(!z.pf(a)&&!qo(a)){var d;b=new iD(a);for(c="";!c&&(d=So(b));)1==d.nodeType&&(c=qo(d)||d.title);(d=c)&&z.bj(a,"label",d)}return a};var oD=function(a,b,c){for(b=b.m();c&&1==c.nodeType&&c!=b;){if("TD"==c.tagName&&z.fj(c,a.U()+"-cell"))return c.firstChild;c=c.parentNode}return null};var pD=function(a){z.F.call(this);this.He=[];qD(this,a)};
var qD=function(a,b){b&&(z.w(b,function(a){this.mm(a,!1)},a),z.xb(a.He,b))};z.rD=function(a,b,c){Qp.call(this,a,b||z.jD.ba(),c);this.Wi&=-89;this.xn=new sD;this.xn.Db(this);this.Zy=-1};z.tD=function(a,b){if(a.m())throw Error("Component already rendered");a.uc=z.qa(b)?new z.Ie(b,void 0):b;uD(a)};var vD=function(a){var b=a.Sa();return b&&b[a.Ra]};
var wD=function(a,b,c){if(a.m()){var d=a.Sa();if(d&&0<=b&&b<d.length){var f;f=(f=vD(a))?f.parentNode:null;a.xn.m()!=f&&(a.xn.h=f);f=a.xn;f.Lc(c);!!(f.N&2)==c&&(b=d[b])&&(b=b?b.parentNode:null,z.po(b,a.M.U()+"-cell-hover",c),c?z.bj(a.h,"activedescendant",b.id):b.id==z.dj(a.h,"activedescendant")&&a.h.removeAttribute("aria-activedescendant"))}}};
var uD=function(a){var b=a.Sa();if(b)if(a.uc&&a.uc.width){if(b=Math.ceil(b.length/a.uc.width),!z.qa(a.uc.height)||a.uc.height<b)a.uc.height=b}else b=Math.ceil(Math.sqrt(b.length)),a.uc=new z.Ie(b,b);else a.uc=new z.Ie(0,0)};var sD=function(){Qp.call(this,null);this.sk|=2};z.xD=function(){};z.yD=function(){this.Qv="toolbar"};var zD=function(){};z.AD=function(a,b,c){z.Xp.call(this,a,b||zD.ba(),c)};var BD=function(){};var CD=function(a,b){return b.B("DIV","goog-color-menu-button-indicator",a)};
var DD=function(a,b){if(a&&a.firstChild){var c;if(c=b)c=!!(Tq.test("#"==b.charAt(0)?b:"#"+b)||Vq(b).length||Xq&&Xq[b.toLowerCase()]);c=c?Sq(b).rs:null;a.firstChild.style.borderBottomColor=c||(z.B?"":"transparent")}};var ED=function(a,b,c){this.fr=a||[];z.rD.call(this,null,b||z.jD.ba(),c);this.fr=this.fr;this.qt=this.Os=null;this.ia(FD(this))};
var FD=function(a){return z.ob(a.fr,function(a,c){var d=this.K().B("DIV",{"class":this.M.U()+"-colorswatch",style:"background-color:"+a}),f;this.Os&&this.Os[c]?f=this.Os[c]:"#"==a.charAt(0)?(f=Uq(a),f="RGB ("+[(0,window.parseInt)(f.substr(1,2),16),(0,window.parseInt)(f.substr(3,2),16),(0,window.parseInt)(f.substr(5,2),16)].join(", ")+")"):f=a;d.title=f;return d},a)};var GD=function(a){if(a)try{return Sq(a).rs}catch(b){}return null};var HD=function(a,b,c,d){z.oy.call(this,a,b,c||BD.ba(),d)};
var ID=function(a){var b=new z.hy(a);z.Eb(JD,function(c){c=new ED(c,null,a);z.tD(c,8);b.L(c,!0)});return b};var KD=function(){};var LD=function(){};var MD=function(a,b,c,d){HD.call(this,a,b,c||LD.ba(),d)};var ND=function(a,b,c,d){z.oy.call(this,a,b,c||KD.ba(),d)};var OD=function(a,b,c,d,f){z.oy.call(this,a,b,c,d,f||new fy("listbox"));this.Kw=this.Sa();this.Fy=null;this.nu("listbox")};var PD=function(a,b){a.Kw=b;QD(a)};
var RD=function(a,b){a.oa=new pD;b&&z.ch(b,function(a){SD(a);this.oa.Fa(a)},a);TD(a)};var TD=function(a){a.oa&&a.v().g(a.oa,"select",a.Cj)};var QD=function(a){var b=a.jf();a.ia(b?b.Ng():a.Kw);var c=a.M.R(a.m());c&&a.K().isElement(c)&&(null==a.Fy&&(a.Fy=qo(c)),b=(b=b?b.m():null)?qo(b):a.Fy,z.bj(c,"label",b),UD(a))};
var UD=function(a){var b=a.M;if(b&&(b=b.R(a.m()))){var c=a.h;b.id||(b.id=z.Xg(z.Wg.ba()));z.aj(b,"option");z.bj(c,"activedescendant",b.id);a.oa&&(c=a.oa.fb(),z.bj(b,"setsize",VD(c)),a=a.oa.vj(),z.bj(b,"posinset",0<=a?VD(z.zb(c,0,a+1)):0))}};var VD=function(a){return Zo(a,function(a){return a instanceof z.cy})};var SD=function(a){a.nu(a instanceof z.cy?"option":"separator")};var WD=function(a,b,c,d){OD.call(this,a,b,c||KD.ba(),d)};
var XD=function(a){var b=a.indexOf(",");a:for(a=(-1!=b?a.substring(0,b):a).toLowerCase(),b=0;2>b;b++){var c="\"'".charAt(b);if(a.charAt(0)==c&&a.charAt(a.length-1)==c){a=a.substring(1,a.length-1);break a}}return a};var YD=function(a,b){z.w(b,function(b){var d=b.value,f=XD(d);b=new z.KC(b.caption,d,a.K());Jn(b,f);a.Fa(b);b.R().style.fontFamily=d})};
var ZD=function(a){z.w($D,function(b){var c=b.value;b=new z.KC(b.caption,c,a.K());a.Fa(b);b=b.R();b.style.fontSize=(aE[c]||10)+"px";b.firstChild.style.height="1.1em"})};var bE=function(a){z.w(cE,function(b){var c=b.caption;b=b.Aa;var d=a.K(),c=new z.KC(d.B("DIV",null,c),b,d);Jn(c,b);a.Fa(c)})};z.dE=function(a,b,c,d,f,g){c=new z.AD(eE(c,d,g),f,g);Jn(c,a);c.wd(b);return c};z.fE=function(a,b,c,d,f,g){a=z.dE(a,b,c,d,f,g);a.Rb(16,!0);return a};
var gE=function(a,b,c,d,f,g){f=new WD(null,null,f,g);d&&z.w(d.split(/\s+/),f.Eh,f);f.Eh("goog-toolbar-select");PD(f,c);Jn(f,a);f.wd(b);return f};var hE=function(a,b,c,d,f,g){c=new MD(eE(c,d,g),null,f,g);Jn(c,a);c.wd(b);return c};var eE=function(a,b,c){a&&""!=a||!z.A||z.D("1.9a")||(a=" ");return(c||z.H()).B("DIV",b?{"class":b}:null,a)};var iE=function(a){var b="en-us".replace(/_/,"-").toLowerCase(),c=[];b in jE&&(c=jE[b]);c.length&&YD(a,c);YD(a,kE)};
var lE=function(a,b,c,d,f,g){var h=z.dE(a,b,c,d,f,g);h.Hi=function(a){h.Ua(a)};return h};var mE=function(a,b){var c=b;try{if(z.B)var d="000000"+c.toString(16),f=d.substr(d.length-6,6),c="#"+f.substring(4,6)+f.substring(2,4)+f.substring(0,2);c!=a.Y()&&a.Da(c)}catch(g){}};z.nE=function(a){z.kz.call(this);this.ga=new z.yd(this);this.RF=z.N("div",{style:"display:none"});this.h=this.rc=null;this.J={};z.Nb(this.J,this.defaults,a||{})};
var oE=function(a){a.dispatchEvent("willEnterFullScreen")&&(a.AE||(a.$P=window.history.length),a.AE=!0,pE(a,"writing"),a.vK=z.wf(z.H((z.r||window).document)),z.Ko(a.RF,a.J.yk),a.rc.appendChild(a.J.yk),z.V.add(window.document.body,a.J.Ln),a.Eb=z.L(a.J.IV,a.h),a.Eb.appendChild(a.Yp),qE(a),(0,z.bb)(z.pf(a.F.Ea))||a.F.Tf(),a.dispatchEvent("enterFullScreen"))};
var rE=function(a){!z.Uj&&a.AE&&a.$P!==window.history.length?window.history.back():pE(a,"");a.Eb.removeChild(a.Yp);a.gJ(!1);a.h.onscroll=null;a.ga.qa(window.document,"keydown",a.Wo);z.Ko(a.J.yk,a.RF);z.V.remove(window.document.body,a.J.Ln);window.scrollTo(a.vK.x,a.vK.y);a.dispatchEvent("exitFullScreen")};var pE=function(a,b){a.ga.qa(window,"hashchange",a.FH);window.location.hash=b||"";(0,window.setTimeout)((0,z.q)(function(){this.ga.g(window,"hashchange",this.FH)},a))};
var qE=function(a){var b=a.h;b.scrollTop=0;var c=a.Eb.getBoundingClientRect().top;b.onscroll=z.cp((0,z.q)(a.gJ,a),function(){return b.scrollTop>c});a.ga.g(window.document,"keydown",a.Wo)};z.sE=function(){this.ux=["zg-btn-follow","zg-btn-unfollow"];this.vx="people"};z.Uk.prototype.Ap=z.Y(26,function(a){this.aj=a});z.Wj.prototype.Mg=z.Y(25,function(a,b){if(!this.h)return null;for(var c=b||"A",d=a;null!=d&&d!==this.h;){if(d.tagName===c)return d;d=d.parentNode}return null});
z.U.prototype.nm=z.Y(24,function(a){this.Qk=a;this.wa&&z.Rj(this)});z.Aj.prototype.nu=z.Y(22,function(a){this.bp=a});z.Aj.prototype.Sa=z.Y(21,function(){return null!=this.rc?z.Hd(this.rc):""});z.nj.prototype.Ua=z.Y(20,function(a){this.dc=a});z.nj.prototype.Ig=z.Y(18,function(a){this.Ii=a});z.Q.prototype.ph=z.Y(17,function(a){if(this.wa)throw Error("Component already rendered");this.lg=a});z.Q.prototype.qd=z.Y(16,function(){null==this.lg&&(this.lg=z.Ng(this.wa?this.h:this.da.ua().body));return this.lg});
z.rg.prototype.Og=z.Y(15,function(){return new z.Ie(this.width,this.height)});z.rg.prototype.Jy=z.Y(14,function(a){var b=Math.max(this.left,a.left),c=Math.min(this.left+this.width,a.left+a.width);if(b<=c){var d=Math.max(this.top,a.top);a=Math.min(this.top+this.height,a.top+a.height);if(d<=a)return this.left=b,this.top=d,this.width=c-b,this.height=a-d,!0}return!1});
z.Sf.prototype.Bq=z.Y(13,function(a,b,c){var d=(0,z.G)(),f=c?c:d,g=xn(this.Gr);g.Ir=2;g.Hr=f;g.type=b;g.vD=a;a=(a=this.HX)&&a.isTracing()?a.totalVarAlloc:-1;g.KJ=a;this.rw++;if(c){c=this.Pf.length;for(a=0;a<c;a++)if(this.Pf[a].Hr>f){z.yb(this.Pf,a,0,g);break}a==c&&this.Pf.push(g)}else this.Pf.push(g);if(f=g.type)g=this.tk.get(f),g||(g=xn(this.YA),g.type=f,this.tk.set(f,g)),g.count++;this.Gu+=(0,z.G)()-d});
z.Je.prototype.Zf=z.Y(12,function(a){var b;(b="A"==a.tagName||"INPUT"==a.tagName||"TEXTAREA"==a.tagName||"SELECT"==a.tagName||"BUTTON"==a.tagName?!a.disabled&&(!un(a)||tn(a)):zn(a))&&z.B?(a=z.sa(a.getBoundingClientRect)?a.getBoundingClientRect():{height:a.offsetHeight,width:a.offsetWidth},a=null!=a&&0<a.height&&0<a.width):a=b;return a});z.Q.prototype.kp=z.Y(11,function(a){for(var b=[];this.Pc&&0!=this.Pc.length;)b.push(this.removeChild(z.bh(this,0),a));return b});
z.Je.prototype.sl=z.Y(10,function(a){return yn(a||this.Ia)});z.Je.prototype.xw=z.Y(9,function(a,b,c){var d=this.Ia;c=!!c;for(var f=d.createElement("TABLE"),g=f.appendChild(d.createElement("TBODY")),h=0;h<a;h++){for(var k=d.createElement("TR"),m=0;m<b;m++){var n=d.createElement("TD");c&&z.nf(n," ");k.appendChild(n)}g.appendChild(k)}return f});z.Je.prototype.Vf=z.Y(8,function(a,b){return z.L(a,b||this.Ia)});z.Q.prototype.Vf=z.Y(7,function(a){return this.h?this.da.Vf(a,this.h):null});
z.Sd.prototype.Ph=z.Y(6,function(a){for(var b=0;b<this.Ya.length;b++){var c=this.Ya[b];if(z.Vd(this.Hb,c)&&this.Hb[c]==a)return!0}return!1});z.vh.prototype.Ph=z.Y(5,function(a){var b=this.Vc();return z.y(b,a)});z.Wi.prototype.Ph=z.Y(4,function(a){for(var b=z.Xi(this).values,c=0;c<b.length;c++)if(b[c]==a)return!0;return!1});z.Qc.prototype.XE=z.Y(0,function(){return this.fc});z.v(z.Gn,z.F);z.e=z.Gn.prototype;z.e.h=null;z.e.Qk=!0;z.e.OC=null;z.e.PC=null;z.e.Qj=!1;z.e.VU=!1;z.e.az=-1;z.e.Yy=-1;
z.e.PF=!1;z.e.PN=!0;z.e.Vb="toggle_display";z.e.di=function(){return this.Vb};z.e.m=function(){return this.h};z.e.nh=function(a){wn(this);this.h=a};z.e.nm=function(a){wn(this);this.Qk=a};z.e.hJ=function(a,b){this.wm=a;this.Jl=b};z.e.v=function(){return this.ga};z.e.V=function(){return this.Qj};z.e.rG=function(){return this.Qj||150>(0,z.G)()-this.Yy};z.e.G=function(a){this.wm&&this.wm.stop();this.Jl&&this.Jl.stop();a?this.PA():this.Kl()};z.e.ha=z.p;
z.e.PA=function(){if(!this.Qj&&this.Qo()){if(!this.h)throw Error("Caller must call setElement before trying to show the popup");this.ha();var a=z.Ke(this.h);this.PF&&this.ga.g(a,"keydown",this.dS,!0);if(this.Qk)if(this.ga.g(a,"mousedown",this.DH,!0),z.B){var b;try{b=a.activeElement}catch(d){}for(;b&&"IFRAME"==b.nodeName;){try{var c=b.contentDocument||b.contentWindow.document}catch(d){break}a=c;b=a.activeElement}this.ga.g(a,"mousedown",this.DH,!0);this.ga.g(a,"deactivate",this.BH)}else this.ga.g(a,
"blur",this.BH);"toggle_display"==this.Vb?(this.h.style.visibility="visible",z.P(this.h,!0)):"move_offscreen"==this.Vb&&this.ha();this.Qj=!0;this.az=(0,z.G)();this.Yy=-1;this.wm?(z.md(this.wm,"end",this.fk,!1,this),this.wm.play()):this.fk()}};z.e.Kl=function(a){if(!this.Qj||!this.dispatchEvent({type:"beforehide",target:a}))return!1;this.ga&&this.ga.removeAll();this.Qj=!1;this.Yy=(0,z.G)();this.Jl?(z.md(this.Jl,"end",z.Ba(this.GD,a),!1,this),this.Jl.play()):this.GD(a);return!0};
z.e.GD=function(a){"toggle_display"==this.Vb?this.VU?z.wd(this.QF,0,this):this.QF():"move_offscreen"==this.Vb&&(this.h.style.top="-10000px");this.ek(a)};z.e.QF=function(){this.h.style.visibility="hidden";z.P(this.h,!1)};z.e.Qo=function(){return this.dispatchEvent("beforeshow")};z.e.fk=function(){this.dispatchEvent("show")};z.e.ek=function(a){this.dispatchEvent({type:"hide",target:a})};z.e.DH=function(a){a=a.target;z.mf(this.h,a)||vn(this,a)||this.PC&&!z.mf(this.PC,a)||150>(0,z.G)()-this.az||this.Kl(a)};
z.e.dS=function(a){27==a.keyCode&&this.Kl(a.target)&&(a.preventDefault(),a.stopPropagation())};z.e.BH=function(a){if(this.PN){var b=z.Ke(this.h);if("undefined"!=typeof window.document.activeElement){if(a=b.activeElement,!a||z.mf(this.h,a)||"BODY"==a.tagName)return}else if(a.target!=b)return;150>(0,z.G)()-this.az||this.Kl()}};z.e.D=function(){z.Gn.o.D.call(this);this.ga.H();z.Dc(this.wm);z.Dc(this.Jl);delete this.h;delete this.ga;delete this.OC};
var Yn=/&([^;\s<&]+);?/g,io={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},tE=/[^\d]+$/;fo.prototype.serialize=function(a){var b=[];go(this,a,b);return b.join("")};fo.prototype.serializeArray=function(a,b){var c=a.length;b.push("[");for(var d="",f=0;f<c;f++)b.push(d),d=a[f],go(this,this.Zt?this.Zt.call(a,String(f),d):d,b),d=",";b.push("]")};z.e=Qo.prototype;z.e.qb=function(){return this.Hb.qb()};z.e.add=function(a){this.Hb.set(jo(a),a)};
z.e.addAll=function(a){a=z.Kd(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};z.e.removeAll=function(a){a=z.Kd(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};z.e.remove=function(a){return this.Hb.remove(jo(a))};z.e.clear=function(){this.Hb.clear()};z.e.Wg=function(){return this.Hb.Wg()};z.e.contains=function(a){return this.Hb.Kf(jo(a))};z.e.Jy=function(a){var b=new Qo;a=z.Kd(a);for(var c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};z.e.Vc=function(){return this.Hb.Vc()};
z.e.clone=function(){return new Qo(this)};z.e.equals=function(a){return this.qb()==lo(a)&&Ro(this,a)};z.e.fd=function(){return this.Hb.fd(!1)};var tp;z.v(z.Z,z.ee);var uE=/#.*$/,rp={"*":"*","text/html":"html","text/plain":"text","application/json":"json","application/javascript":"script","application/x-javascript":"script"},pp=[];z.Z.prototype.FO=function(){if(this.eK){var a=sp();z.P(a,!1)}qp(this)};
z.Z.prototype.ajax=function(a,b,c){a=(0,window.encodeURI)((0,window.decodeURI)(a));a=a.replace(uE,"");if(!this.ea){if(this.eK){var d=sp();z.P(d,!0)}c=c||"POST";"POST"===c.toUpperCase()&&(d=z.$i.get("_xsrf"))&&(b=(b?b+"\x26_xsrf\x3d":"_xsrf\x3d")+d);return this.send(a,c,b,this.headers)}};z.v(up,z.F);up.prototype.v=function(){return this.nf||(this.nf=new z.yd(this))};z.v(z.wp,z.Mc);z.xp=new up;z.F.prototype.on=function(){z.F.prototype.addEventListener.apply(this,arguments);return this};z.F.prototype.off=function(){z.F.prototype.removeEventListener.apply(this,arguments);return this};z.F.prototype.zb=z.F.prototype.dispatchEvent;z.v(yp,z.F);yp.prototype.gc=function(){var a=(0,z.q)(function(a){var c=this.gr.section;(c=c&&c["home-topstory"])&&(c.content=a)},this);Ep(this).always((0,z.q)(function(b){this.Ab||(b&&b.Dm&&b.Dm.length&&a("这里是根据你关注的话题和人定制的内容精选"),this.J.bk(),Ap(this),Cp(this))},this));this.Ab||Dp()};z.v(Fp,z.F);z.e=Fp.prototype;z.e.h=null;z.e.Ms=null;z.e.Sy=null;z.e.Ns=null;z.e.ge=-1;z.e.hi=-1;z.e.Jv=!1;
var vE={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},wE={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},xE=z.B||z.Hc||z.C&&z.D("525"),yE=z.Vc&&z.A;z.e=Fp.prototype;
z.e.kf=function(a){if(z.C||z.Hc)if(17==this.ge&&!a.ctrlKey||18==this.ge&&!a.altKey||z.Vc&&91==this.ge&&!a.metaKey)this.hi=this.ge=-1;-1==this.ge&&(a.ctrlKey&&17!=a.keyCode?this.ge=17:a.altKey&&18!=a.keyCode?this.ge=18:a.metaKey&&91!=a.keyCode&&(this.ge=91));xE&&!no(a.keyCode,this.ge,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.hi=z.kj(a.keyCode),yE&&(this.Jv=a.altKey))};z.e.lP=function(a){this.hi=this.ge=-1;this.Jv=a.altKey};
z.e.handleEvent=function(a){var b=a.fc,c,d,f=b.altKey;z.B&&"keypress"==a.type?(c=this.hi,d=13!=c&&27!=c?b.keyCode:0):(z.C||z.Hc)&&"keypress"==a.type?(c=this.hi,d=0<=b.charCode&&63232>b.charCode&&z.Zn(c)?b.charCode:0):z.vg&&!z.C?(c=this.hi,d=z.Zn(c)?b.keyCode:0):(c=b.keyCode||this.hi,d=b.charCode||0,yE&&(f=this.Jv),z.Vc&&63==d&&224==c&&(c=191));var g=c=z.kj(c),h=b.keyIdentifier;c?63232<=c&&c in vE?g=vE[c]:25==c&&a.shiftKey&&(g=9):h&&h in wE&&(g=wE[h]);a=g==this.ge;this.ge=g;b=new Gp(g,d,a,b);b.altKey=
f;this.dispatchEvent(b)};z.e.m=function(){return this.h};z.e.attach=function(a,b){this.Ns&&this.detach();this.h=a;this.Ms=z.E(this.h,"keypress",this,b);this.Sy=z.E(this.h,"keydown",this.kf,b,this);this.Ns=z.E(this.h,"keyup",this.lP,b,this)};z.e.detach=function(){this.Ms&&(z.od(this.Ms),z.od(this.Sy),z.od(this.Ns),this.Ns=this.Sy=this.Ms=null);this.h=null;this.hi=this.ge=-1};z.e.D=function(){Fp.o.D.call(this);this.detach()};z.v(Gp,z.Qc);var zE;z.la(Hp);var AE={button:"pressed",checkbox:"checked",menuitem:"selected",menuitemcheckbox:"checked",menuitemradio:"checked",radio:"checked",tab:"selected",treeitem:"selected"};z.e=Hp.prototype;z.e.gf=function(){};z.e.B=function(a){return a.K().B("DIV",this.Uf(a).join(" "),a.Sa())};z.e.R=function(a){return a};z.e.kj=function(a,b,c){if(a=a.m?a.m():a){var d=[b];z.B&&!z.D("7")&&(d=Lp(z.ej(a),b),d.push(b));(c?z.hj:z.jj)(a,d)}};z.e.Wb=function(){return!0};
z.e.w=function(a,b){b.id&&Jn(a,b.id);var c=this.R(b);c&&c.firstChild?a.om(c.firstChild.nextSibling?z.wb(c.childNodes):c.firstChild):a.om(null);var d=0,f=this.U(),g=this.U(),h=!1,k=!1,m=!1,n=z.wb(z.ej(b));z.w(n,function(a){h||a!=f?k||a!=g?d|=this.Zr(a):k=!0:(h=!0,g==f&&(k=!0));1==this.Zr(a)&&zn(c)&&z.of(c,!1)},this);a.N=d;h||(n.push(f),g==f&&(k=!0));k||n.push(g);var t=a.ff;t&&n.push.apply(n,t);if(z.B&&!z.D("7")){var x=Lp(n);0<x.length&&(n.push.apply(n,x),m=!0)}if(!h||!k||t||m)b.className=n.join(" ");
return b};z.e.De=function(a){a.qd()&&this.ph(a.m(),!0);a.isEnabled()&&this.Ne(a,a.V())};z.e.CA=function(a,b){z.bj(a,"label",b)};z.e.xp=function(a,b){z.uo(a,!b,!z.B&&!z.vg)};z.e.ph=function(a,b){this.kj(a,this.U()+"-rtl",b)};z.e.Zf=function(a){var b;return Kp(a,32)&&(b=a.Xb())?zn(b):!1};z.e.Ne=function(a,b){var c;if(Kp(a,32)&&(c=a.Xb())){if(!b&&a.N&32){try{c.blur()}catch(d){}a.N&32&&a.Wc(null)}zn(c)!=b&&z.of(c,b)}};z.e.G=function(a,b){z.P(a,b);a&&z.bj(a,"hidden",!b)};
z.e.lc=function(a,b,c){var d=a.m();if(d){var f=this.Mn(b);f&&this.kj(a,f,c);this.rg(d,b,c)}};z.e.rg=function(a,b,c){zE||(zE={1:"disabled",8:"selected",16:"checked",64:"expanded"});b=zE[b];var d=a.getAttribute("role")||null;d&&(d=AE[d]||b,b="checked"==b||"selected"==b?d:b);b&&z.bj(a,b,c)};
z.e.ia=function(a,b){var c=this.R(a);if(c&&(z.af(c),b))if(z.pa(b))z.nf(c,b);else{var d=function(a){if(a){var b=z.Ke(c);c.appendChild(z.pa(a)?b.createTextNode(a):a)}};z.na(b)?z.w(b,d):!z.oa(b)||"nodeType"in b?d(b):z.w(z.wb(b),d)}};z.e.Xb=function(a){return a.m()};z.e.U=function(){return"goog-control"};
z.e.Uf=function(a){var b=this.U(),c=[b],d=this.U();d!=b&&c.push(d);b=a.getState();for(d=[];b;){var f=b&-b;d.push(this.Mn(f));b&=~f}c.push.apply(c,d);(a=a.ff)&&c.push.apply(c,a);z.B&&!z.D("7")&&c.push.apply(c,Lp(c));return c};z.e.Mn=function(a){this.$q||Mp(this);return this.$q[a]};z.e.Zr=function(a){this.xJ||(this.$q||Mp(this),this.xJ=z.Vo(this.$q));a=(0,window.parseInt)(this.xJ[a],10);return(0,window.isNaN)(a)?0:a};z.v(z.Np,Hp);z.la(z.Np);z.e=z.Np.prototype;z.e.gf=function(){return"button"};z.e.rg=function(a,b,c){switch(b){case 8:case 16:z.bj(a,"pressed",c);break;default:case 64:case 1:z.Np.o.rg.call(this,a,b,c)}};z.e.B=function(a){var b=z.Np.o.B.call(this,a);this.wd(b,a.zl());var c=a.Y();c&&this.Da(b,c);Kp(a,16)&&this.rg(b,16,a.of());return b};z.e.w=function(a,b){b=z.Np.o.w.call(this,a,b);var c=this.Y(b);a.le=c;a.sB=this.zl(b);Kp(a,16)&&this.rg(b,16,a.of());return b};z.e.Y=z.p;z.e.Da=z.p;z.e.zl=function(a){return a.title};
z.e.wd=function(a,b){a&&(b?a.title=b:a.removeAttribute("title"))};z.e.xi=z.l(28);z.e.U=function(){return"goog-button"};var Rp={},Pp={};z.v(Qp,z.Q);z.e=Qp.prototype;z.e.rc=null;z.e.N=0;z.e.Rp=39;z.e.Wi=255;z.e.sk=0;z.e.ob=!0;z.e.ff=null;z.e.zj=!0;z.e.Gq=!1;z.e.bp=null;z.e.Cp=function(a){this.wa&&a!=this.zj&&Sp(this,a);this.zj=a};z.e.Xb=function(){return this.M.Xb(this)};z.e.Wr=function(){return this.sb||(this.sb=new Fp)};z.e.Eh=function(a){a&&(this.ff?z.y(this.ff,a)||this.ff.push(a):this.ff=[a],this.M.kj(this,a,!0))};
z.e.kj=function(a,b){b?this.Eh(a):a&&this.ff&&z.ub(this.ff,a)&&(0==this.ff.length&&(this.ff=null),this.M.kj(this,a,!1))};z.e.B=function(){var a=this.M.B(this);this.h=a;Ip(this.M,a,this.ci());this.Gq||this.M.xp(a,!1);this.V()||this.M.G(a,!1)};z.e.ci=function(){return this.bp};z.e.nu=function(a){this.bp=a};z.e.CA=function(a){this.KC=a;var b=this.m();b&&this.M.CA(b,a)};z.e.R=function(){return this.M.R(this.m())};z.e.Wb=function(a){return this.M.Wb(a)};
z.e.X=function(a){this.h=a=this.M.w(this,a);Ip(this.M,a,this.ci());this.Gq||this.M.xp(a,!1);this.ob="none"!=a.style.display};z.e.C=function(){Qp.o.C.call(this);Jp(this.M,this,this.h);this.M.De(this);if(this.Rp&-2&&(this.zj&&Sp(this,!0),Kp(this,32))){var a=this.Xb();if(a){var b=this.Wr();b.attach(a);this.v().g(b,"key",this.Yb).g(a,"focus",this.ee).g(a,"blur",this.Wc)}}};z.e.Gb=function(){Qp.o.Gb.call(this);this.sb&&this.sb.detach();this.V()&&this.isEnabled()&&this.M.Ne(this,!1)};
z.e.D=function(){Qp.o.D.call(this);this.sb&&(this.sb.H(),delete this.sb);delete this.M;this.fo=this.ff=this.rc=null};z.e.Sa=function(){return this.rc};z.e.ia=function(a){this.M.ia(this.m(),a);this.om(a)};z.e.om=function(a){this.rc=a};z.e.Ng=function(){var a=this.Sa();if(!a)return"";a=z.pa(a)?a:z.na(a)?z.ob(a,z.Do).join(""):z.pf(a);return hp(a)};z.e.yp=function(a){this.ia(a)};z.e.ph=function(a){Qp.o.ph.call(this,a);var b=this.m();b&&this.M.ph(b,a)};
z.e.xp=function(a){this.Gq=a;var b=this.m();b&&this.M.xp(b,a)};z.e.V=function(){return this.ob};z.e.G=function(a,b){if(b||this.ob!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.m();c&&this.M.G(c,a);this.isEnabled()&&this.M.Ne(this,a);this.ob=a;return!0}return!1};z.e.isEnabled=function(){return!(this.N&1)};z.e.Ua=function(a){var b=this.getParent();b&&"function"==typeof b.isEnabled&&!b.isEnabled()||!Vp(this,1,!a)||(a||(this.setActive(!1),this.Lc(!1)),this.V()&&this.M.Ne(this,a),this.lc(1,!a,!0))};
z.e.Lc=function(a){Vp(this,2,a)&&this.lc(2,a)};z.e.hc=function(){return!!(this.N&4)};z.e.setActive=function(a){Vp(this,4,a)&&this.lc(4,a)};z.e.JA=function(a){Vp(this,8,a)&&this.lc(8,a)};z.e.of=function(){return!!(this.N&16)};z.e.Jc=function(a){Vp(this,16,a)&&this.lc(16,a)};z.e.rb=function(){return!!(this.N&64)};z.e.Cb=function(a){Vp(this,64,a)&&this.lc(64,a)};z.e.getState=function(){return this.N};
z.e.lc=function(a,b,c){c||1!=a?Kp(this,a)&&b!=!!(this.N&a)&&(this.M.lc(this,a,b),this.N=b?this.N|a:this.N&~a):this.Ua(!b)};z.e.Rb=function(a,b){if(this.wa&&this.N&a&&!b)throw Error("Component already rendered");!b&&this.N&a&&this.lc(a,!1);this.Rp=b?this.Rp|a:this.Rp&~a};z.e.md=function(a){(!a.relatedTarget||!z.mf(this.m(),a.relatedTarget))&&this.dispatchEvent("enter")&&this.isEnabled()&&Up(this,2)&&this.Lc(!0)};
z.e.Dl=function(a){a.relatedTarget&&z.mf(this.m(),a.relatedTarget)||!this.dispatchEvent("leave")||(Up(this,4)&&this.setActive(!1),Up(this,2)&&this.Lc(!1))};z.e.Xn=z.p;z.e.fe=function(a){this.isEnabled()&&(Up(this,2)&&this.Lc(!0),z.Uc(a)&&(Up(this,4)&&this.setActive(!0),this.M&&this.M.Zf(this)&&this.Xb().focus()));!this.Gq&&z.Uc(a)&&a.preventDefault()};z.e.mf=function(a){this.isEnabled()&&(Up(this,2)&&this.Lc(!0),this.hc()&&this.Nd(a)&&Up(this,4)&&this.setActive(!1))};
z.e.nF=function(a){this.isEnabled()&&this.Nd(a)};z.e.Nd=function(a){Up(this,16)&&this.Jc(!this.of());Up(this,8)&&this.JA(!0);Up(this,64)&&this.Cb(!this.rb());var b=new z.Mc("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.aA=a.aA);return this.dispatchEvent(b)};z.e.ee=function(){Up(this,32)&&Vp(this,32,!0)&&this.lc(32,!0)};z.e.Wc=function(){Up(this,4)&&this.setActive(!1);Up(this,32)&&Vp(this,32,!1)&&this.lc(32,!1)};
z.e.Yb=function(a){return this.V()&&this.isEnabled()&&this.lf(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};z.e.lf=function(a){return 13==a.keyCode&&this.Nd(a)};if(!z.sa(Qp))throw Error("Invalid component class "+Qp);if(!z.sa(Hp))throw Error("Invalid renderer class "+Hp);var BE=z.ua(Qp);Rp[BE]=Hp;z.Op("goog-control",function(){return new Qp(null)});z.v(Tp,z.yc);Tp.prototype.Bl=function(){this.ar=!1};Tp.prototype.js=function(){this.ar=!0};
Tp.prototype.Al=function(a){if(this.ar)this.ar=!1;else{var b=a.fc,c=b.button,d=b.type;b.button=0;b.type="mousedown";this.lr.fe(new z.Qc(b,a.currentTarget));b.type="mouseup";this.lr.mf(new z.Qc(b,a.currentTarget));b.button=c;b.type=d}};Tp.prototype.D=function(){this.lr=null;Tp.o.D.call(this)};z.v(Wp,z.Np);z.la(Wp);z.e=Wp.prototype;z.e.gf=function(){};z.e.B=function(a){a.Cp(!1);a.Wi&=-256;a.Rb(32,!1);return a.K().B("BUTTON",{"class":this.Uf(a).join(" "),disabled:!a.isEnabled(),title:a.zl()||"",value:a.Y()||""},a.Ng()||"")};z.e.Wb=function(a){return"BUTTON"==a.tagName||"INPUT"==a.tagName&&("button"==a.type||"submit"==a.type||"reset"==a.type)};z.e.w=function(a,b){a.Cp(!1);a.Wi&=-256;a.Rb(32,!1);if(b.disabled){var c=this.Mn(1);z.gj(b,c)}return Wp.o.w.call(this,a,b)};
z.e.De=function(a){a.v().g(a.m(),"click",a.Nd)};z.e.xp=z.p;z.e.ph=z.p;z.e.Zf=function(a){return a.isEnabled()};z.e.Ne=z.p;z.e.lc=function(a,b,c){Wp.o.lc.call(this,a,b,c);(a=a.m())&&1==b&&(a.disabled=c)};z.e.Y=function(a){return a.value};z.e.Da=function(a,b){a&&(a.value=b)};z.e.rg=z.p;z.v(z.Xp,Qp);z.e=z.Xp.prototype;z.e.Y=function(){return this.le};z.e.Da=function(a){this.le=a;this.M.Da(this.m(),a)};z.e.zl=function(){return this.sB};z.e.wd=function(a){this.sB=a;this.M.wd(this.m(),a)};z.e.xi=z.l(27);z.e.D=function(){z.Xp.o.D.call(this);delete this.le;delete this.sB};z.e.C=function(){z.Xp.o.C.call(this);if(Kp(this,32)){var a=this.Xb();a&&this.v().g(a,"keyup",this.lf)}};z.e.lf=function(a){return 13==a.keyCode&&"key"==a.type||32==a.keyCode&&"keyup"==a.type?this.Nd(a):32==a.keyCode};
z.Op("goog-button",function(){return new z.Xp(null)});z.v(Yp,Hp);z.la(Yp);Yp.prototype.B=function(a){var b=a.K().B("SPAN",this.Uf(a).join(" "));Zp(this,b,a.Nh);return b};Yp.prototype.w=function(a,b){b=Yp.o.w.call(this,a,b);var c=z.ej(b),d=dq;z.y(c,$p(this,bq))?d=bq:z.y(c,$p(this,cq))?d=cq:z.y(c,$p(this,dq))&&(d=dq);a.Nh=d;z.bj(b,"checked",d==bq?"mixed":d==cq?"true":"false");return b};Yp.prototype.gf=function(){return"checkbox"};Yp.prototype.U=function(){return"goog-checkbox"};z.v(eq,Qp);var cq=!0,dq=!1,bq=null,aq={AW:cq,mX:dq,oX:bq};z.e=eq.prototype;z.e.Lb=null;z.e.of=function(){return this.Nh==cq};z.e.Jc=function(a){a!=this.Nh&&(this.Nh=a,Zp(this.M,this.m(),this.Nh))};z.e.toggle=function(){this.Jc(this.Nh?dq:cq)};
z.e.C=function(){eq.o.C.call(this);if(this.zj){var a=this.v();this.Lb&&a.g(this.Lb,"click",this.Qx).g(this.Lb,"mouseover",this.md).g(this.Lb,"mouseout",this.Dl).g(this.Lb,"mousedown",this.fe).g(this.Lb,"mouseup",this.mf);a.g(this.m(),"click",this.Qx)}a=this.h;if(this.Lb&&a!=this.Lb&&z.kp(qo(a))){if(!this.Lb.id){var b=this.Lb,c;c=this.de()+".lbl";b.id=c}z.bj(a,"labelledby",this.Lb.id)}};z.e.Ua=function(a){eq.o.Ua.call(this,a);if(a=this.m())a.tabIndex=this.isEnabled()?0:-1};
z.e.Qx=function(a){a.stopPropagation();var b=this.Nh?"uncheck":"check";this.isEnabled()&&!a.target.href&&this.dispatchEvent(b)&&(a.preventDefault(),this.toggle(),this.dispatchEvent("change"))};z.e.lf=function(a){32==a.keyCode&&(this.Nd(a),this.Qx(a));return!1};z.Op("goog-checkbox",function(){return new eq});z.v(z.fq,z.Np);z.la(z.fq);z.e=z.fq.prototype;z.e.B=function(a){var b={"class":"goog-inline-block "+this.Uf(a).join(" ")},b=a.K().B("DIV",b,a.Sa());this.wd(b,a.zl());return b};z.e.gf=function(){return"button"};z.e.Wb=function(a){return"DIV"==a.tagName};z.e.w=function(a,b){z.gj(b,"goog-inline-block");return z.fq.o.w.call(this,a,b)};z.e.Y=function(){return""};z.e.U=function(){return"goog-flat-button"};z.Op("goog-flat-button",function(){return new z.Xp(null,z.fq.ba())});z.v(gq,z.fq);z.la(gq);gq.prototype.U=function(){return"goog-link-button"};z.Op("goog-link-button",function(){return new z.Xp(null,gq.ba())});z.v(z.hq,z.F);z.e=z.hq.prototype;z.e.zj=!0;z.e.D=function(){z.hq.o.D.call(this);z.Dc(this.CG);z.Dc(this.vz)};z.e.gf=function(){return"tab"};z.e.R=function(){return this.jl};z.e.expand=function(){this.Kc(!0)};z.e.collapse=function(){this.Kc(!1)};z.e.toggle=function(){this.Kc(!this.jb)};
z.e.Kc=function(a){this.jl?z.P(this.jl,a):a&&this.Ts&&(this.jl=this.Ts());this.jl&&z.gj(this.jl,"goog-zippy-content");this.jj?(z.P(this.Of,!a),z.P(this.jj,a)):this.Of&&(z.po(this.Of,"goog-zippy-expanded",a),z.po(this.Of,"goog-zippy-collapsed",!a),z.bj(this.Of,"expanded",a));this.jb=a;this.dispatchEvent(new kq("toggle",this,this.jb))};z.e.pd=function(){return this.jb};z.e.Cp=function(a){this.zj!=a&&((this.zj=a)?(iq(this,this.Of),iq(this,this.jj)):this.vz.removeAll())};
z.e.jS=function(a){if(13==a.keyCode||32==a.keyCode)this.toggle(),this.dispatchEvent(new z.Mc("action",this)),a.preventDefault(),a.stopPropagation()};z.e.iS=function(){this.toggle();this.dispatchEvent(new z.Mc("action",this))};z.v(kq,z.Mc);z.v(z.lq,z.U);z.e=z.lq.prototype;z.e.B=function(){z.lq.o.B.call(this);var a=(0,window.$)(".activate-dialog-template").html();this.ia(a)};z.e.C=function(){z.lq.o.C.call(this);z.Sj(this,420);this.La("激活帐号");this.Ad=(0,window.$)(this.Yh()).addClass("activate-dialog");this.gc()};z.e.gc=function(){this.$B=(0,window.$)(".link-activate-view",this.Ad);this.RB=(0,window.$)(".code-activate-view",this.Ad);this.$B.length?mq(this):oq(this)};
z.e.LS=function(a){var b=this,c=(0,window.$)(a);a=c.ie();var d=a.account,f=this.pf(d),g=f?"/settings/account/send_new_email_digits":"/settings/account/send_new_phone_digits";f?this.tb(a,"account","email"):this.tb(a,"account","phone_no");return window.$.post(g,a,function(a){a.success?(c.hide(),(0,window.$)('input[name\x3d"account"]',b.OB).val(d),b.OB.show(),qq(b,f)):(a=a.payload.fields,f?b.tb(a,"email","account"):b.tb(a,"phone_no","account"),c.data("validator").showErrors(a))})};
z.e.LR=function(a){var b=this,c=(0,window.$)(a);a=c.ie();var d=this.pf(a.account),f=d?"/settings/account/update_email":"/settings/account/update_phone";d?this.tb(a,"account","email"):this.tb(a,"account","phone_no");return window.$.post(f,a,function(a){a.success?(b.ia("激活成功。你可以正常使用提问、回答、评论等功能啦！"),(0,window.setTimeout)(function(){window.location.reload()},1E3)):(a=a.payload.fields,d?b.tb(a,"email","account"):b.tb(a,"phone_no","account"),c.data("validator").showErrors(a))})};
z.e.tb=function(a,b,c){a[b]&&(a[c]=a[b],delete a[b])};z.e.pf=function(a){return!/^\+?[0-9]+$/.test(a)};var pq={onkeyup:!1,onfocusout:!1,validClass:"",focusInvalid:!1,highlight:z.p,messages:{account:{required:"请填写手机号或邮箱"},digits:{required:"请填写验证码"}},errorPlacement:function(a,b){var c=b.parent(".input-wrapper");a.appendTo(c).click(function(){b.focus()});b.focus(function(){a.remove()})}};z.ja(sq,z.F);sq.prototype.D=function(){z.F.prototype.D.call(this);this.zu&&((0,window.clearTimeout)(this.zu),this.zu=null)};sq.prototype.It=function(){if(!this.promise||"pending"!==this.promise.state()){var a=this.XL;this.promise=(window.$.support.cors?window.$.ajax(a):rq(a)).done(this.onMessage.bind(this)).fail(this.Fz.bind(this))}};sq.prototype.onMessage=function(a){try{this.dispatchEvent({type:"message",data:a})}catch(b){}this.zu=(0,window.setTimeout)(this.It.bind(this),this.xT)};
sq.prototype.Fz=function(){this.dispatchEvent("error");this.cu<this.bH&&(this.cu=Math.min(this.cu*this.hQ,this.bH));this.zu=(0,window.setTimeout)(this.It.bind(this),this.cu)};var tq={type:"GET",url:"",data:{},timeout:6E4,xhrFields:{withCredentials:!0}};z.ja(z.uq,z.Q);z.uq.prototype.B=function(){this.h=z.N("div",{innerHTML:(0,window.$)(".unblock-dialog-template").html()})};z.uq.prototype.C=function(){z.Q.prototype.C.call(this);this.Fk=(0,window.$)(".unblock-dialog-loading",this.h);this.UB=(0,window.$)(".unblock-dialog-error",this.h);this.qv=(0,window.$)(".unblock-dialog-view",this.h);vq(this);this.Ac=new z.ck("antispam");this.Ac.w((0,window.$)(".unblock-dialog-captcha",this.h).get(0));this.Zm();Cq(this)};
z.uq.prototype.Zm=function(){wq(this);Aq(this);Bq(this)};z.ja(Dq,z.U);Dq.prototype.B=function(){z.U.prototype.B.call(this);this.La("帐号解封");z.Kj(this,null);this.xf(!0)};Dq.prototype.C=function(){var a=this;z.U.prototype.C.call(this);this.xB=new z.uq(function(b){return a.La(b)},!0);z.Bc(this,this.xB);this.xB.render(this.R());this.xB.g("complete",function(){return a.G(!1)})};z.v(Fq,z.F);var Gq=0;Fq.prototype.dg=function(){this.hd("begin")};Fq.prototype.eg=function(){this.hd("end")};Fq.prototype.hd=function(a){this.dispatchEvent(a)};z.v(Hq,z.yc);z.e=Hq.prototype;z.e.kb=0;z.e.D=function(){Hq.o.D.call(this);this.stop();delete this.Tj;delete this.ga};z.e.start=function(a){this.stop();this.kb=z.wd(this.Wk,z.ka(a)?a:this.Vg)};z.e.stop=function(){this.hc()&&z.xd(this.kb);this.kb=0};z.e.fire=function(){this.stop();this.Gg()};z.e.hc=function(){return 0!=this.kb};z.e.Gg=function(){this.kb=0;this.Tj&&this.Tj.call(this.ga)};var Kq={},Lq=null;z.v(Pq,Fq);z.e=Pq.prototype;z.e.Ig=function(a){this.Ii=a};z.e.play=function(a){if(a||this.N==Gq)this.progress=0,this.coords=this.Np;else if(1==this.N)return!1;Jq(this);this.startTime=a=(0,z.G)();-1==this.N&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.progress||this.dg();this.hd("play");-1==this.N&&this.hd("resume");this.N=1;var b=z.ua(this);b in Kq||(Kq[b]=this);Mq();Oq(this,a);return!0};
z.e.stop=function(a){Jq(this);this.N=Gq;a&&(this.progress=1);Qq(this,this.progress);this.hd("stop");this.eg()};z.e.pause=function(){1==this.N&&(Jq(this),this.N=-1,this.hd("pause"))};z.e.D=function(){this.N==Gq||this.stop(!1);this.hd("destroy");Pq.o.D.call(this)};z.e.destroy=function(){this.H()};z.e.Bz=function(){this.hd("animate")};z.e.hd=function(a){this.dispatchEvent(new Rq(a,this))};z.v(Rq,z.Mc);var Xq={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};var Yq=/#(.)(.)(.)/,Tq=/^#(?:[0-9a-f]{3}){1,2}$/i,Zq=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;z.v($q,Pq);z.e=$q.prototype;z.e.xh=z.p;z.e.qd=function(){z.ka(this.lg)||(this.lg=z.Ng(this.element));return this.lg};z.e.Bz=function(){this.xh();$q.o.Bz.call(this)};z.e.eg=function(){this.xh();$q.o.eg.call(this)};z.e.dg=function(){this.xh();$q.o.dg.call(this)};z.v(ar,$q);ar.prototype.xh=function(){var a=this.Ii&&this.qd()?"right":"left";this.element.style[a]=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};z.v(br,$q);
br.prototype.xh=function(){if(this.Ii){var a=this.element,b=Math.round(this.coords[0]),b=Math.max(b,0);z.Ng(a)?z.A?a.scrollLeft=-b:z.Il&&z.D("8")?a.scrollLeft=b:a.scrollLeft=a.scrollWidth-b-a.clientWidth:a.scrollLeft=b}else this.element.scrollLeft=Math.round(this.coords[0]);this.element.scrollTop=Math.round(this.coords[1])};z.v(cr,$q);cr.prototype.xh=function(){this.element.style.width=Math.round(this.coords[0])+"px"};z.v(dr,$q);
dr.prototype.xh=function(){this.element.style.height=Math.round(this.coords[0])+"px"};z.v(er,$q);var CE=1/1024,fr=-1;z.e=er.prototype;z.e.xh=function(){var a=this.coords[0];Math.abs(a-this.Rs)>=CE&&(z.Kg(this.element,a),this.Rs=a)};z.e.dg=function(){this.Rs=fr;er.o.dg.call(this)};z.e.eg=function(){this.Rs=fr;er.o.eg.call(this)};z.e.show=function(){this.element.style.display=""};z.e.hide=function(){this.element.style.display="none"};z.v(gr,er);gr.prototype.dg=function(){this.show();gr.o.dg.call(this)};
gr.prototype.eg=function(){this.hide();gr.o.eg.call(this)};z.v(hr,er);hr.prototype.dg=function(){this.show();hr.o.dg.call(this)};z.v(ir,$q);ir.prototype.xh=function(){for(var a=[],b=0;b<this.coords.length;b++)a[b]=Math.round(this.coords[b]);this.element.style.backgroundColor="rgb("+a.join(",")+")"};var DE={hidden:"visibilitychange",msHidden:"msvisibilitychange",mozHidden:"mozvisibilitychange",webkitHidden:"webkitvisibilitychange"},ur;a:{var EE=function(a,b){return b in window.document},FE;for(FE in DE)if(EE.call(void 0,0,FE)){ur=FE;break a}ur=void 0}var vr=DE[ur],tr=z.ka(ur);z.Fr=function(a){return function(b){return b.replace(a,"")}}(/^⁠+|⁠+$/);z.Ar.prototype.add=function(a,b){!1===this.IQ?this.data.set(a,b):this.data.set((0,window.encodeURIComponent)(a),(0,window.encodeURIComponent)(b))};z.Ar.prototype.ye=function(){var a=[];z.w(this.data.kd(),function(b){a.push(b+"\x3d"+this.data.get(b))},this);return a.join("\x26")};
z.xv=function(){function a(a){return a.replace(/\\\\/g,"\\").replace(/\\'/g,"'")}var b={tV:{evaluate:/<%([\s\S]+?)%>/g,CQ:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},escape:function(a){return(""+a).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/"/g,"\x26quot;").replace(/'/g,"\x26#x27;").replace(/\//g,"\x26#x2F;")}},c=/.^/;return function(d,f){var g=b.tV,g="var __p\x3d[],print\x3dfunction(){__p.push.apply(__p,arguments);};with(data||{}){__p.push('"+d.replace(/\\/g,
"\\\\").replace(/'/g,"\\'").replace(g.escape||c,function(b,c){return"',_.escape("+a(c)+"),'"}).replace(g.CQ||c,function(b,c){return"',"+a(c)+",'"}).replace(g.evaluate||c,function(b,c){return"');"+a(c).replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",h=new Function("data","_",g);return f?h(f,b):function(a){return h.call(this,a,b)}}}();z.Gr.defaults={paddingTop:0};var Ir={offsetTop:0,paddingTop:0,Mv:!1};
(0,window.$)(function(){Ir.paddingTop=z.Qg(window.document.body).top});z.GE=z.Pj(function(){return(+new Date).toString(32).slice(-5)+Math.random().toString(32).slice(-3)});z.v(z.Mr,z.Wj);z.Mr.prototype.ZJ=function(){return Nr(this)};z.la(Pr);z.e=Pr.prototype;z.e.gf=function(){return this.Qv};z.e.B=function(a){return a.K().B("DIV",this.Uf(a).join(" "))};z.e.R=function(a){return a};z.e.Wb=function(a){return"DIV"==a.tagName};z.e.w=function(a,b){b.id&&Jn(a,b.id);var c=this.U(),d=!1,f=z.ej(b);f&&z.w(f,function(b){b==c?d=!0:b&&(b==c+"-disabled"?a.Ua(!1):b==c+"-horizontal"?a.setOrientation(z.HE):b==c+"-vertical"&&a.setOrientation(iy))},this);d||z.gj(b,c);Rr(this,a,this.R(b));return b};
z.e.Nn=function(a){a:{var b;a=z.ej(a);for(var c=0,d=a.length;c<d;c++)if(b=a[c],b=b in Pp?Pp[b]():null){a=b;break a}a=null}return a};z.e.De=function(a){a=a.m();z.uo(a,!0,z.A);z.B&&(a.hideFocus=!0);var b=this.gf();b&&z.aj(a,b)};z.e.Xb=function(a){return a.m()};z.e.U=function(){return"goog-container"};z.e.Uf=function(a){var b=this.U(),c=[b,a.Mb==z.HE?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};z.e.ZE=function(){return iy};var iy;z.v(z.Sr,z.Q);z.HE="horizontal";iy="vertical";z.e=z.Sr.prototype;z.e.Ty=null;z.e.sb=null;z.e.M=null;z.e.Mb=null;z.e.ob=!0;z.e.dc=!0;z.e.sx=!0;z.e.Ra=-1;z.e.jc=null;z.e.tf=!1;z.e.ZL=!1;z.e.dT=!0;z.e.Bg=null;z.e.Xb=function(){return this.Ty||this.M.Xb(this)};z.e.Wr=function(){return this.sb||(this.sb=new Fp(this.Xb()))};z.e.B=function(){this.h=this.M.B(this)};z.e.R=function(){return this.M.R(this.m())};z.e.Wb=function(a){return this.M.Wb(a)};
z.e.X=function(a){this.h=this.M.w(this,a);"none"==a.style.display&&(this.ob=!1)};z.e.C=function(){z.Sr.o.C.call(this);z.ch(this,function(a){a.wa&&Ur(this,a)},this);var a=this.m();this.M.De(this);this.G(this.ob,!0);this.v().g(this,"enter",this.Tx).g(this,"highlight",this.Wx).g(this,"unhighlight",this.ey).g(this,"open",this.vP).g(this,"close",this.Rx).g(a,"mousedown",this.fe).g(z.Ke(a),"mouseup",this.KO).g(a,["mousedown","mouseup","mouseover","mouseout","contextmenu"],this.DO);this.Zf()&&Tr(this,!0)};
z.e.Gb=function(){this.ub(-1);this.jc&&this.jc.Cb(!1);this.tf=!1;z.Sr.o.Gb.call(this)};z.e.D=function(){z.Sr.o.D.call(this);this.sb&&(this.sb.H(),this.sb=null);this.M=this.jc=this.Bg=this.Ty=null};z.e.Tx=function(){return!0};z.e.Wx=function(a){var b=In(this,a.target);if(-1<b&&b!=this.Ra){var c=Vr(this);c&&c.Lc(!1);this.Ra=b;c=Vr(this);this.tf&&c.setActive(!0);this.dT&&this.jc&&c!=this.jc&&(Kp(c,64)?c.Cb(!0):this.jc.Cb(!1))}b=this.m();null!=a.target.m()&&z.bj(b,"activedescendant",a.target.m().id)};
z.e.ey=function(a){a.target==Vr(this)&&(this.Ra=-1);this.m().removeAttribute("aria-activedescendant")};z.e.vP=function(a){(a=a.target)&&a!=this.jc&&a.getParent()==this&&(this.jc&&this.jc.Cb(!1),this.jc=a)};z.e.Rx=function(a){a.target==this.jc&&(this.jc=null);var b=this.m(),c=a.target.m();b&&a.target.N&2&&c&&ro(b,c)};z.e.fe=function(a){this.dc&&(this.tf=!0);var b=this.Xb();b&&zn(b)?b.focus():a.preventDefault()};z.e.KO=function(){this.tf=!1};
z.e.DO=function(a){var b;a:{b=a.target;if(this.Bg)for(var c=this.m();b&&b!==c;){var d=b.id;if(d in this.Bg){b=this.Bg[d];break a}b=b.parentNode}b=null}if(b)switch(a.type){case "mousedown":b.fe(a);break;case "mouseup":b.mf(a);break;case "mouseover":b.md(a);break;case "mouseout":b.Dl(a);break;case "contextmenu":b.Xn(a)}};z.e.ee=function(){};z.e.Wc=function(){this.ub(-1);this.tf=!1;this.jc&&this.jc.Cb(!1)};
z.e.Yb=function(a){return this.isEnabled()&&this.V()&&(0!=z.ah(this)||this.Ty)&&this.lf(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
z.e.lf=function(a){var b=Vr(this);if(b&&"function"==typeof b.Yb&&b.Yb(a)||this.jc&&this.jc!=b&&"function"==typeof this.jc.Yb&&this.jc.Yb(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.Zf())this.Xb().blur();else return!1;break;case 36:z.Wr(this);break;case 35:Yr(this);break;case 38:if(this.Mb==iy)$r(this);else return!1;break;case 37:if(this.Mb==z.HE)this.qd()?Zr(this):$r(this);else return!1;break;case 40:if(this.Mb==iy)Zr(this);else return!1;break;
case 39:if(this.Mb==z.HE)this.qd()?$r(this):Zr(this);else return!1;break;default:return!1}return!0};z.e.L=function(a,b){z.Sr.o.L.call(this,a,b)};z.e.Lk=function(a,b,c){a.sk|=2;a.sk|=64;!this.Zf()&&this.ZL||a.Rb(32,!1);a.Cp(!1);var d=a.getParent()==this?In(this,a):-1;z.Sr.o.Lk.call(this,a,b,c);a.wa&&this.wa&&Ur(this,a);a=d;-1==a&&(a=z.ah(this));a==this.Ra?this.Ra=Math.min(z.ah(this)-1,b):a>this.Ra&&b<=this.Ra?this.Ra++:a<this.Ra&&b>this.Ra&&this.Ra--};
z.e.removeChild=function(a,b){if(a=z.pa(a)?z.$g(this,a):a){var c=In(this,a);-1!=c&&(c==this.Ra?(a.Lc(!1),this.Ra=-1):c<this.Ra&&this.Ra--);(c=a.m())&&c.id&&this.Bg&&z.Lb(this.Bg,c.id)}a=z.Sr.o.removeChild.call(this,a,b);a.Cp(!0);return a};z.e.setOrientation=function(a){if(this.m())throw Error("Component already rendered");this.Mb=a};z.e.V=function(){return this.ob};
z.e.G=function(a,b){if(b||this.ob!=a&&this.dispatchEvent(a?"show":"hide")){this.ob=a;var c=this.m();c&&(z.P(c,a),this.Zf()&&Qr(this.Xb(),this.dc&&this.ob),b||this.dispatchEvent(this.ob?"aftershow":"afterhide"));return!0}return!1};z.e.isEnabled=function(){return this.dc};
z.e.Ua=function(a){this.dc!=a&&this.dispatchEvent(a?"enable":"disable")&&(a?(this.dc=!0,z.ch(this,function(a){a.rK?delete a.rK:a.Ua(!0)})):(z.ch(this,function(a){a.isEnabled()?a.Ua(!1):a.rK=!0}),this.tf=this.dc=!1),this.Zf()&&Qr(this.Xb(),a&&this.ob))};z.e.Zf=function(){return this.sx};z.e.Ne=function(a){a!=this.sx&&this.wa&&Tr(this,a);this.sx=a;this.dc&&this.ob&&Qr(this.Xb(),a)};z.e.ub=function(a){(a=z.bh(this,a))?a.Lc(!0):-1<this.Ra&&Vr(this).Lc(!1)};z.e.Lc=function(a){this.ub(In(this,a))};
z.e.fD=function(a){return a.V()&&a.isEnabled()&&Kp(a,2)};z.v(as,z.Q);as.prototype.Fa=function(a){this.Vu.push(a);a.Db(this)};as.prototype.C=function(){as.o.C.call(this);this.v().g(this,"toggle",this.JP)};as.prototype.JP=function(a){z.w(this.Vu,function(b){a.target!==b&&b.pd()&&b.Kc(!1,!0)},this)};as.prototype.D=function(){as.o.D.call(this);z.w(this.Vu,function(a){a.H()},this);this.Vu=[]};z.bs.prototype.ri=function(a,b,c){if(this.IB){var d=this.Qa,f=cs(a,b,d);0==f.length&&(f=ds(a,b,d));b=f}else b=cs(a,b,this.Qa);c(a,b)};var fs,hs;z.v(z.es,z.F);z.e=z.es.prototype;z.e.Ul=10;z.e.Wm=!0;z.e.DC=!1;z.e.xK=!1;z.e.RJ=!1;fs="hilite";z.gs="select";z.is="dismiss";hs="canceldismiss";z.e=z.es.prototype;z.e.getToken=function(){return this.Ub};z.e.handleEvent=function(a){var b=this.Kd;if(a.target==this.M)switch(a.type){case fs:this.Yf(a.si);break;case z.gs:var c=!1;if(z.qa(a.si)){a=a.si;var d=this.Qa[ms(this,a)],c=!!d&&b.Ry&&b.Ry(d);d&&!c&&this.Sg!=a&&this.Yf(a)}c||this.vi();break;case hs:z.ls(this);break;case z.is:this.cj()}};
z.e.ou=function(a,b){this.Ub!=a&&(this.Ub=a,this.Kd.ri(this.Ub,this.Ul,(0,z.q)(this.nR,this),b),z.ls(this))};z.e.Mx=function(){return this.wc};z.e.rb=function(){return this.M.V()};z.e.Yf=function(a){var b=ms(this,a),c=this.Qa[b];return c&&this.Kd.Ry&&this.Kd.Ry(c)?!1:(this.Sg=a,this.M.Yf(a),-1!=b)};
z.e.vi=function(){var a=ms(this,this.Sg);if(-1!=a){var b=this.Qa[a],c=this.wf.wi(b);this.RJ?(this.Ub=null,this.cj()):this.Bc();c||(this.dispatchEvent({type:"update",si:b,index:a}),this.RJ&&this.wf.update(!0));return!0}this.Bc();this.dispatchEvent({type:"update",si:null,index:null});return!1};z.e.Bc=function(){this.Sg=-1;this.Ub=null;this.Tc+=this.Qa.length;this.Qa=[];window.clearTimeout(this.Xd);this.Xd=null;this.M.Bc();this.dispatchEvent("suggestionsupdate");this.dispatchEvent(z.is)};
z.e.cj=function(){this.Xd||(this.Xd=window.setTimeout((0,z.q)(this.Bc,this),100))};z.e.XF=function(){return this.Xd?(window.clearTimeout(this.Xd),this.Xd=null,!0):!1};z.e.D=function(){z.es.o.D.call(this);delete this.gG;this.M.H();this.wf.H();this.Kd=null};z.e.nR=function(a,b,c){this.Ub==a&&this.jm(b,c)};
z.e.jm=function(a,b){var c="object"==z.ma(b)&&b,d=(c?c.KX():b)?ms(this,this.Sg):-1;this.Tc+=this.Qa.length;this.Qa=a;for(var f=[],g=0;g<a.length;++g)f.push({id:this.Tc+g,data:a[g]});g=null;this.wc&&(g=this.gG[z.ua(this.wc)]||this.wc);this.M.FC=g;this.M.jm(f,this.Ub,this.wc);g=this.Wm;c&&void 0!==c.kO()&&(g=c.kO());this.Sg=-1;(g||0<=d)&&0!=f.length&&this.Ub&&(0<=d?this.Yf(this.Tc+d):z.js(this));this.dispatchEvent("suggestionsupdate")};z.e.Ok=function(a){var b=this.wf;b.Ok.apply(b,arguments)};
z.e.update=function(a){this.wf.update(a)};z.v(z.ss,z.yc);var IE=(z.Ti||z.Uj)&&!z.D("533.17.9");z.e=z.ss.prototype;z.e.kW=!0;z.e.iO=!0;z.e.aK=!1;z.e.QU=!0;z.e.PU=!0;z.e.yv=null;z.e.bb=null;z.e.Co="";z.e.Ki=!1;z.e.vA=!1;z.e.YJ=!0;z.e.Tr=function(){return this.aa};z.e.sl=function(){return this.bb};z.e.Y=function(){return this.bb.value};z.e.Da=function(a){this.bb.value=a};
z.e.Nq=function(a){z.kf(a)&&(z.aj(a,"combobox"),z.bj(a,"autocomplete","list"));this.cc.g(a,"focus",this.ee);this.cc.g(a,"blur",this.Wc);this.bb||(this.vv.g(a,"keydown",this.lS),z.kf(a)&&yn(z.Ke(a))==a&&ys(this,a))};z.e.Ok=function(a){for(var b=0;b<arguments.length;b++)this.Nq(arguments[b])};z.e.wi=function(a,b){this.bb&&ts(this,a.toString(),b);return!1};z.e.D=function(){z.ss.o.D.call(this);null!=this.yv&&window.clearTimeout(this.yv);this.cc.H();delete this.cc;this.vv.H();this.sb.H();z.Dc(this.ma)};
z.e.Yb=function(a){switch(a.keyCode){case 40:if(this.aa.rb())return this.aK?ks(this.aa):z.js(this.aa),a.preventDefault(),!0;if(!this.Xl)return this.update(!0),a.preventDefault(),!0;break;case 38:if(this.aa.rb())return this.aK?z.js(this.aa):ks(this.aa),a.preventDefault(),!0;break;case 9:if(!this.aa.rb()||a.shiftKey||this.IT)this.aa.Bc();else if(this.update(),this.aa.vi()&&this.HT)return a.preventDefault(),!0;break;case 13:if(this.aa.rb()){if(this.update(),this.aa.vi())return a.preventDefault(),a.stopPropagation(),
!0}else this.aa.Bc();break;case 27:if(this.aa.rb())return this.aa.Bc(),a.preventDefault(),a.stopPropagation(),!0;break;case 229:if(!this.Ki)return this.Ki||(this.cc.g(this.bb,"keyup",this.JH),this.cc.g(this.bb,"keypress",this.IH),this.Ki=!0),!0;break;default:this.ma&&!this.YJ&&(this.ma.stop(),this.ma.start())}return ws(this,a)};z.e.fs=function(){return!1};z.e.ee=function(a){ys(this,a.target||null)};z.e.Wc=function(){IE?this.yv=window.setTimeout((0,z.q)(this.sI,this),0):this.sI()};
z.e.sI=function(){this.bb&&(this.cc.qa(this.sb,"key",this.Xo),this.sb.detach(),this.cc.qa(this.bb,"keyup",this.fs),this.cc.qa(this.bb,"mousedown",this.KH),z.B&&this.cc.qa(this.bb,"keypress",this.HH),this.Ki&&zs(this),this.bb=null,this.ma&&(this.ma.stop(),this.cc.qa(this.ma,"tick",this.ap)),this.aa&&this.aa.cj())};z.e.ap=function(){this.update()};z.e.lS=function(a){this.ee(a)};z.e.Xo=function(a){this.HG=a.keyCode;this.aa&&this.Yb(a)};z.e.IH=function(){this.Ki&&229!=this.HG&&zs(this)};
z.e.JH=function(a){this.Ki&&(13==a.keyCode||77==a.keyCode&&a.ctrlKey)&&zs(this)};z.e.KH=function(a){this.aa&&this.fe(a)};z.e.fe=function(){};z.e.HH=function(a){ws(this,a)};z.e.update=function(a){if(this.bb&&(a||this.Y()!=this.Co)){if(a||!this.vA){a=z.ns(this.bb)[0];var b=this.Y();a=vs(this,b)[us(this,b,a)];a=this.SJ?String(a).replace(this.SJ,""):a;this.aa&&(this.aa.wc=this.bb,this.aa.ou(a,this.Y()))}this.Co=this.Y()}this.vA=!1};z.v(z.As,z.yc);z.e=z.As.prototype;z.e.hH="GET";z.e.rc=void 0;z.e.VP=null;z.e.$y=null;z.e.IA=function(a){this.hH=a};z.e.ia=function(a){this.rc=a};z.e.pW=function(a,b,c){c=z.ue(c.target);var d=[];if(c)try{d=Po(c)}catch(f){}b(a,d)};
z.e.ri=function(a,b,c){var d,f=this.IB;d=new z.ph(this.DB);z.rh(d);d.he.set("token",a);b=String(b);z.rh(d);d.he.set("max_matches",b);f=String(Number(f));z.rh(d);d.he.set("use_similar",f);if(d=d.toString())a=(0,z.q)(this.pW,this,a,c),this.ea.hc()&&this.ea.abort(),this.$y&&z.od(this.$y),this.$y=z.md(this.ea,"success",a),this.ea.send(d,this.hH,this.rc,this.VP)};z.e.D=function(){this.ea.H();z.As.o.D.call(this)};z.v(z.Fs,z.F);z.e=z.Fs.prototype;z.e.m=function(){return this.h};z.e.qh=function(a){this.fK=a};z.e.Sr=function(){return this.FC};z.e.jm=function(a,b,c){this.Ub=b;this.Qa=a;this.Ll=-1;this.vJ=(0,z.G)();this.wc=c;this.vf=[];Js(this)};z.e.Bc=function(){this.ob&&(this.ob=!1,Gs(this,!1),0<this.Jo?(z.Dc(this.Mk),this.Mk=new gr(this.h,this.Jo),this.Mk.play()):z.P(this.h,!1))};
z.e.show=function(){this.ob||(this.ob=!0,Gs(this,!0),0<this.Jo?(z.Dc(this.Mk),this.Mk=new hr(this.h,this.Jo),this.Mk.play()):z.P(this.h,!0))};z.e.V=function(){return this.ob};z.e.Yf=function(a){if(-1==a)Hs(this,-1);else for(var b=0;b<this.Qa.length;b++)if(this.Qa[b].id==a){Hs(this,b);break}};
z.e.ha=function(){if(this.wc&&this.mp){var a=this.FC||this.wc,b;b=this.qU?3:1;this.Fu&&(b^=1);var c=65;this.qJ&&(this.h.style.height="",c|=32);z.Bs(a,b,this.h,b^1,null,null,c);this.Fu&&(this.h.style.visibility="visible")}};z.e.Mx=function(){return this.wc||null};z.e.D=function(){this.h&&(z.nd(this.h,"click",this.Al,!1,this),z.nd(this.h,"mousedown",this.Bl,!1,this),z.nd(this.h,"mouseover",this.vF,!1,this),this.da.removeNode(this.h),this.h=null,this.ob=!1);z.Dc(this.Mk);this.Pa=null;z.Fs.o.D.call(this)};
z.e.GI=function(a,b,c){z.nf(c,a.data.toString())};z.e.Al=function(a){var b=Ns(this,a.target);0<=b&&this.dispatchEvent({type:z.gs,si:this.Qa[b].id});a.stopPropagation()};z.e.Bl=function(a){a.stopPropagation();a.preventDefault()};z.e.vF=function(a){a=Ns(this,a.target);0<=a&&!(300>(0,z.G)()-this.vJ)&&this.dispatchEvent({type:fs,si:this.Qa[a].id})};z.v(z.Os,z.es);z.Os.prototype.qh=function(a){this.M.qh(a)};z.Os.prototype.IA=function(a){this.Kd.IA(a)};z.Os.prototype.ia=function(a){this.Kd.ia(a)};z.v(z.Ps,z.Os);z.Ps.prototype.defaults={source:"",Ke:10,dW:!1,filter:null,format:null,Hy:null,delay:300,separator:null,wN:null,multiple:!1,pk:null,ZX:null,placeholder:"",td:null,render:null};z.Ps.prototype.defaults.format=function(a){return function(b,c){return(0,z.bb)(c)&&z.na(b)?z.na(b[0])?z.ob(b[0].slice(1),a,this):b:[]}}(function(a){var b;return(b=JE[this.J.source])||(b=JE[KE][a[0]])?b(a):a});var KE="/autocomplete",JE={};
JE[KE]={topic:function(a){return{type:a[0],name:a[1],url_token:a[2],avatar:a[3],id:a[4],answers:a[6],alias:a[7],raw:a,value:a[4],label:a[1]}},question:function(a){return{type:a[0],title:a[1],id:a[2],url_token:a[3],answers:a[4],is_star:!!a[5],raw:a,label:a[1],value:a[2]}},people:function(a){return{type:a[0],fullname:a[1],url_token:a[2],avatar:a[3],id:a[4],headline:a[5],raw:a,label:a[1],value:a[4]}},search_link:function(a){return{type:a[0],raw:a,label:a[1],value:a[1]}}};
JE["/topic/autocomplete"]=function(a){return{type:a[0],name:a[1],url_token:a[2],avatar:a[3],id:a[4],followers:a[5],alias:a[6],label:a[1]}};JE["/question/autocomplete"]=function(a){return{type:a[0],title:a[1],id:a[2],url_token:a[3],is_duplicated:Boolean(+a[4]),answer_count:a[5],raw:a,label:a[1],value:a[2]}};z.v(Qs,z.ss);Qs.prototype.Wc=z.p;Qs.prototype.Yb=z.p;Qs.prototype.wi=function(){return!1};var Ts;z.v(z.Rs,z.Q);z.e=z.Rs.prototype;z.e.Sf=null;z.e.WQ=10;z.e.Fl=!1;z.e.B=function(){this.h=this.K().B("INPUT",{type:"text"})};z.e.X=function(a){z.Rs.o.X.call(this,a);this.Lb||(this.Lb=a.getAttribute("label")||"");yn(z.Ke(a))==a&&(this.Fl=!0,z.ij(this.m(),this.zo));Ss()&&(this.m().placeholder=this.Lb);z.bj(this.m(),"label",this.Lb)};
z.e.C=function(){z.Rs.o.C.call(this);var a=new z.yd(this);a.g(this.m(),"focus",this.sF);a.g(this.m(),"blur",this.Ox);Ss()?this.T=a:(z.A&&a.g(this.m(),["keypress","keydown","keyup"],this.YO),a.g(z.Se(z.Ke(this.m())),"load",this.PP),this.T=a,Us(this));this.Mh();this.m().VQ=this};z.e.Gb=function(){z.Rs.o.Gb.call(this);this.T&&(this.T.H(),this.T=null);this.m().VQ=null};z.e.D=function(){z.Rs.o.D.call(this);this.T&&(this.T.H(),this.T=null)};z.e.zo="label-input-label";
z.e.sF=function(){this.Fl=!0;z.ij(this.m(),this.zo);if(!Ss()&&!Vs(this)&&!this.gQ){var a=this,b=function(){a.m()&&(a.m().value="")};z.B?z.wd(b,10):b()}};z.e.Ox=function(){Ss()||(this.T.qa(this.m(),"click",this.sF),this.Sf=null);this.Fl=!1;this.Mh()};z.e.YO=function(a){27==a.keyCode&&("keydown"==a.type?this.Sf=this.m().value:"keypress"==a.type?this.m().value=this.Sf:"keyup"==a.type&&(this.Sf=null),a.preventDefault())};z.e.bP=function(){Vs(this)||(this.m().value="",z.wd(this.yO,10,this))};
z.e.yO=function(){Vs(this)||(this.m().value=this.Lb)};z.e.PP=function(){this.Mh()};z.e.hasFocus=function(){return this.Fl};z.e.clear=function(){this.m().value="";null!=this.Sf&&(this.Sf="")};z.e.reset=function(){Vs(this)&&(this.clear(),this.Mh())};z.e.Da=function(a){null!=this.Sf&&(this.Sf=a);this.m().value=a;this.Mh()};z.e.Y=function(){return null!=this.Sf?this.Sf:Vs(this)?this.m().value:""};
z.e.Mh=function(){var a=this.m();Ss()?this.m().placeholder!=this.Lb&&(this.m().placeholder=this.Lb):Us(this);z.bj(a,"label",this.Lb);Vs(this)?(a=this.m(),z.ij(a,this.zo)):(this.gQ||this.Fl||(a=this.m(),z.gj(a,this.zo)),Ss()||z.wd(this.lU,this.WQ,this))};z.e.Ua=function(a){this.m().disabled=!a;z.po(this.m(),this.zo+"-disabled",!a)};z.e.isEnabled=function(){return!this.m().disabled};z.e.lU=function(){!this.m()||Vs(this)||this.Fl||(this.m().value=this.Lb)};var NB={jF:function(a,b){return window.$.get(b?"/node/AnswerFullVoteInfoV2":"/node/AnswerVoteInfoV2",{params:{answer_id:a}})},NB:function(a,b){return window.$.post("/node/AnswerVoteBarV2",{method:b,params:{answer_id:a}},function(a){a&&a.r&&z.W.alert("\x3cp\x3e"+a.msg+"\x3c/p\x3e")})},EA:function(a,b){return window.$.post("/node/AnswerMetaV2",{method:"set_copyright",params:{answer_id:a,is_copyable:Number(b)}})}};z.v(at,z.ss);at.prototype.wi=function(a){var b=at.o.wi.call(this,a);a.select(this.aa.Mx());return b};z.v(bt,z.As);bt.prototype.KT=["根话题","未归类话题"];bt.prototype.Ep=function(a){this.uA=a};bt.prototype.ri=function(a,b,c){var d=(0,z.q)(function(a,b){for(var d=[],k,m=0;m<b.length;m++)for(var n=1;n<b[m].length;n++){k=b[m][n];var t=!0;this.JE&&z.w(this.KT,function(a){k[2]===a&&(t=!1)});t&&d.push(k)}this.uA&&(d=this.uA(d,a));c(a,d)},this);bt.o.ri.call(this,a,b,d)};z.v(ct,z.ss);z.e=ct.prototype;
z.e.wi=function(a){var b=at.o.wi.call(this,a),c=this.aa.Mx(),d=this.Tr();d.$I=a;d.dispatchEvent("select");c.value="";return b};z.e.Da=function(){};z.e.update=function(a){var b=z.nr(this.Y());!b||"搜索用户"===b||"搜索话题"===b||"在这里输入问题"===b||z.y(this.aa.ex||[],b)||(b?(0,window.unescape)((0,window.encodeURIComponent)(b)).length:0)<this.iH||b===this.WG?(this.aa.cj(),this.Co=b):(this.WG=null,this.aa.dispatchEvent({type:LE}),ct.o.update.call(this,a))};
z.e.ee=function(a){this.aa&&z.ls(this.aa);a.target!==this.bb&&(this.bb=a.target||null,this.ma&&(this.ma.start(),this.cc.g(this.ma,"tick",this.ap)),this.Co=this.Y(),xs(this));this.ma&&this.ma.start();this.update(!0)};z.e.Wc=function(){this.ma&&this.ma.stop();this.aa&&this.aa.cj()};
z.e.Yb=function(a){if(13===a.keyCode){if(this.aa.rb()){if(this.aa.vi())return a.preventDefault(),a.stopPropagation(),!0;a.preventDefault();a.stopPropagation();this.aa.Ub="";this.aa.Bc();this.update(!0);return!1}a.stopPropagation();a.preventDefault();return!1}ct.o.Yb.call(this,a)};z.e.Nq=function(a){ct.o.Nq.call(this,a);this.cc.g(a,"mousedown",function(a){a.stopPropagation();return!0})};z.v(dt,ct);dt.prototype.wi=function(a){var b=this.Tr();b.$I=a;b.dispatchEvent("select");return!1};z.v(z.et,z.Os);
var LE="before_update";z.e=z.et.prototype;z.e.iE=!0;z.e.dU=function(a,b,c){z.Qd(c,function(a){a=Ks(this,a,this.Ub);this.da.appendChild(this.h,a)},a);z.df(a.h,a.da.B("div","zh-question-suggest-info",[a=a.da.B("a",{href:"javascript:;",title:"关闭",name:"close",id:"zh-question-suggest-info-close"},[a.da.B("span","x-m"),"不是"]),"您想问的是不是下面的问题？"]),0);z.E(a,"click",function(){var a=this.wf;a.Wc();this.Bc();a.WG=a.Y()},!1,this)};
z.e.fU=function(a,b,c){0===c.length?this.Bc():(z.Qd(c,function(a){a=Ks(this,a,this.Ub);this.da.appendChild(this.h,a)},a),b=a.da.B("div","zh-question-topic-autocomplete-plaintext",["建议添加的话题",a.da.B("span","x-m")]),z.df(a.h,b,0),z.qm.Ab&&z.E(b,"click",function(){this.wf.Wc();this.Bc()},!1,this))};z.e.wj=function(){return this.$I};z.e.Ep=function(a){this.Kd.Ep(a)};z.e.Bc=function(){if(this.iE)return z.et.o.Bc.call(this)};z.e.vi=function(){return-1===ms(this,this.Sg)?!1:z.et.o.vi.call(this)};
z.e.cj=function(){z.qm.Ab?z.md(window.document,"click",(0,z.q)(this.Bc,this)):z.et.o.cj.call(this)};z.v(z.ft,z.Wj);var gt="view",ME="零一二三四五六七八九十".split("");z.e=z.ft.prototype;z.e.w=function(a){this.h=a;this.pg=z.L("zm-tag-editor-labels",this.h);this.pt&&(this.data=ht(this));it(this);this.ue();this.bc()};
z.e.En=function(){this.Sc||(this.Sc=z.N("div","zm-tag-editor-editor",[this.Cn=z.N("div","zg-section zg-clear"),this.cf=z.N("div","zg-section zm-tag-editor-command-buttons-wrap",[this.mb=z.N("input",{"class":"zg-form-text-input zg-mr15",type:"text"}),z.N("a",{"class":"zg-mr15 zg-btn-blue",href:"#",name:"add",style:"display:none;"},"添加"),this.KE=z.N("a",{href:"#",name:"close"},"完成")]),this.ht=z.N("div",{className:"zm-tag-editor-maxcount zg-section",style:"display:none;"},[z.N("span",{},"最多只能为一个问题绑定 "+
this.gt+" 个话题"),z.N("a",{href:"#",name:"close"},"完成")])]),z.cf(this.Sc,this.pg),this.Ee&&(this.Wy=new z.Rs(this.Ee),this.Wy.w(this.mb),this.mb.title=this.Ee),this.Ug(this.cf))};z.e.Ug=function(a,b){this.ca=new z.et(b||"/topic/autocomplete",this.mb,null,null,a,!0);this.ca.qh(!0);this.ca.Ul=this.Ke;this.ca.Ep(this.lm());this.ca.ex=[this.Ee];this.v().g(this.ca,"select",this.Po);this.v().g(this.ca,"suggestionsupdate",this.Dv)};z.e.ix=function(a){return z.qb(this.data,function(b){return b[0]===a[1]})};
z.e.lm=function(){return(0,z.q)(function(a,b){return kt(this,jt(this,a),b)},this)};z.e.Dv=function(){1<this.ca.Qa.length&&!this.ca.Qa[0][4]&&z.js(this.ca)};z.e.bc=function(){this.v().g(this.h,"click",this.Oa);z.xp&&this.v().g(z.xp,"anon_change",this.yj)};z.e.yj=function(a){a.lb?z.V.add(this.h,"zm-tag-editor-disabled"):z.V.remove(this.h,"zm-tag-editor-disabled")};
z.e.Oa=function(a){var b=this.Mg(a.target);if(b&&b.name)switch(a.preventDefault(),b.name){case "edit":this.Je(!0);break;case "add":(a=z.nr(or(this.mb.value)))&&a!==this.mb.title&&this.Te("",a);break;case "close":this.Je(!1);break;case "remove":this.OH(b)}};z.e.Je=z.Eq(function(a){if(a&&(this.dispatchEvent("start_editing"),!1===this.dispatchEvent("beforeedit")))return;this.status=a?"edit":gt;this.En();this.Me();this.ue();lt(this)},!0);
z.e.OH=function(a){var b=a.id.split("-")[1],c=z.Io(a).innerHTML;this.kt&&this.data.length<=this.kt?z.W.message("请至少绑定"+ME[this.kt]+"个话题"):(this.data=z.nb(this.data,function(a){return b?String(a[3])!==b:a[1]!==c}),this.$o(b))};z.e.$o=function(a){if(!this.Xt||!this.Xt.hc()){this.Xt=new z.Z(!0);var b=new z.vh;b.add("qid",this.pa).add("question_id",this.pa).add("topic_id",a);this.v().ya(this.Xt,"complete",this.AP);this.Xt.ajax(this.$T,b.toString())}};
z.e.AP=function(a){a=z.Mn(a.target);a.r?z.W.message(a.msg):(this.dispatchEvent("remove_tag"),it(this),this.Me(),lt(this))};z.e.ue=function(){this.status===gt?(z.P(this.pg,!0),this.Sc&&z.P(this.Sc,!1)):(z.P(this.pg,!1),this.Sc&&this.isEnabled&&z.P(this.Sc,!0),this.ht&&z.P(this.ht,!1))};
z.e.Te=function(a,b){this.ah||(this.dispatchEvent("add_tag"),this.ah=!0,this.xhr=new z.Z(!0),this.v().ya(this.xhr,"complete",this.Ev),this.xhr.ajax(this.GL,"qid\x3d"+this.pa+"\x26question_id\x3d"+this.pa+"\x26topic_id\x3d"+a+"\x26topic_text\x3d"+(0,window.encodeURIComponent)(b)))};z.e.Po=function(){var a="",b="",c=this.ca.wj().slice(1);3<c.length?(a=c[3],b=c[0]):b=c[1];z.qb(this.data,function(c){return c[3]&&String(c[3])===a||c[0]===b})||(a||b)&&this.Te(a,b)};
z.e.Ev=function(){this.ah=!1;var a=z.Mn(this.xhr);this.qm(a);lt(this)};z.e.qm=function(a){var b=null;a&&a.r?a.notify?z.En(a.notify):z.W.message(a.msg):(4<a.length&&z.En(a[4]),this.aJ=b=a,this.data.push(b),mt(this),it(this),this.Me(),this.mb.value="",this.dispatchEvent("select"))};z.e.TE=function(a){return z.mr(a,"nor",!1)};
z.e.Me=function(){var a=z.ob(this.data,function(a){return['\x3cspan class\x3d"zm-tag-editor-edit-item"\x3e',this.TE(a),a.RV?"":'\x3ca id\x3d"rmid-'+a[3]+'" href\x3d"#" class\x3d"zg-r3px zm-tag-editor-remove-button" name\x3d"remove"\x3e\x3c/a\x3e',"\x3c/span\x3e"].join("")},this);this.Cn.innerHTML=a.join("")};z.e.wj=function(){return this.aJ};z.e.Ua=function(a){this.isEnabled=a;this.status=gt;this.ue()};z.v(z.nt,z.ft);z.e=z.nt.prototype;
z.e.w=function(a){if(this.isEnabled=!a.getAttribute("data-disabled"))z.nt.o.w.call(this,a),this.Je(!0),z.P(this.KE,!1)};z.e.Ug=function(a){var b;this.Qy&&(b="/topic/autocomplete?no_create\x3dtrue");z.nt.o.Ug.call(this,a,b);this.ca.Kd.JE=!1};z.e.lm=function(){return(0,z.q)(function(a,b){return z.nb(a,function(a){return 3>=a.length?!1:z.Vn(this.data,function(d){return d[1]===a[2]?b===a[1]?(a[0]="plain_text",a[1]='"'+b+'"已在现有列表中',!0):!1:!0})},this)},this)};
z.e.Te=function(a,b){this.ah||(this.ah=!0,this.xhr=new z.Z(!0),this.v().ya(this.xhr,"complete",this.Ev),a||(a=-1),this.Qy?this.xhr.ajax("/topic/add","tid\x3d"+this.Cf+"\x26pid\x3d"+a+"\x26topic_text\x3d"+(0,window.encodeURIComponent)(b)):this.xhr.ajax("/topic/add","tid\x3d"+this.Cf+"\x26cid\x3d"+a+"\x26topic_text\x3d"+(0,window.encodeURIComponent)(b)))};z.e.TE=function(a){return'\x3ca class\x3d"nor" href\x3d"/topic/'+a[1]+'/organize"\x3e'+a[0]+"\x3c/a\x3e"};
z.e.$o=function(a){if(!this.ea||!this.ea.hc()){var b=new z.Z(!0);this.v().g(b,"success",function(){var c=z.Mn(b);c.r?z.W.message(c.msg):(it(this),this.Me(),this.dispatchEvent({type:"remove_tag",data:{id:a}}))});this.Qy?b.ajax(this.FI,"cid\x3d"+this.Cf+"\x26pid\x3d"+a):b.ajax(this.FI,"pid\x3d"+this.Cf+"\x26cid\x3d"+a);this.ea=b}};z.v(ot,z.ft);z.e=ot.prototype;
z.e.w=function(a){ot.o.w.call(this,a);this.Je(!0);z.w(z.Me(window.document,"a",null,a),function(a){z.P(a,!1)});this.v().g(this.mb,"focus",function(){this.uq.val()&&!this.xE&&(this.xE=!0,this.Lu());this.placeholder&&(this.placeholder.qk("搜索话题"),Dn(this.placeholder))});this.BG=new Fp;this.BG.attach(this.mb);this.v().g(this.BG,"key",function(a){8===a.keyCode&&(1===this.mb.value.length&&(this.WC=!0,this.vM=(0,window.setTimeout)((0,z.q)(function(){this.WC=!1;(0,window.clearTimeout)(this.vM)},this))),this.mb.value.length||
this.WC||(this.data.pop(),this.Me(),this.dispatchEvent("remove_tag")))});this.nV=new z.el(this.Lu,2E3,this);this.v().g(this.uq[0],"keyup",function(){var a=this.uq.val();this.wu!==a&&(this.nV.fire(),this.wu=a)});this.v().g(this,["remove_tag","add_tag"],function(){pt(this);0<this.data.length&&this.placeholder&&(this.placeholder.qk("搜索话题"),Dn(this.placeholder));5<=this.data.length?(this.Ua(!1),this.oq.show(),this.placeholder&&this.placeholder.hide(),this.kv.hide()):(this.Ua(!0),this.oq.hide(),this.placeholder&&
this.placeholder.show(),this.kv.show(),this.oq.removeClass("light"))})};z.e.ix=function(a){return z.qb(this.data,function(b){return b[1]===a[1]})};z.e.$o=function(){this.dispatchEvent("remove_tag");it(this);this.Me()};
z.e.En=function(){this.Sc||(ot.o.En.call(this),z.V.add(this.Sc,"zg-clear"),z.V.set(this.Cn,"zg-inline"),z.V.add(this.cf,"zg-left"),z.V.remove(this.cf,"zg-section"),z.V.set(this.mb,"zu-question-suggest-topic-input"),z.V.add(this.mb,"label-input-label"),this.wq=(0,window.$)("\x3cdiv class\x3d'sug-con zg-clear' style\x3d'display:none;'\x3e\x3c/div\x3e").append("\x3cspan class\x3d'zg-gray-normal zg-left tip'\x3e推荐添加\x3c/span\x3e").append(this.SK=(0,window.$)("\x3cspan class\x3d'sugs zg-clear zg-inline'\x3e\x3c/span\x3e")).append(this.lv=
(0,window.$)('\x3cimg data-src\x3d"'+z.qm.ZA+'/img/spinner2.gif"\x3e')),this.wq.insertAfter(this.h),this.wq.on("click","a[name\x3d'add']",(0,z.q)(function(a){a=a.currentTarget;5>this.data.length?this.Te((0,window.$)(a).attr("data-id"),(0,window.$)(a).attr("data-text")):this.oq.addClass("light")},this)),this.kv=(0,window.$)('\x3clabel for\x3d"topic" class\x3d"zg-icon icon-magnify"\x3e\x3c/label\x3e'),(0,window.$)(this.cf).prepend(this.kv),this.placeholder=new z.uk(this.mb,{text:"搜索话题",RC:!0}),(0,window.$)(this.cf).append(this.oq=
(0,window.$)("\x3clabel class\x3d'err-tip' style\x3d'display:none;'\x3e最多添加五个话题\x3c/label\x3e")),this.v().g(this.Sc,"click",this.MV))};z.e.MV=function(a){z.zr(this.h,a.target)||(a=z.L("zu-question-suggest-topic-input",this.Sc),z.Lg(a)&&a.focus())};
z.e.Lu=function(){this.xE&&(this.wu=this.uq.val(),8>this.wu.length?(this.Pp=[],pt(this)):(this.Qp&&this.Qp.abort(),this.Qp=new z.Z(!1),this.v().g(this.Qp,"success",this.OS),this.Qp.ajax("/topic-question/autocomplete?token\x3d"+this.wu+"\x26max_matches\x3d5\x26use_similar\x3d0","GET"),this.lv.attr("src",this.lv.attr("data-src")).show()))};z.e.OS=function(){this.Pp=z.Mn(this.Qp)[0].slice(1);pt(this)};
z.e.Me=function(){var a=[];z.w(this.data,function(b){a.push(['\x3cdiv class\x3d"zm-tag-editor-edit-item"\x3e\x3cspan\x3e',b[0],'\x3c/span\x3e\x3ca id\x3d"rmid-',b[3],'" href\x3d"#" class\x3d"zg-r3px zm-tag-editor-remove-button" name\x3d"remove"\x3e\x3c/a\x3e\x3c/div\x3e'].join(""))},this);this.Cn.innerHTML=a.join("")};z.e.reset=function(){this.data=[];it(this);this.Me()};
z.e.OH=function(a){var b=a.id.split("-")[1],c=z.Io(a).innerHTML;this.data=z.nb(this.data,function(a){return b?String(a[3])!==b:a[1]!==c});this.$o(b)};z.e.Te=function(a,b){var c=[b,b,"",a];this.aJ=c;this.data.push(c);it(this);this.Me();this.mb.value="";this.dispatchEvent("select");this.dispatchEvent("add_tag")};z.e.Ua=function(a){this.mb&&z.P(this.mb,a)};
z.e.trackEvent=function(){if(this.Pp){var a=0,b=this.data.length;z.w(this.data,function(b){z.w(this.Pp,function(d){b[1]===d[1]&&a++},this)},this);z.X.zb({type:"ga_click_add_question",data:{xu:a,total:b}})}};z.v(z.qt,z.nt);z.qt.prototype.Te=function(a){this.ah||(this.ah=!0,this.xhr=new z.Z(!0),this.v().ya(this.xhr,"complete",this.Ev),this.xhr.ajax(this.$C,"tid\x3d"+a+"\x26method\x3dadd"))};
z.qt.prototype.$o=function(a){this.ah||(this.ah=!0,this.xhr=new z.Z(!0),this.v().g(this.xhr,"complete",function(){it(this);this.Me();this.ah=!1}),this.xhr.ajax(this.$C,"tid\x3d"+a+"\x26method\x3ddel"))};z.v(z.rt,z.yc);z.rt.prototype.restore=function(a){var b=this.bu();a||this.H();return b};z.v(z.st,z.Nd);z.e=z.st.prototype;z.e.setPosition=function(a,b,c){if(this.node=a)this.Sb=z.qa(b)?b:1!=this.node.nodeType?0:this.Ic?-1:1;z.qa(c)&&(this.depth=c)};z.e.Dg=function(a){this.node=a.node;this.Sb=a.Sb;this.depth=a.depth;this.Ic=a.Ic;this.jr=a.jr};z.e.clone=function(){return new z.st(this.node,this.Ic,!this.jr,this.Sb,this.depth)};z.e.Jp=z.l(30);
z.e.next=function(){var a;if(this.rk){if(!this.node||this.jr&&0==this.depth)throw z.Pd;a=this.node;var b=this.Ic?-1:1;if(this.Sb==b){var c=this.Ic?a.lastChild:a.firstChild;c?this.setPosition(c):this.setPosition(a,-1*b)}else(c=this.Ic?a.previousSibling:a.nextSibling)?this.setPosition(c):this.setPosition(a.parentNode,-1*b);this.depth+=this.Sb*(this.Ic?-1:1)}else this.rk=!0;a=this.node;if(!this.node)throw z.Pd;return a};z.e.Rl=function(){return this.rk};
z.e.equals=function(a){return a.node==this.node&&(!this.node||a.Sb==this.Sb)};z.e.splice=function(a){var b=this.node,c=this.Ic?1:-1;this.Sb==c&&(this.Sb=-1*c,this.depth+=this.Sb*(this.Ic?-1:1));this.Ic=!this.Ic;z.st.prototype.next.call(this);this.Ic=!this.Ic;for(var c=z.oa(arguments[0])?arguments[0]:arguments,d=c.length-1;0<=d;d--)z.cf(c[d],b);z.O(b)};z.e=z.tt.prototype;z.e.Ob=function(){var a=this.sc();return 1==a.nodeType?a:a.parentNode};z.e.Xg=function(){return!1};z.e.ua=function(){return z.Ke(z.B?this.sc():this.Z())};z.e.Ta=function(){return z.Se(this.ua())};z.e.containsNode=function(a,b){return this.Cg(z.qu(a),b)};z.e.kg=z.l(32);z.v(At,z.st);z.v(z.Bt,z.tt);z.Bt.prototype.Cg=function(a,b){var c=z.vt(this),d=z.vt(a);return(b?z.qb:z.Vn)(d,function(a){return z.qb(c,function(c){return c.Cg(a,b)})})};z.Bt.prototype.insertNode=function(a,b){b?z.bf(a,this.Z()):z.cf(a,this.la());return a};z.Bt.prototype.th=z.l(53);z.v(z.Ct,At);z.e=z.Ct.prototype;z.e.Yr=function(){return 3!=this.node.nodeType?-1:this.node==this.xa?this.Ca:0};z.e.Ur=function(){return 3!=this.node.nodeType?-1:this.node==this.ta?this.Ba:this.node.nodeValue.length};z.e.Z=function(){return this.xa};z.e.la=function(){return this.ta};z.e.vo=function(){return this.Rl()&&this.node==this.ta&&(!this.Ba||1!=this.Sb)};z.e.next=function(){if(this.vo())throw z.Pd;return z.Ct.o.next.call(this)};z.e.Jp=z.l(29);
z.e.Dg=function(a){this.xa=a.xa;this.ta=a.ta;this.Ca=a.Ca;this.Ba=a.Ba;this.qf=a.qf;z.Ct.o.Dg.call(this,a)};z.e.clone=function(){var a=new z.Ct(this.xa,this.Ca,this.ta,this.Ba,this.qf);a.Dg(this);return a};z.e=Dt.prototype;z.e.Yi="";z.e.set=function(a){this.Yi=""+a};z.e.append=function(a,b,c){this.Yi+=a;if(null!=b)for(var d=1;d<arguments.length;d++)this.Yi+=arguments[d];return this};z.e.clear=function(){this.Yi=""};z.e.toString=function(){return this.Yi};z.e=Et.prototype;z.e.Lx=function(){return Ft(this,!0)};z.e.Cx=function(){return Ft(this,!1)};z.e.Cg=function(a,b){var c=b&&!a.isCollapsed(),d=a.O;try{return c?0<=this.ve(d,0,1)&&0>=this.ve(d,1,0):0<=this.ve(d,0,0)&&0>=this.ve(d,1,1)}catch(f){if(!z.B)throw f;return!1}};z.e.containsNode=function(a,b){return this.Cg(Pt(a),b)};
z.e.On=function(){var a=new Dt;z.Qd(this,function(b,c,d){3==b.nodeType?a.append(z.Oa(b.nodeValue.substring(d.Yr(),d.Ur()))):1==b.nodeType&&(-1==d.Sb?z.Ze(b)&&a.append("\x3c/"+b.tagName+"\x3e"):(c=b.cloneNode(!1),c=z.Fo(c),z.B&&"LI"==b.tagName?a.append(c):(b=c.lastIndexOf("\x3c"),a.append(b?c.substr(0,b):c))))},this);return a.toString()};z.e.fd=function(){return new z.Ct(this.Z(),this.va(),this.la(),this.Ja())};z.v(z.Gt,Et);z.e=z.Gt.prototype;z.e.clone=function(){return new this.constructor(this.O.cloneRange())};z.e.sc=function(){return this.O.commonAncestorContainer};z.e.Z=function(){return this.O.startContainer};z.e.va=function(){return this.O.startOffset};z.e.la=function(){return this.O.endContainer};z.e.Ja=function(){return this.O.endOffset};
z.e.ve=function(a,b,c){return this.O.compareBoundaryPoints(1==c?1==b?z.r.Range.START_TO_START:z.r.Range.START_TO_END:1==b?z.r.Range.END_TO_START:z.r.Range.END_TO_END,a)};z.e.isCollapsed=function(){return this.O.collapsed};z.e.Jd=function(){return this.O.toString()};
z.e.Xf=function(){var a=z.H(this.O.startContainer).B("DIV");a.appendChild(this.O.cloneContents());a=a.innerHTML;if(z.Ka(a,"\x3c")||!this.isCollapsed()&&!z.Xa(a,"\x3c"))return a;var b=this.sc(),b=1==b.nodeType?b:b.parentNode;return z.Fo(b.cloneNode(!1)).replace("\x3e","\x3e"+a)};z.e.select=function(a){var b=z.Se(z.Ke(this.Z()));this.vp(b.getSelection(),a)};z.e.vp=function(a){a.removeAllRanges();a.addRange(this.O)};z.e.Yc=z.l(37);z.e.surroundContents=function(a){this.O.surroundContents(a);return a};
z.e.insertNode=function(a,b){var c=this.O.cloneRange();c.collapse(b);c.insertNode(a);c.detach();return a};z.e.th=z.l(52);z.e.collapse=function(a){this.O.collapse(a)};z.v(Kt,z.Gt);Kt.prototype.vp=function(a,b){!b||this.isCollapsed()?Kt.o.vp.call(this,a,b):(a.collapse(this.la(),this.Ja()),a.extend(this.Z(),this.va()))};z.v(z.Lt,Et);z.e=z.Lt.prototype;z.e.clone=function(){var a=new z.Lt(this.O.duplicate(),this.Ar);a.ig=this.ig;a.xa=this.xa;a.ta=this.ta;return a};z.e.Ed=function(){this.ig=this.xa=this.ta=null;this.Ca=this.Ba=-1};
z.e.sc=function(){if(!this.ig){var a=this.O.text,b=this.O.duplicate(),c=a.replace(/ +$/,"");(c=a.length-c.length)&&b.moveEnd("character",-c);c=b.parentElement();b=z.ip(b.htmlText).length;if(this.isCollapsed()&&0<b)return this.ig=c;for(;b>z.ip(c.outerHTML).length;)c=c.parentNode;for(;1==c.childNodes.length&&c.innerText==Rt(c.firstChild)&&It(c.firstChild);)c=c.firstChild;0==a.length&&(c=Nt(this,c));this.ig=c}return this.ig};
z.e.Z=function(){this.xa||(this.xa=Ot(this,1),this.isCollapsed()&&(this.ta=this.xa));return this.xa};z.e.va=function(){0>this.Ca&&(this.Ca=Qt(this,1),this.isCollapsed()&&(this.Ba=this.Ca));return this.Ca};z.e.la=function(){if(this.isCollapsed())return this.Z();this.ta||(this.ta=Ot(this,0));return this.ta};z.e.Ja=function(){if(this.isCollapsed())return this.va();0>this.Ba&&(this.Ba=Qt(this,0),this.isCollapsed()&&(this.Ca=this.Ba));return this.Ba};
z.e.ve=function(a,b,c){return this.O.compareEndPoints((1==b?"Start":"End")+"To"+(1==c?"Start":"End"),a)};z.e.$f=z.l(41);z.e.isCollapsed=function(){return 0==this.O.compareEndPoints("StartToEnd",this.O)};z.e.Jd=function(){return this.O.text};z.e.Xf=function(){return this.O.htmlText};z.e.select=function(){this.O.select()};z.e.Yc=z.l(36);z.e.surroundContents=function(a){z.O(a);a.innerHTML=this.O.htmlText;(a=St(this.O,a))&&this.O.moveToElementText(a);this.Ed();return a};
z.e.insertNode=function(a,b){var c=z.Tt(this.O.duplicate(),a,b);this.Ed();return c};z.e.th=z.l(51);z.e.collapse=function(a){this.O.collapse(a);a?(this.ta=this.xa,this.Ba=this.Ca):(this.xa=this.ta,this.Ca=this.Ba)};z.v(Ut,z.Gt);Ut.prototype.vp=function(a){a.collapse(this.Z(),this.va());this.la()==this.Z()&&this.Ja()==this.va()||a.extend(this.la(),this.Ja());0==a.rangeCount&&a.addRange(this.O)};z.v(Vt,z.Gt);Vt.prototype.ve=function(a,b,c){return z.D("528")?Vt.o.ve.call(this,a,b,c):this.O.compareBoundaryPoints(1==c?1==b?z.r.Range.START_TO_START:z.r.Range.END_TO_START:1==b?z.r.Range.START_TO_END:z.r.Range.END_TO_END,a)};Vt.prototype.vp=function(a,b){b?a.setBaseAndExtent(this.la(),this.Ja(),this.Z(),this.va()):a.setBaseAndExtent(this.Z(),this.va(),this.la(),this.Ja())};z.v(z.Xt,z.tt);z.e=z.Xt.prototype;z.e.clone=function(){var a=new z.Xt;a.Ih=this.Ih&&this.Ih.clone();a.xa=this.xa;a.Ca=this.Ca;a.ta=this.ta;a.Ba=this.Ba;a.qf=this.qf;return a};z.e.di=function(){return"text"};z.e.ce=function(){return z.au(this).O};z.e.Ed=function(){this.xa=this.Ca=this.ta=this.Ba=null};z.e.xj=function(){return 1};z.e.Ae=function(){return this};z.e.sc=function(){return z.au(this).sc()};z.e.Z=function(){return this.xa||(this.xa=z.au(this).Z())};
z.e.va=function(){return null!=this.Ca?this.Ca:this.Ca=z.au(this).va()};z.e.Lx=function(){return z.au(this).Lx()};z.e.la=function(){return this.ta||(this.ta=z.au(this).la())};z.e.Ja=function(){return null!=this.Ba?this.Ba:this.Ba=z.au(this).Ja()};z.e.Cx=function(){return z.au(this).Cx()};z.e.Xg=function(){return this.qf};z.e.Cg=function(a,b){var c=a.di();return"text"==c?z.au(this).Cg(z.au(a),b):"control"==c?(c=a.Zh(),(b?z.qb:z.Vn)(c,function(a){return this.containsNode(a,b)},this)):!1};z.e.$f=z.l(40);
z.e.isCollapsed=function(){return z.au(this).isCollapsed()};z.e.Jd=function(){return z.au(this).Jd()};z.e.On=function(){return z.au(this).On()};z.e.Xf=function(){return z.au(this).Xf()};z.e.fd=function(){return new z.Ct(this.Z(),this.va(),this.la(),this.Ja())};z.e.select=function(){z.au(this).select(this.qf)};z.e.Yc=z.l(35);z.e.surroundContents=function(a){a=z.au(this).surroundContents(a);this.Ed();return a};z.e.insertNode=function(a,b){var c=z.au(this).insertNode(a,b);this.Ed();return c};
z.e.th=z.l(50);z.e.wA=function(){return new bu(this)};z.e.collapse=function(a){a=this.Xg()?!a:a;this.Ih&&this.Ih.collapse(a);a?(this.ta=this.xa,this.Ba=this.Ca):(this.xa=this.ta,this.Ca=this.Ba);this.qf=!1};z.v(bu,z.rt);bu.prototype.bu=function(){return z.Zt(this.GC,this.cM,this.NE,this.bO)};bu.prototype.D=function(){bu.o.D.call(this);this.NE=this.GC=null};z.v(z.cu,z.Bt);z.e=z.cu.prototype;z.e.Ed=function(){this.Kp=this.cb=null};z.e.clone=function(){return eu.apply(this,this.Zh())};z.e.di=function(){return"control"};z.e.ce=function(){return this.O||window.document.body.createControlRange()};z.e.xj=function(){return this.O?this.O.length:0};z.e.Ae=function(a){a=this.O.item(a);return Yt(Pt(a),void 0)};z.e.sc=function(){return z.Go.apply(null,this.Zh())};z.e.Z=function(){return fu(this)[0]};z.e.va=function(){return 0};
z.e.la=function(){var a=fu(this),b=z.lb(a);return z.rb(a,function(a){return z.mf(a,b)})};z.e.Ja=function(){return this.la().childNodes.length};z.e.Zh=function(){if(!this.cb&&(this.cb=[],this.O))for(var a=0;a<this.O.length;a++)this.cb.push(this.O.item(a));return this.cb};z.e.$f=z.l(39);z.e.isCollapsed=function(){return!this.O||!this.O.length};z.e.Jd=function(){return""};z.e.On=function(){return z.ob(fu(this),z.Fo).join("")};z.e.Xf=function(){return this.On()};z.e.fd=function(){return new hu(this)};
z.e.select=function(){this.O&&this.O.select()};z.e.Yc=z.l(34);z.e.kg=z.l(31);z.e.wA=function(){return new gu(this)};z.e.collapse=function(){this.O=null;this.Ed()};z.v(gu,z.rt);gu.prototype.bu=function(){for(var a=(this.cb.length?z.Ke(this.cb[0]):window.document).body.createControlRange(),b=0,c=this.cb.length;b<c;b++)a.addElement(this.cb[b]);return du(a)};gu.prototype.D=function(){gu.o.D.call(this);delete this.cb};z.v(hu,At);z.e=hu.prototype;z.e.Yr=function(){return 0};z.e.Ur=function(){return 0};
z.e.Z=function(){return this.xa};z.e.la=function(){return this.ta};z.e.vo=function(){return!this.depth&&!this.cb.length};z.e.next=function(){if(this.vo())throw z.Pd;if(!this.depth){var a=this.cb.shift();this.setPosition(a,1,1);return a}return hu.o.next.call(this)};z.e.Dg=function(a){this.cb=a.cb;this.xa=a.xa;this.ta=a.ta;hu.o.Dg.call(this,a)};z.e.clone=function(){var a=new hu(null);a.Dg(this);return a};z.v(z.iu,z.Bt);z.e=z.iu.prototype;z.e.Ed=function(){this.hm=[];this.kr=this.xm=null};z.e.clone=function(){var a=this.If,b=new z.iu;b.If=z.wb(a);return b};z.e.di=function(){return"mutli"};z.e.ce=function(){return this.If[0]};z.e.xj=function(){return this.If.length};z.e.Ae=function(a){this.hm[a]||(this.hm[a]=Yt(Wt(this.If[a]),void 0));return this.hm[a]};z.e.sc=function(){if(!this.kr){for(var a=[],b=0,c=this.xj();b<c;b++)a.push(this.Ae(b).sc());this.kr=z.Go.apply(null,a)}return this.kr};z.e.Z=function(){return ku(this)[0].Z()};
z.e.va=function(){return ku(this)[0].va()};z.e.la=function(){return z.lb(ku(this)).la()};z.e.Ja=function(){return z.lb(ku(this)).Ja()};z.e.$f=z.l(38);z.e.isCollapsed=function(){return 0==this.If.length||1==this.If.length&&this.Ae(0).isCollapsed()};z.e.Jd=function(){return z.ob(z.vt(this),function(a){return a.Jd()}).join("")};z.e.On=function(){return this.Xf()};z.e.Xf=function(){return z.ob(z.vt(this),function(a){return a.Xf()}).join("")};z.e.fd=function(){return new mu(this)};
z.e.select=function(){var a=ut(this.Ta());a.removeAllRanges();for(var b=0,c=this.xj();b<c;b++)a.addRange(this.Ae(b).ce())};z.e.Yc=z.l(33);z.e.wA=function(){return new lu(this)};z.e.collapse=function(a){if(!this.isCollapsed()){var b=a?this.Ae(0):this.Ae(this.xj()-1);this.Ed();b.collapse(a);this.hm=[b];this.xm=[b];this.If=[b.ce()]}};z.v(lu,z.rt);lu.prototype.bu=function(){var a=z.ob(this.xA,function(a){return a.restore()});return ju(a)};
lu.prototype.D=function(){lu.o.D.call(this);z.w(this.xA,function(a){a.H()});delete this.xA};z.v(mu,At);z.e=mu.prototype;z.e.Yr=function(){return this.ag[this.bl].Yr()};z.e.Ur=function(){return this.ag[this.bl].Ur()};z.e.Z=function(){return this.ag[0].Z()};z.e.la=function(){return z.lb(this.ag).la()};z.e.vo=function(){return this.ag[this.bl].vo()};
z.e.next=function(){try{var a=this.ag[this.bl],b=a.next();this.setPosition(a.node,a.Sb,a.depth);return b}catch(c){if(c!==z.Pd||this.ag.length-1==this.bl)throw c;this.bl++;return this.next()}};z.e.Dg=function(a){this.ag=z.wb(a.ag);mu.o.Dg.call(this,a)};z.e.clone=function(){var a=new mu(null);a.Dg(this);return a};z.v(z.tu,z.Nd);z.tu.prototype.next=function(){var a=this.sH;if(!a)throw z.Pd;this.sH=this.oU?a.previousSibling:a.nextSibling;return a};z.v(uu,z.tu);var zu={IMG:!0,IFRAME:!0,EMBED:!0};var NE=function(){if(z.Ul)return Cu(/Firefox\/([0-9.]+)/);if(z.B||z.Hc||z.vg)return z.Kc;if(z.Jf)return Cu(/Chrome\/([0-9.]+)/);if(z.Wl&&!(z.Fc()||z.Bb("iPad")||z.Bb("iPod")))return Cu(/Version\/([0-9.]+)/);if(z.Ti||z.Uj){var a;if(a=/Version\/(\S+).*Mobile\/(\S+)/.exec(z.Cb))return a[1]+"."+a[2]}else if(z.Vl)return(a=Cu(/Android\s+([0-9.]+)/))?a:Cu(/Version\/([0-9.]+)/);return""}();var QE,RE,TE,xz,YE,ZE;z.OE=z.B&&!(9<=z.Ug);z.PE=z.A||z.C||z.vg||z.Hc||z.B&&9<=z.Ug;z.oz=z.B||z.C||z.vg||z.Hc||!1;QE=z.C||!1;RE=z.B||z.C||z.vg;z.SE=z.A||z.C;z.C&&z.D("534.16");TE=z.A&&!0;z.UE=z.A||z.C||z.vg;z.VE=z.A||z.vg;z.B&&z.D("7.0");z.WE=z.A&&z.D("1.8")||z.C||z.vg;xz=z.C||z.B&&z.D("9");z.B||z.Hc||z.vg||z.A&&z.D("1.9");z.XE=z.A||z.C&&!z.D("527");YE=z.B||z.vg;ZE=z.B||z.Hc||z.C&&z.D("525");z.$E=z.C&&!z.D("531");z.aF=z.C&&!z.D("528");z.A&&z.D("1.9")||z.B||z.Hc||z.vg||z.C&&z.D("531");
z.bF=z.B||z.Hc||z.A||z.vg;z.cF=z.A||z.C&&!z.D("526");z.dF=z.B||z.vg;z.eF=!z.B&&!z.vg;z.fF=!z.C&&!z.Hc;z.Jf&&0<=z.ab(NE,"4")||z.Wl&&z.D("533")||z.A&&z.D("2.0")||z.B&&z.D("10");z.gF=z.vg&&z.D("11.10");z.Jf&&z.ab(NE,"12");z.v(z.Iu,z.Q);z.hF=0;z.Ju=[];z.Iu.prototype.kc=null;z.Iu.prototype.ql=!1;z.Iu.prototype.Ct=0;var iF=z.B?"styleFloat":"cssFloat",Nu=["position","top","left","width",iF],Ou=["position","top","left","display",iF,"marginTop","marginLeft","marginRight","marginBottom"];z.e=z.Iu.prototype;z.e.B=function(){z.Iu.o.B.call(this);this.X(this.m())};z.e.X=function(a){z.Iu.o.X.call(this,a);z.V.add(a,"goog-scrollfloater")};
z.e.C=function(){z.Iu.o.C.call(this);this.Zv=z.Qg(window.document.body).top-2;this.kc||(this.kc=this.K().B("div",{style:"visibility:hidden"}));this.Ct=z.Rn(this.m()).y;z.Ku(this,this.gu);var a=this.Tp=new z.el(this.gq,150,this);this.v().g(window,"scroll",(0,z.q)(a.fire,a));this.v().g(window,"resize",z.Kr(150,this.ay))};z.e.D=function(){z.Iu.o.D.call(this);z.ub(z.Ju,this);this.Tp.H();this.Ny&&(z.hF-=this.QD);delete this.kc};z.e.gq=function(){this.gu&&(z.wf(this.K()).y+this.Zv>this.Ct?Mu(this):z.Lu(this))};
z.e.mp=function(){var a=this.m(),b=this.Zv;!this.Ny&&0<z.hF&&(b+=z.hF);a.style.top=b+"px"};z.e.ay=function(){z.Lu(this);this.Ct=z.Rn(this.m()).y;this.gq()};z.v(Pu,z.Iu);Pu.prototype.gq=function(){var a=Qu(this.tag);if(this.gu&&(!a||a===this)){var a=this.UT.getBoundingClientRect(),b=this.Zv+z.hF,c=b+this.dI;a.top<b&&a.bottom>c?Mu(this):z.Lu(this)}};z.la(Ru);Ru.prototype.Ze=function(a,b,c){z.pg("richtexteditor",function(){var d=window.ZH.createRichTextEditor(a,b),f=d[0],d=d[1];c&&c(f,d)})};Su.prototype.defaults={iU:[],qA:[],UM:!0};var Uu="data-tip class style id bgcolor color size width height".split(" ");Su.prototype.yg=function(){var a=this;if(this.J.UM)this.W.on("paste",function(){(0,window.setTimeout)(function(){Vu(a.W,Wu(a))})})};z.v(Xu,z.F);z.e=Xu.prototype;z.e.defaults={Om:{Ke:6,content:"",method:"GET",source:"/people/autocomplete"},yT:"mention-popup",gk:window.document.body,vC:"activated"};z.e.D=function(){this.sr();z.O(this.h);this.h=null;Xu.o.D.call(this)};z.e.fw=function(){var a=this.h=z.Xe(this.NV);this.ep=a.getElementsByTagName("input")[0];a.className=this.J.yT;a.style.display="none";this.J.gk.appendChild(a)};z.e.sc=function(){return this.J.gk};z.e.NV='\x3cdiv\x3e\x3cdiv class\x3d"writing-bg"\x3e\x3cinput\x3e\x3c/div\x3e\x3cdiv class\x3d"tip"\x3e想用 @ 提到谁？\x3c/div\x3e\x3c/div\x3e';
z.e.template=(0,z.xv)('\x3c% if (data.id) { %\x3e\x3cimg class\x3d"avatar" src\x3d"\x3c%\x3davatar%\x3e"\x3e\x3cdiv class\x3d"body"\x3e\x3cspan class\x3d"name"\x3e\x3c%\x3dlabel%\x3e\x3c/span\x3e\x3cspan class\x3d"bio"\x3e\x3c%\x3dheadline%\x3e\x3c/span\x3e\x3c/div\x3e\x3c% } %\x3e');z.e.rb=function(){return z.Lg(this.h)};z.e.open=function(){this.rb()||(z.P(this.h,!0),this.ep.focus(),this.yg(),this.dispatchEvent("open"))};
z.e.close=function(){this.rb()&&(z.P(this.h,!1),z.V.remove(this.h,this.J.vC),this.ep.value="",this.ep.blur(),this.sr(),this.dispatchEvent("close"))};z.e.CH=function(a){this.rb()&&!z.mf(this.h,a.target)&&Yu(this,a)};z.e.Wo=function(a){var b=a.keyCode,c=this.ep;if(27===b||c===a.target&&""===c.value&&(8===b||32===b))Yu(this,a),a.preventDefault(),a.stopPropagation()};z.e.yg=function(){z.E(window.document,"click",this.CH,!1,this);z.E(this.h,"keydown",this.Wo,!1,this)};
z.e.sr=function(){z.nd(window.document,"click",this.CH,!1,this);z.nd(this.h,"keydown",this.Wo,!1,this)};
z.e.Ug=function(){var a=this,b=this.J.Om,c=new z.Ps(this.ep,{pk:this.h,Ke:b.Ke,source:b.source,select:function(b){(0,window.setTimeout)(function(){a.close();a.dispatchEvent({type:"select",data:{wT:b}})});return""},td:function(b,c,g){g.innerHTML=a.template(b.data)}});c.IA(b.method);c.ia(b.content);c.addEventListener("suggestionsupdate",function(){z.V.enable(this.h,this.J.vC,c.rb())},!1,this);this.aa=c};z.e.position=function(a){z.Ag(this.h,a)};z.v(Zu,z.F);var bv=!!window.getSelection;Zu.prototype.defaults={Om:{},gk:window.document.body,Do:"member_mention",ss:"mention-holder",position:function(a,b){a.x+=b.width+7;a.y-=5;z.B&&7<z.Kc&&(a.y+=b.height/2-9)}};var iv=z.Hb({YW:"member_mention"});Zu.prototype.m=function(){return this.input};
Zu.prototype.yg=function(){var a=this.jg;z.E(a,"cancel",function(a){var c=$u(this);a=a.data.originalEvent;c&&"click"!==a.type&&("keydown"===a.type&&32===a.keyCode&&(c=c.parentNode.insertBefore(window.document.createTextNode(" "),c.nextSibling)),av(this,c))},!1,this);z.E(a,"select",function(a){var c=a.data.wT;a=z.L(this.J.ss,this.input);var c=this.or(c),d=a.previousSibling,f=window.document.createTextNode(" ");z.Ko(c,a);z.cf(f,c);d&&3===d.nodeType&&!z.lp(z.pf(d)," ")&&z.bf(window.document.createTextNode(" "),
c);av(this,f)},!1,this);z.E(this.input,"click",function(){a.rb()&&$u(this)},!1,this);z.E(this.input,"keydown",function(a){var c;if(8===a.keyCode&&(c=z.nu())){a=c.Z();var d=c.la(),f=c.va();c=c.Ja();var g=!1;hv(a.parentNode)&&(f=0,g=!0);hv(d.parentNode)&&(c=d.length,g=!0);g&&z.Zt(a,f,d,c).select()}},!1,this);z.E(this.input,z.Vc||z.Ti||z.Uj?"keypress":"keyup",function(a){function c(a,b){if(3!==a.nodeType||"@"===a.nodeValue&&cv(a.previousSibling)||cv(a.parentNode))return!1;var c=a.nodeValue,d=b-1;if("@"!==
c.slice(d,d+1))return!1;var f=c;0<=d&&d<c.length&&(f=c.substr(0,d)+c.substr(d+1,c.length-d-1));a.nodeValue=f;return!0}if("keypress"!==a.type||"@"===String.fromCharCode(a.charCode)){var d,f,g,h;if("keyup"===a.type){if(50!==a.keyCode)return;if(bv){d=window.getSelection();g=d.anchorNode;h=d.anchorOffset;if(!c(g,h))return;z.C&&!g.nextSibling&&(g.nodeValue+=" ");f=window.document.createRange();d.removeAllRanges();f.setStart(g,h-1);f.setEnd(g,h-1);d.addRange(f)}else{f=z.pu(window.document.selection.createRange());
g=z.wt(f);h=f.va();if(!c(g,h))return;z.ru(g,h-1).select()}}this.xu(a)}},!1,this)};Zu.prototype.xu=function(a){var b=this,c=this.jg;if(!c.rb()){var d=function(c){return cv(c)||c.className===b.J.Do?!1:(a&&a.preventDefault(),!0)},f=function(a){c.position(a);c.open()};bv?dv(b,d,f):gv(b,d,f)}};Zu.prototype.or=function(a,b){return z.N("a",{"data-hash":a.id,href:"/people/"+a.url_token,className:b||this.J.Do,innerHTML:"@"+a.label})};z.v(z.jv,z.Q);z.e=z.jv.prototype;z.e.D=function(){this.Ka=null;z.jv.o.D.call(this)};
z.e.X=function(a){z.jv.o.X.call(this,a);var b=a.getAttribute("data-resourceid");b&&(this.kU=a.getAttribute("data-action"),this.tp=b);this.status||(this.status="normal");a=this.K();this.gd||(this.gd=a.Vf("zm-editable-content",this.h))&&"1"===this.gd.getAttribute("data-disabled")&&(this.disabled=!0);this.Zb?this.Tb&&(this.Zb.innerHTML=this.Tb):(this.Zb=a.Vf("zm-editable-tip",this.h),this.Tb&&!this.Zb&&(this.Zb=a.B("div","zm-editable-tip"),this.Zb.innerHTML=this.Tb,a.Gs(this.Zb,this.gd)));this.Jb=a.Vf("zm-editable-editor-wrap",
this.h);this.content=(0,z.bb)(this.content||this.FB?z.pf(this.gd):this.gd.innerHTML);this.ue();mv(this)};z.e.B=function(){var a=this.K(),a=a.B("div","zm-editable-item-wrap",[this.Zb=a.B("div","zm-editable-tip"),this.gd=a.B("div","zm-editable-content",this.content)]);this.X(a)};z.e.C=function(){z.jv.o.C.call(this);this.v().g(this.gd,"click",this.Oa);this.Zb&&this.v().g(this.Zb,"click",this.Oa)};z.e.ia=function(a){this.content=a;mv(this)};
z.e.Oa=function(a){var b=z.zr(this.h,a.target),c=this.K();if(!b||!b.name)return a=c.jO(a.target,"div","zm-editable-tip-label"),this.isEnabled&&a&&this.og(),!0;a=b.name;switch(a){case "expand":mv(this);break;case "collapse":mv(this);break;case "edit":z.S.pe?!1!==this.dispatchEvent("beforeedit")&&(this.init(),this.og()):(new z.lq).G(!0);this.dispatchEvent("click_edit");break;case "save":this.ks();break;case "cancel":this.dispatchEvent("cancel_edit");this.Ai();break;default:return this.bs(a)}return!0};
z.e.ks=function(){var a=z.nr(this.Wf()),b=/<embed/i.test(a);if(/<img/i.test(a)||b||this.qG||a&&or(a).length)a!==this.content||this.QE?(this.dispatchEvent("save_changed"),this.eh(a)):(this.dispatchEvent("save_unchanged"),this.Ai())};z.e.eh=function(a){if(!this.ea||!this.ea.hc())if(this.rr&&this.VI){this.ea=new z.Z(!0);this.v().ya(this.ea,"success",this.BC);var b=new z.vh(this.params.join("\x26"));b.add(this.rr,a).add("field_name",this.rr);this.ea.ajax(this.VI,b.toString())}else this.dispatchEvent("change")};
z.e.Ai=function(){this.status="normal";this.ue()};z.e.BC=function(){var a=z.Mn(this.ea);if(!a)return z.W.message("网络异常");if(a.r)return z.W.message(a.msg);this.ia(a.msg);this.Ai();this.dispatchEvent("saveSuccess");this.dispatchEvent("change")};z.e.Sa=function(){return this.content};z.e.Dx=z.l(42);z.e.isContentEditable=function(){return!this.Id};z.e.Wf=function(){return(0,z.Fr)(z.Na(this.Ka.value))};z.e.bs=function(a){this.dispatchEvent(a);return!0};z.e.init=function(){this.TP||(this.TP=!0,this.Ze())};
z.e.Ze=function(){var a=this.K();this.Jb?(this.qc=a.Vf("zm-command",this.Jb),this.Ka=a.Vf("zm-editable-editor-input",this.Jb)):(this.Jb=a.B("div","zm-editable-editor-wrap clearfix",this.ij=a.B("div","zm-editable-editor-outer",a.B("div","zm-editable-editor-inner zg-form-text-input",this.Ka=a.B("textarea","zm-editable-editor-input")))),a.Iy(this.Jb,this.gd),this.$k());this.Ka&&this.Ka.tagName&&"TEXTAREA"===this.Ka.tagName&&!this.eE&&new z.Mr(this.Ka);this.So()};z.e.ready=function(a){this.YD.done(a)};
z.e.So=function(){this.v().g(this.qc,"click",this.Oa);this.Nu&&lv(this);kv(this);this.YD.resolveWith(this)};z.e.$k=function(){this.qc=z.N("div","zm-command",[this.Zq=z.N("a",{"class":"zm-command-cancel",name:"cancel",href:"javascript:;"},"取消"),this.qn=z.N("a",{"class":"zg-r3px zg-btn-blue",name:"save",href:"javascript:;"},"保存")]);this.Jb.appendChild(this.qc)};
z.e.ue=function(){this.qr&&z.V.remove(this.h,this.qr);"editing"===this.status?(this.Zb&&z.P(this.Zb,!1),this.Jb&&z.P(this.Jb,!0),z.P(this.gd,!1),this.qr="zm-editable-status-editing"):(this.Zb&&(!this.qG||this.content||this.disabled?z.P(this.Zb,!1):z.P(this.Zb,!0)),this.Jb&&z.P(this.Jb,!1),this.content?z.P(this.gd,!0):z.P(this.gd,!1),this.qr="zm-editable-status-normal");z.V.add(this.h,this.qr)};z.e.og=function(){this.Mr||(this.init(),this.ready(function(){this.status="editing";this.ue();this.Bp()}))};
z.e.Bp=function(){if(this.tp)this.Mr=!0,this.nx();else{var a=this.Ka,b;b=mo(this.content.replace(/<br \/>/g,"\n").replace(/<br>/g,"\n")).replace(/<a.*?href="(.*?)".*?<\/a>/g,"$1");a.value=b}};z.e.bF=function(){var a=[];this.disabled||a.push('\x3ca href\x3d"javascript:;" class\x3d"zu-edit-button" name\x3d"edit"\x3e\x3ci class\x3d"zu-edit-button-icon"\x3e\x3c/i\x3e修改\x3c/a\x3e');return a.join("")};
z.e.nx=function(){this.Mr||(this.Mr=!0,z.np(this.kU+"?id\x3d"+this.tp,(0,z.q)(function(a){this.Mr=!1;a=z.Mn(a.target);a.r?z.W.message(a.msg):this.mu(a.msg)},this),"GET"))};z.e.mu=function(a){this.Ka.value=a};z.v(z.nv,z.jv);z.e=z.nv.prototype;z.e.mu=function(a){this.Id?z.nv.o.mu.call(this,a):(a||(a=z.A?"":"\x3cdiv\x3e\x3c/div\x3e"),this.Ka.Pd(!1,a,!0))};z.e.Bp=function(){this.ready(function(){this.tp?this.nx():this.Id?z.nv.o.Bp.call(this):this.content?this.Ka.Pd(!1,this.content,!1,!0):this.Ka.Pd(!1,z.C?"\x3cdiv\x3e\x3cbr\x3e\x3c/div\x3e":"\x3cdiv\x3e\x3c/div\x3e",!1,!0)})};z.e.D=function(){z.Dc(this.Ka);z.O(this.Jb);this.nq=this.hC=this.li=this.il=this.rB=this.ij=this.Jb=null;z.nv.o.D.call(this)};
z.e.Ze=function(){if(this.Id)z.nv.o.Ze.call(this);else{var a=this.K();this.Jb=a.B("div","zm-editable-editor-wrap",this.ij=a.B("div","zm-editable-editor-outer",[this.rB=a.B("div","zm-editable-toolbar-container"),this.il=a.B("div","zm-editable-editor-field-wrap",this.li=a.B("div",{id:this.zR,className:"zm-editable-editor-field-element"}))]));this.hC=(0,window.$)(this.rB);this.nq=(0,window.$)(this.Jb);this.nq.hide();a.Iy(this.Jb,this.gd);this.tp||(this.li.innerHTML=this.content);a={loremIpsum_:this.jz,
enableFullScreen:this.Ww,content:this.content,useScraper_:this.cW,canUploadMedia_:this.hw,useRemoveFormat_:this.dK};this.$k();Ru.ba().Ze(this.Jb,a,(0,z.q)(this.So,this));z.Tj||(this.qg=new Pu(null,this.ij),this.qg.w(this.rB),z.Ku(this.qg,!1),z.Lu(this.qg),z.Bc(this,this.qg))}};z.e.So=function(a,b){if(this.Id)z.nv.o.So.call(this);else{this.Ka=a;this.nq.show();z.nv.o.So.call(this);ov(this,a,b);var c=a.Pb.CodePlugin;c&&(c.SU(b),c.yg())}};
z.e.og=function(){z.nv.o.og.call(this);this.ready(function(){this.Id||this.LN||(this.LN=!0,z.md(this.Ka,"load",function(){var a=this.Ka,b=a.Pb.FullScreenPlugin;z.A&&(a=a.Ea);z.E(a,["focus","blur"],function(a){b&&z.V.has(window.document.body,b.J.Ln)||pv(this,"focus"===a.type)},!1,this)},!1,this),this.Ka.Je())})};z.e.Wf=function(){if(this.Id)return z.nv.o.Wf.call(this);var a=this.Ka;return Er(a.m(),!0)?"":a.tl()};z.e.ue=function(){z.nv.o.ue.call(this);this.qg&&z.Ku(this.qg,"editing"===this.status)};z.v(z.rv,z.U);z.la(z.rv);var uv=z.Bm.create("AddQuestionForm"+z.S.cg);z.e=z.rv.prototype;
z.e.C=function(){z.rv.o.C.call(this);var a=z.Xe((0,z.bb)('\x3cdiv class\x3d"zh-add-question-form"\x3e\x3cdiv class\x3d"js-add-question-splash add-question-splash-page" \x3e\x3cp\x3e知乎是一个真诚、友善、认真、互助的社区\x3cbr\x3e我们希望每一个疑惑都有解答，好的问题更容易得到好答案 \x3ca href\x3d"//www.zhihu.com/question/19555761"\x3e如何提一个好问题？\x3c/a\x3e\x3c/p\x3e\x3cp\x3e\x3cb\x3e提问应遵循真实、客观、简洁、明确、规范的原则\x3c/b\x3e\x3cbr\x3e1、提问应尽可能简洁明了，避免「请问」「有谁知道」「谢谢！」等与问题本身无关的附加语。\x3cbr\x3e2、应避免使用「为神马」「童鞋」「肿么办」等网络用语。\x3cbr\x3e3、基于个人判断或传言的问题，在提问时应在补充说明里详细说明原由\x3cbr\x3e4、避免太宽泛问题，如调查性的问题容易变成每个人都可以发表观点，但对其他人没有价值。\x3cbr\x3e\x3c/p\x3e\x3cp\x3e\x3cb\x3e知乎禁止这些提问\x3c/b\x3e\x3cbr\x3e1、和已有问题完全重复的问题，\x3cb\x3e为避免重复，提问前可以先进行搜索\x3c/b\x3e\x3cbr\x3e2、招聘 / 求职、交易 / 合作、寻人 / 征友、召集 / 赠送、求码类内容\x3cbr\x3e3、投票类问题。例如：你支持方舟子还是韩寒？\x3cbr\x3e4、作业或其他希望代为完成个人任务类的内容，以及针对个人具体病情的求医问药类问题\x3cbr\x3e完整的提问建议可查看 \x3ca href\x3d"//www.zhihu.com/question/19806261"\x3e知乎的提问规范有哪些？\x3c/a\x3e\x3cbr\x3e\x3c/p\x3e\x3cdiv class\x3d"before-ask-form"\x3e\x3cb\x3e提问前请先搜索\x3c/b\x3e\x3cdiv style\x3d"position:relative;margin-top:18px;"\x3e\x3cinput type\x3d"text" class\x3d"zg-form-text-input" id\x3d"js-before-ask" placeholder\x3d"请输入你的问题"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cform class\x3d"js-add-question-form"\x3e\x3cdiv class\x3d"zg-section-big clearfix"\x3e\x3cdiv id\x3d"zm-modal-dialog-info-wrapper"\x3e\x3c/div\x3e\x3cdiv style\x3d"display: none;position: relative;" id\x3d"zm-modal-dialog-warnmsg-wrapper"\x3e\x3cdiv class\x3d"zm-modal-dialog-warnmsg zm-modal-dialog-guide-warn-message zg-r5px"\x3e\x3c/div\x3e\x3ca name\x3d"close" title\x3d"关闭" href\x3d"javascript:;" class\x3d"zu-global-notify-close"  style\x3d"display:none"\x3ex\x3c/a\x3e\x3cspan class\x3d"zm-modal-dialog-guide-title-msg"\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"zg-form-text-input add-question-title-form" style\x3d"position: relative;"\x3e\x3ctextarea rows\x3d"1" class\x3d"zg-editor-input" title\x3d"在这里输入问题" id\x3d"zh-question-suggest-title-content"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cspan id\x3d"js-title-length-err-msg" class\x3d"title-length-err-msg zg-right"\x3e\x3c/span\x3e\x3cdiv id\x3d"zh-question-suggest-ac-wrap" class\x3d"question-suggest-ac-wrap"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"zg-section-big"\x3e\x3cdiv style\x3d"display: none;position: relative;" class\x3d"zm-modal-dialog-warnmsg-wrapper"\x3e\x3cdiv class\x3d"zm-modal-dialog-warnmsg zm-modal-dialog-guide-warn-message zg-r5px"\x3e\x3c/div\x3e\x3ca name\x3d"close" title\x3d"关闭" href\x3d"javascript:;" class\x3d"zu-global-notify-close" style\x3d"display:none"\x3ex\x3c/a\x3e\x3cspan class\x3d"zm-modal-dialog-guide-title-msg"\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"add-question-section-title"\x3e\x3cspan class\x3d"zg-right extra-editor-toolbar hidden-phone"\x3e\x3cdiv class\x3d"js-toggle-editor-toolbar"\x3e\x3ci class\x3d"tr-inline-icon z-ico-textedit"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"js-editor-add-pic"\x3e\x3ci class\x3d"tr-inline-icon tr-image"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"js-editor-add-video"\x3e\x3ci class\x3d"tr-inline-icon tr-video"\x3e\x3c/i\x3e\x3c/div\x3e\x3c/span\x3e问题说明（可选）：\x3cspan id\x3d"zh-question-form-detail-err"\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv id\x3d"zh-question-suggest-detail-container"\x3e\x3cdiv class\x3d"zm-editable-content" data-disabled\x3d"1"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"zm-add-question-form-topic-wrap"\x3e\x3cdiv class\x3d"add-question-section-title"\x3e\x3cspan class\x3d"zg-gray zg-right hidden-phone"\x3e话题越精准，越容易让相关领域专业人士看到你的问题\x3c/span\x3e选择话题：\x3cspan id\x3d"zh-question-form-tag-err"\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv id\x3d"zh-question-suggest-topic-container" class\x3d"zm-tag-editor zg-section"\x3e\x3cdiv class\x3d"zm-tag-editor-labels"\x3e\x3c/div\x3e\x3cdiv id\x3d"zh-question-suggest-autocomplete-container"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"zm-command"\x3e\x3clabel class\x3d"zm-question-form-hide-in-about-question-el zg-left"\x3e\x3cinput type\x3d"checkbox" value\x3d"1" class\x3d"zg-addq-isanon"\x3e匿名\x3c/label\x3e\x3ca href\x3d"javascript:;" name\x3d"cancel" class\x3d"zm-command-cancel"\x3e取消\x3c/a\x3e\x3ca href\x3d"javascript:;" name\x3d"addq" class\x3d"zg-r5px zu-question-form-add zg-btn-blue"\x3e发布\x3c/a\x3e\x3ca name\x3d"jumpq" class\x3d"zg-r5px zg-btn-blue zu-question-form-jump" style\x3d"display:none;"\x3e查看问题\x3c/a\x3e\x3c/div\x3e\x3c/form\x3e\x3c/div\x3e'));this.R().appendChild(a);
this.Fc=z.Lo("zg-editor-input",this.h)[0];this.Wq=z.L("zu-question-form-add",this.h);this.cn=z.L("zu-question-form-jump",this.h);this.Yj=z.I("zm-modal-dialog-warnmsg-wrapper");this.Us=z.I("js-title-length-err-msg");this.iA=z.L("zm-modal-dialog-warnmsg-wrapper",this.h);this.dE=z.I("zh-question-form-detail-err");this.gB=z.I("zh-question-form-tag-err");this.YM=z.L("zu-global-notify-close",this.Yj);this.KV=z.L("zu-global-notify-close",this.iA);this.iQ=z.I("zm-modal-dialog-info-wrapper");this.mt=z.L("zm-modal-dialog-warnmsg",
this.Yj);z.L("zm-modal-dialog-warnmsg",this.iA);this.kD=z.L("zg-addq-isanon",this.h);this.EV=z.L("js-toggle-editor-toolbar",this.h);this.HL=z.L("js-editor-add-pic",this.h);this.IL=z.L("js-editor-add-video",this.h);this.iV=z.L("js-add-question-splash",this.h);this.kR=z.L("js-add-question-form",this.h);this.YC=z.I("js-before-ask");this.yN=z.I("zh-question-suggest-detail-container");this.JV=z.I("zh-question-suggest-topic-container");this.vy();this.xz?(yv(this,!0),this.uy()):(this.bG(),yv(this,!1))};
z.e.show=z.Eq(function(a){this.J=window.$.extend({Dm:null,bk:null},a||{});this.G(!0)},!0,"#ask");z.e.Zl=function(){z.rv.o.Zl.call(this);this.J={}};z.e.vy=function(){this.La("提问");z.Sj(this,550);z.Kj(this,null);this.W=(0,window.$)(this.h);this.W.addClass("absolute-position");this.G(!0);this.ha()};z.e.bG=z.Pj(function(){Av(this);this.bc();tv(this)});z.e.$p={};z.e.$p.vI='\x3c% forEach(questions, function(q, i) { q \x3d q.data; %\x3e\x3cdiv class\x3d"ac-row" data-url_token\x3d"\x3c%\x3dq.url_token%\x3e" data-answer_count\x3d"\x3c%\x3dq.answer_count%\x3e"\x3e\x3c% if (q.is_star) { %\x3e\x3ca class\x3d"zg-star" data-tip\x3d"s$b$优质问答" href\x3d"/question/\x3c%\x3dq.url_token%\x3e"\x3e\x3c/a\x3e\x3c% } %\x3e\x3ca class\x3d"zippy-indicator"\x3e\x3ci\x3e\x3c/i\x3e\x3c/a\x3e\x3ca style\x3d"color:#222" href\x3d"/question/\x3c%\x3dq.url_token%\x3e?q\x3d\x3c%\x3d token %\x3e"\x3e\x3c%\x3dq.title%\x3e\x3c/a\x3e \x3cspan class\x3d"zm-ac-gray"\x3e\x3c%\x3d parseInt(q.answer_count) \x3e 0 ? q.answer_count + " 个回答" : "还没有回答" %\x3e \x3c/span\x3e\x3c/div\x3e\x3c% }) %\x3e';
z.e.$p.jM='\x3c% forEach(answers, function(a, i) { %\x3e\x3cdiv class\x3d"zippy-row"\x3e\x3cdiv class\x3d"summary-item"\x3e\x3ca class\x3d"inline-block zm-item-vote-count" href\x3d"/question/\x3c%\x3dquestion_url_token%\x3e/answer/\x3c%\x3da.url_token%\x3e"\x3e\x3c%\x3da.vote_count%\x3e\x3c/a\x3e\x3c% if (a.author.url_token) { %\x3e\x3ca class\x3d"inline-block" href\x3d"/people/\x3c%\x3da.author.url_token%\x3e"\x3e\x3cspan class\x3d"author"\x3e\x3c%-a.author.name%\x3e\x3c/span\x3e \x3c/a\x3e\x3c% } else { %\x3e\x3cspan class\x3d"inline-block anon-author"\x3e\x3c%-a.author.name%\x3e\x3c/span\x3e \x3c% } %\x3e\x3cspan class\x3d"inline-block summary ellipsis"\x3e\x3c%\x3da.summary_text%\x3e\x3c/span\x3e\x3ca class\x3d"inline-block" href\x3d"/question/\x3c%\x3dquestion_url_token%\x3e/answer/\x3c%\x3da.url_token%\x3e"\x3e阅读全部 »\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c% }) %\x3e';
z.e.uy=function(){function a(){yv(b,!1);b.Fc.value=d.value}var b=this,c=(0,z.xv)(this.$p.vI),d=this.YC,f=new Qs;this.zL=new z.Ps(d,{source:"/question/autocomplete",pk:d.offsetParent,td:function(){},render:function(b,f,k){b=(0,window.$)(b.m());b.html(c({forEach:z.w,questions:k,token:(0,window.encodeURIComponent)(this.Ub)}));0<k.length&&b.prepend('\x3cdiv class\x3d"ac-row ac-first"\x3e\x3cb\x3e你想问的是不是：\x3c/b\x3e\x3c/div\x3e').append((0,window.$)('\x3cdiv class\x3d"ac-row ac-last iwanttoask"\x3e\x3ca href\x3d"#"\x3e不是，我要提一个新问题 »\x3c/a\x3e\x3c/div\x3e'));
0===k.length&&d.value&&(b.html('\x3cdiv class\x3d"ac-row ac-last iwanttoask"\x3e\x3ca href\x3d"#"\x3e没有找到相关问题，马上提问 »\x3c/a\x3e\x3c/div\x3e').show(),k.push("fake row"));b.off("click").on("click",".iwanttoask",a)},Hy:f});this.zL.Wm=!1};z.e.resetForm=function(){this.Fc.value="";this.Ma&&this.Ma.Lu();this.Yj&&z.P(this.Yj,!1);this.Ma.reset()};
z.e.bc=function(){this.v().g(this.h,"click",this.EO);this.XQ&&this.XQ.w(this.Fc);this.wI=new z.Mr(this.Fc);this.v().g(this.wI,"change",this.UH);this.v().g(this.YM,"click",function(){z.P(this.Yj,!1);z.P(this.iQ,!0)});this.v().g(this.KV,"click",function(){z.P(this.iA,!1)});this.v().g(this,"afterhide",function(){Dv(this)});Cv(this)};z.e.EO=function(a){if(a=z.zr(this.h,a.target))switch(a=a.name,a){case "expand":z.V.add(this.h,"zg-qform-expanded");break;default:this.bs(a)}};
z.e.bk=function(){var a=z.Mn(this.xhr);if(!a)return z.W.message("网络异常");if(a.r)if(281===a.errcode){var b=new Hv;b.xe=a.msg;b.level=3;Ev(this,b,!0)}else z.W.message(a.msg);else z.Qh.set("__Q_ISNEWLYCREATED__","yep"),uv.clear(),(0,window.$)(window).off("beforeunload.AddQuestionForm"),a=a.msg,b=a.match(/\/question\/(\d+)/)[1],this.J.bk?this.J.bk({url:a,nb:b}):window.location.href=a};
z.e.bs=function(a){if("cancel"===a)this.G(!1);else if("addq"===a){a=Iv(this);var b=Fv(this);if(!(1<b.level||1<a.level)){var c=Jv(this),d=new Hv;3E3<Br(c)?(d.level=3,d.xe="请控制在 3000 字以下"):d.level=0;c=1<d.level;this.dE.innerHTML=d.xe;z.P(this.dE,c);Bv(this,c,"detail");this.QH()}Bv(this,1<b.level||1<a.level,"title");this.hE?Ev(this,1<a.level?a:b,!0):this.xhr&&this.xhr.hc()||(this.xhr=new z.Z(!0),this.v().ya(this.xhr,"success",this.bk),this.xhr.ajax("/question/add",Kv(this).ye()),this.Ma.trackEvent())}};
z.e.UH=function(){var a=Iv(this),b=Fv(this);"toolong"===a.name||"buffer"===a.name?(this.Us.innerHTML=a.xe,z.P(this.Us,!0)):(this.Us.innerHTML=a.xe,z.P(this.Us,!1));"multiquestionmark"===b.name||"duplicatedquestion"===b.name?Ev(this,b,!0):Ev(this,b,!1);Bv(this,1<b.level,"title")};z.e.QH=function(){var a=!1;1>this.Ma.data.length?(a=!0,this.gB.innerHTML="至少添加一个话题"):5<this.Ma.data.length&&(a=!0,this.gB.innerHTML="最多添加五个话题");z.P(this.gB,a);Bv(this,a,"topic")};z.e.eS=function(){this.Nb&&qv(this.Nb)};Lv.prototype.init=function(){var a=(0,window.$)("#zh-question-related-questions");if(a.length){var b=(0,window.$)("li",a),c=function(a,b,c){var h=1,k=Math.ceil(a.length/b);return{next:function(){1!==k&&(h=h===k?1:h+1,c(h))},oN:function(){var c=(h-1)*b;return a.slice(c,c+b)}}}(b,5,function(){b.attr("hidden","true");c.oN().removeAttr("hidden")});(0,window.$)(".next",a).click(function(){c.next();z.T("question_answer","click_sidebarrelatedquestions_pager")});b.each(function(a,b){z.so(b,{module:"QuestionItem"},
function(){return{card:{card_type:"Content",content:{type:"Question",id:b.getAttribute("data-id")}}}})})}};z.ja(z.Mv,z.Bk);z.Mv.prototype.B=function(){z.Bk.prototype.B.call(this);this.ia((0,window.$)(".phone-verification-template").html())};z.Mv.prototype.C=function(){z.Bk.prototype.C.call(this);var a=(0,window.$)(".view.verification",this.Nc),b=new z.Tk(this.Kn);this.L(b);b.$c(this.Df);b.w(a[0])};z.ja(Nv,z.Q);Nv.prototype.C=function(){z.Q.prototype.C.call(this);this.Ve()};
Nv.prototype.Ve=function(){var a=this,b=this.m();this.Lm=(0,window.$)(".SignFlow-panel",b);this.Lm.on("click",".switch-to-login",function(){a.Lm.filter(":visible").attr("hidden",!0).siblings().removeAttr("hidden");a.na({category:"sign_in",action:"switch_to_sign_in_box_appear"})});var c=(0,window.$)(".LoginForm",b)[0],d=new z.Pk({Nm:z.Qk});d.$c(this.Df);d.w(c);b=(0,window.$)(".SignupForm",b)[0];c=new z.Sk;c.$c(this.Df);c.w(b);c.g("success",function(b){b=new z.Mv(b.data);b.Db(a);b.G(!0)})};
z.Ca(Nv.prototype,z.Wm);Ov.prototype.init=function(){this.By();Pv();Qv()};Ov.prototype.By=function(){var a=(0,window.$)("#SidebarSignFlow")[0];if(a){var b=function(b){var d=(0,window.$)(".account",a);b||d.attr("name","account").attr("aria-label","手机号或邮箱").attr("data-placeholder","手机号或邮箱");(0,window.$)("[data-placeholder]",a).attr("placeholder",function(){return(0,window.$)(this).attr("data-placeholder")})};window.$.get("/register/is_domestic").then(function(c){b(c.value);c=new Nv;c.$c("sidebar_signflow");c.w(a)})}};z.ja(Rv,z.Q);Rv.prototype.C=function(){var a=this;z.Q.prototype.C.call(this);var b=this.m(),c=(0,window.$)(b),d=c.find(".shameimaru-link"),f=c.find(".shameimaru-close"),g=c.data("track"),h=z.No(g,"at","view"),k=z.No(g,"at","close");z.Bn(b,function(){z.Sv(h)});d.one("click",function(){var a=d.attr("href");d.attr("href",z.No(a,"click",1))});f.one("click",function(b){b.preventDefault();z.Sv(k);c.fadeOut(500,function(){return c.remove()});a.H()})};z.ja(Uv,z.Q);Uv.prototype.init=function(){var a=(0,window.$)(".AppPromotionBar");this.Ff=a;var b=this;if(a.length&&(0,window.$)("html").hasClass("is-AppPromotionBarVisible"))a.on("click",".AppPromotionBar-closeButton, .AppPromotionBar-downloadButton",function(){(0,window.$)(this).hasClass("AppPromotionBar-downloadButton")?z.T("app-promotion","click_mobileweb_app_dl_bar_download_btn"):z.T("app-promotion","click_mobileweb_app_dl_bar_close_btn");z.Qh.set("hideAppPromotionBar","true");Vv(b)})};var Zv;z.ja(cw,z.Q);z.e=cw.prototype;z.e.init=function(){var a=window.document.querySelector(".js-WechatLoginIntro");a&&this.w(a)};z.e.C=function(){z.Q.prototype.C.call(this);this.h.querySelector(".js-login").addEventListener("click",this.OP.bind(this));this.h.querySelector(".js-other").addEventListener("click",this.wP.bind(this));this.h.querySelector(".js-close").addEventListener("click",this.close.bind(this));z.xi({action:"show",category:"wechat-login-intro"})};
z.e.OP=function(){z.xi({category:"wechat_login_intro",action:"click_main"})};z.e.wP=function(){(new z.Qk).show();z.xi({category:"wechat_login_intro",action:"click_other"})};z.e.close=function(){this.h.parentNode.removeChild(this.h);window.$.post("/intro/wechat/uninterest");z.xi({category:"wechat_login_intro",action:"close"})};z.la(dw);var fw=z.Bm.create("Report"+z.S.cg);dw.prototype.sL='\x3cdiv id\x3d"zh-feedback-form"\x3e\x3cselect name\x3d"type" class\x3d"zg-editor-type zg-right"\x3e\x3coption value\x3d"help"\x3e使用帮助 \x3c/option\x3e\x3coption value\x3d"bug"\x3e问题反馈\x3c/option\x3e\x3coption value\x3d"search_suggest"\x3e搜索反馈\x3c/option\x3e\x3coption value\x3d"suggest"\x3e功能建议\x3c/option\x3e\x3c/select\x3e\x3cdiv class\x3d"zg-report-title"\x3e\x3cspan class\x3d"zg-gray-darker"\x3e请填写你的反馈内容\x3c/span\x3e\x3cspan class\x3d"zg-report-msg" style\x3d"display:none;"\x3e请选择反馈种类：\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"zg-editor-simple-wrap zg-form-text-input zg-report-content"\x3e\x3ctextarea class\x3d"zg-editor-input" name\x3d"content"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3c/div\x3e';
dw.prototype.defaults={title:"建议和反馈"};dw.prototype.Ve=function(a){var b=(0,window.$)("#zh-feedback-form"),c=(0,window.$)("select",b),b=(0,window.$)("textarea",b);new z.Mr(b[0]);c.toggle(!a.type);b.html(fw.get("content")||"");b.on("input change",function(){fw.set("content",this.value)})};dw.prototype.create=function(a){var b=window.$.extend(this.defaults,a||{});z.W.confirm(b.title,this.sL,function(a){if(a)return ew(b)},this);this.Ve(b)};var jF,lF;
lF={"rt:button":function(){(0,z.kF)(this,"roundtable",null,["zg-btn-follow","zg-btn-unfollow"])},"rt:link":function(){(0,z.kF)(this,"roundtable",null,null,{follow_text:"关注圆桌"})},"c:link":function(){(0,z.kF)(this,"column",null,null,{follow_text:"关注专栏"})},"c:button":function(){(0,z.kF)(this,"column",null,["zg-btn-follow","zg-btn-unfollow"])},"q:link":function(){(0,z.kF)(this,"question",null,null,{follow_text:"关注问题"})},"m:link":function(){var a=this.getAttribute("data-follow_text");(0,z.kF)(this,"people",
null,null,a?{follow_text:a}:{})},"t:link":function(){(0,z.kF)(this,"topic",null,null,{follow_text:"关注话题"})},"t:link:simple":function(){(0,z.kF)(this,"topic")},"m:button":function(){var a=this;(0,z.kF)(a,"people",function(){a.getAttribute("data-followme")&&(z.V.has(a,"zg-btn-follow")?a.setAttribute("data-tip","s$b$对方已关注你"):a.setAttribute("data-tip","s$b$已互相关注"))},["zg-btn-follow","zg-btn-unfollow"])},"q:fi:button":function(){var a=this;(0,z.kF)(a,"question",function(b){(0,window.$)(".label",a).text(b?
"取消关注":"关注");var c=(0,window.$)(".count",a);b=Number(c.data("count"))+(b?1:-1);c.length&&(b=Math.max(b,0),c.text("（"+b+"）").data("count",b))},["unfollowing","following"])},"q:m:button":function(){(0,z.kF)(this,"question",null,["zg-btn-green","zg-btn-white"],{follow_text:"关注问题"})},"f:button":function(){(0,z.kF)(this,"favlist",null,["zg-btn-follow","zg-btn-unfollow"])},"t:button":function(){(0,z.kF)(this,"topic",null,["zg-btn-follow","zg-btn-unfollow"])}};
z.kF=z.Eq(function(a,b,c,d,f){function g(a){a.r?z.W.message(a.msg):h(n)}function h(b){b?(z.V.Cv(a,k,m),kr(a,f.unfollow_text||"取消关注")):(z.V.Cv(a,m,k),kr(a,f.follow_text||"关注"));z.sa(c)&&c(b)}jF&&"pending"===jF.state()&&jF.abort();f=f||{};b=b||a.getAttribute("data-focustype");d=d||["zg-follow","zg-unfollow"];var k=d[0],m=d[1],n=z.V.has(a,k);z.X.zb({type:"ga_click_follow",target:a,data:{type:b,Pj:n}});d={roundtable:hw,column:gw,people:Ws,question:Xs,topic:Zs,favlist:Ys}[b];var t=a.getAttribute("data-id")||
a.id.match(/-(.*)/)[1];d&&(d=d(t,n),"people"===b&&n?d.done(g):h(n),jF=d,(0,z.Gi)(a,{action:n?"Follow":"UnFollow",element:"Button"}))});z.v(iw,z.F);var mw=["group","key","name"];kw.prototype.defaults={zN:"帮助信息",Pw:"shortcut-tips-dialog"};kw.prototype.gc=function(){z.vl(z.$m.register("shift+/",this.show,this),{group:"导航",name:"帮助",key:"?"})};kw.prototype.show=function(){var a=this.J;z.W.alert({title:a.zN,content:rw(),className:a.Pw})};var tw=z.hk(function(a){var b=z.rm["ra-urls"],c=b&&b[a];return c?new window.Promise(function(b){window.$.ajax({url:c,dataType:"script",cache:!0}).then(function(){b(window.ra[a])})}):window.Promise.reject("Missing app name: ",a)});var ww=[];z.xp.on("init",function(){function a(){var b=ww.shift();b&&(b=b[0],b.length?b(a):(b(),a()))}a()});z.xp.on("init",function(){(0,window.$)("img.lazy").attr("data-lazyloaded","").lazyload({load:function(){(0,window.$)(this).trigger("contentchange")},data_attribute:"actualsrc",event:"scroll updatelazy",threshold:400})});z.xp.on("init",function(){z.S.Dn&&z.Qh.set("lastuser:email",z.S.Dn)});vw(function(a){new yp({bk:a})},0);
vw(function(){"#ask"===window.location.hash&&(z.rv.ba().show(),window.history.replaceState?window.history.replaceState(null,window.document.title,window.location.pathname+window.location.search):window.location.hash="")},window.Infinity);z.xp.on("init",function(){(new Lv).init()});z.xp.on("init",function(){(new Ov).init()});z.xp.on("init",function(){Tv()});z.xp.on("init",function(){(new Uv).init()});z.xp.on("init",function(){Yv()});z.xp.on("init",function(){z.eh()});z.xp.on("init",function(){return(new cw).init()});
z.xp.on("init",function(){z.Ni()});z.xp.on("postinit",function(){(0,window.$)("#js-feedback-button").click(function(){dw.ba().create()})});z.xp.on("init",function(){(0,window.$)(window.document.body).on("click.follow","[data-follow]",function(){if(this.name)return Dr("未清除的 name 属性:",this);var a=this.getAttribute("data-follow");(a=a&&lF[a])&&a.call(this)})});z.xp.on("postinit",function(){window.FastClick&&!z.vm&&window.FastClick.attach(window.document.body)});
z.xp.on("postinit",function(){if(z.S.pb())if(window.WebSocket){var a;a=-1!==z.qm.mn.indexOf("https")?z.qm.mn.replace("https","wss"):z.qm.mn.replace("http","ws");(new iw(a)).addEventListener("message",function(a){Fn(z.X,JSON.parse(a.data.replace(/^\+;/,"")))})}else a=new sq({url:z.em,data:{loc:window.location.href,channel:(0,z.G)()+Pn()},dataType:"polling",converters:{"text polling":function(a){return JSON.parse(a.replace(/^\+;/,""))}}}),a.addEventListener("message",function(a){Fn(z.X,a.data)}),a.It()});
z.xp.on("init",function(){new kw;z.zl.prototype.defaults.offsetTop=-60;var a=(0,window.$)('div[data-widget\x3d"navigable"], ul[data-widget\x3d"navigable"]');if(1===a.length){var b=a.data("navigable-options"),b=new z.zl(b);b.w(a.get(0));var c=(0,window.$)("#zh-load-more");b.on("action",function(a){a.data.index>=a.data.size&&c.is(":visible")&&c[0].click()})}});z.xp.on("init",function(){(0,window.$)(window.document).on("click",'a[href\x3d"#"]',function(a){a.preventDefault()})});
z.xp.on("postinit",function(){var a=window.location.pathname;(z.S.pb()&&"/"===a||/^\/(question|explore|collection|topic|people|search|roundtable\/)/.test(a))&&z.sw("CommentApp")});
z.xp.on("postinit",function(){(0,window.$)(".js-openProfilePage").on("click",function(){var a=(0,window.$)(this).attr("data-url"),a=(0,window.$)("\x3cform target\x3d'_blank' method\x3d'POST' style\x3d'display:none;'\x3e\x3c/form\x3e").attr({action:a}).appendTo(window.document.body);(0,window.$)('\x3cinput type\x3d"hidden" /\x3e').attr({name:"content",value:(0,window.$)("#performance-profile-data").text()}).appendTo(a);a.submit();a.remove()})});
z.xp.on("init",function(){var a=z.$i.get("d_c0",""),b=new z.Z(!0);""===a&&b.ajax("/udid","","POST")});z.v(xw,Fq);xw.prototype.add=function(a){z.y(this.queue,a)||(this.queue.push(a),z.E(a,"finish",this.xH,!1,this))};xw.prototype.remove=function(a){z.ub(this.queue,a)&&z.nd(a,"finish",this.xH,!1,this)};xw.prototype.D=function(){z.w(this.queue,function(a){a.H()});this.queue.length=0;xw.o.D.call(this)};z.v(yw,xw);
yw.prototype.play=function(a){if(0==this.queue.length)return!1;if(a||this.N==Gq)this.ox=0,this.dg();else if(1==this.N)return!1;this.hd("play");-1==this.N&&this.hd("resume");var b=-1==this.N&&!a;this.startTime=(0,z.G)();this.endTime=null;this.N=1;z.w(this.queue,function(c){b&&-1!=c.N||c.play(a)});return!0};yw.prototype.pause=function(){1==this.N&&(z.w(this.queue,function(a){1==a.N&&a.pause()}),this.N=-1,this.hd("pause"))};
yw.prototype.stop=function(a){z.w(this.queue,function(b){b.N==Gq||b.stop(a)});this.N=Gq;this.endTime=(0,z.G)();this.hd("stop");this.eg()};yw.prototype.xH=function(){this.ox++;this.ox==this.queue.length&&(this.endTime=(0,z.G)(),this.N=Gq,this.hd("finish"),this.eg())};z.v(Cw,z.Wj);z.e=Cw.prototype;z.e.init=function(){if(!z.pm("back_to_top")){this.h=z.Xe(this.uV);window.document.body.appendChild(this.h);var a=new z.el(this.xt,this.xV,this);this.FJ=(0,z.q)(a.fire,a);this.v().g(window,"resize",this.VH);this.VH()}};z.e.start=function(){this.rk||(this.rk=!0,this.v().g(window,"scroll",this.FJ).g(this.h,"click",this.VC),this.xt())};z.e.stop=function(){this.rk&&(this.rk=!1,this.v().qa(window,"scroll",this.FJ).qa(this.h,"click",this.VC),this.hide())};
z.e.VH=function(){z.Pe().width>=this.yR?this.start():this.stop()};z.e.uV='\x3cdiv class\x3d"zh-backtotop" style\x3d"display:none"\x3e\x3ca data-action\x3d"backtotop" data-tip\x3d"s$r$回到顶部" href\x3d"javascript:;" class\x3d"btn-backtotop btn-action"\x3e\x3cdiv class\x3d"arrow"\x3e\x3c/div\x3e\x3cdiv class\x3d"stick"\x3e\x3c/div\x3e\x3c/a\x3e\x3c/div\x3e';
z.e.VC=function(){var a=z.Re(window.document),b=z.Qe(window.document),c=b.x,b=b.y,d=new yw,f=this.v();d.add(new br(a,[c,b],[0,0],this.zU,Bw));d.add(new gr(this.h,this.lx,Aw));f.g(d,"finish",this.fS);f.g(d,"begin",this.SR);d.play();z.X.zb("ga_click_back_to_top");(0,z.Gi)(this,{action:"BackToTop",element:"Button"})};z.e.SR=function(){this.Nv=this.ao=!0};z.e.fS=function(){this.Nv=!1};z.e.show=function(){(new hr(this.h,this.lx,zw)).play();this.ao=!1};
z.e.hide=function(){(new gr(this.h,this.lx,Aw)).play();this.ao=!0};z.e.xt=function(){this.Nv||(1200<=z.Qe(window.document).y?this.ao&&this.show():this.ao||this.hide())};Dw.prototype.link="想来知乎工作？请发送邮件到 jobs@zhihu.com";Dw.prototype.mM="          _____                    _____                    _____                    _____          \n         /\\    \\                  /\\    \\                  /\\    \\                  /\\    \\         \n        /::\\____\\                /::\\    \\                /::\\    \\                /::\\    \\        \n       /:::/    /                \\:::\\    \\              /::::\\    \\              /::::\\    \\       \n      /:::/    /                  \\:::\\    \\            /::::::\\    \\            /::::::\\    \\      \n     /:::/    /                    \\:::\\    \\          /:::/\\:::\\    \\          /:::/\\:::\\    \\     \n    /:::/____/                      \\:::\\    \\        /:::/__\\:::\\    \\        /:::/__\\:::\\    \\    \n   /::::\\    \\                      /::::\\    \\      /::::\\   \\:::\\    \\      /::::\\   \\:::\\    \\   \n  /::::::\\    \\   _____    ____    /::::::\\    \\    /::::::\\   \\:::\\    \\    /::::::\\   \\:::\\    \\  \n /:::/\\:::\\    \\ /\\    \\  /\\   \\  /:::/\\:::\\    \\  /:::/\\:::\\   \\:::\\____\\  /:::/\\:::\\   \\:::\\    \\ \n/:::/  \\:::\\    /::\\____\\/::\\   \\/:::/  \\:::\\____\\/:::/  \\:::\\   \\:::|    |/:::/__\\:::\\   \\:::\\____\\\n\\::/    \\:::\\  /:::/    /\\:::\\  /:::/    \\::/    /\\::/   |::::\\  /:::|____|\\:::\\   \\:::\\   \\::/    /\n \\/____/ \\:::\\/:::/    /  \\:::\\/:::/    / \\/____/  \\/____|:::::\\/:::/    /  \\:::\\   \\:::\\   \\/____/ \n          \\::::::/    /    \\::::::/    /                 |:::::::::/    /    \\:::\\   \\:::\\    \\     \n           \\::::/    /      \\::::/____/                  |::|\\::::/    /      \\:::\\   \\:::\\____\\    \n           /:::/    /        \\:::\\    \\                  |::| \\::/____/        \\:::\\   \\::/    /    \n          /:::/    /          \\:::\\    \\                 |::|  ~|               \\:::\\   \\/____/     \n         /:::/    /            \\:::\\    \\                |::|   |                \\:::\\    \\         \n        /:::/    /              \\:::\\____\\               \\::|   |                 \\:::\\____\\        \n        \\::/    /                \\::/    /                \\:|   |                  \\::/    /        \n         \\/____/                  \\/____/                  \\|___|                   \\/____/         \n";z.v(Ew,z.Wj);z.mF=null;Ew.prototype.init=function(){z.mF=this;z.Fw(this)};Ew.prototype.vS=function(){var a=z.Mn(this.ak);a&&!a.r&&Fn(z.X,[a])};var Hw=window.localStorage&&!z.Qh.Pl()||z.Pi&&(!z.vm||z.um);Iw.prototype.ha=function(){};z.v(z.Jw,Iw);z.Jw.prototype.ha=function(a,b,c){z.Bs(this.element,this.Ye,a,b,void 0,c,this.nT)};z.v(Kw,Iw);Kw.prototype.ha=function(a,b,c,d){z.Bs(Qn(a),0,a,b,this.Qh,c,null,d)};z.v(Lw,z.Gn);Lw.prototype.setPosition=function(a){this.Lt=a||void 0;this.V()&&this.ha()};Lw.prototype.ha=function(){if(this.Lt){var a=!this.V()&&"move_offscreen"!=this.di(),b=this.m();a&&(b.style.visibility="hidden",z.P(b,!0));this.Lt.ha(b,this.dA,this.mz);a&&z.P(b,!1)}};z.v(z.Nw,Lw);var Vw=[];z.e=z.Nw.prototype;z.e.$b=null;z.e.className="goog-tooltip";z.e.Hp=500;z.e.bo=0;z.e.K=function(){return this.da};z.e.attach=function(a){a=z.I(a);this.cb.add(a);z.E(a,"mouseover",this.md,!1,this);z.E(a,"mouseout",this.El,!1,this);z.E(a,"mousemove",this.Cl,!1,this);z.E(a,"focus",this.ee,!1,this);z.E(a,"blur",this.El,!1,this)};z.e.detach=function(a){if(a)a=z.I(a),Ow(this,a),this.cb.remove(a);else{for(var b=this.cb.Vc(),c=0;a=b[c];c++)Ow(this,a);this.cb.clear()}};z.e.Fx=function(){return this.bo};
z.e.Pd=function(a){a=z.Jd(a,null);var b=this.m();b&&z.Ge(b,a)};z.e.nh=function(a){var b=this.m();b&&z.O(b);z.Nw.o.nh.call(this,a);a?(b=this.da.ua().body,b.insertBefore(a,b.lastChild),z.Dc(this.xk),this.xk=new z.uj(this.m()),z.Bc(this,this.xk),z.E(this.xk,"focusin",this.$i,void 0,this),z.E(this.xk,"focusout",this.Lp,void 0,this)):(z.Dc(this.xk),this.xk=null)};z.e.Jd=function(){return z.pf(this.m())};z.e.Hx=z.l(43);z.e.getState=function(){return this.vm?this.V()?4:1:this.Il?3:this.V()?2:0};
z.e.Hs=function(a){if(!this.V())return!1;var b=z.Rn(this.m()),c=z.Ig(this.m());return b.x<=a.x&&a.x<=b.x+c.width&&b.y<=a.y&&a.y<=b.y+c.height};z.e.Qo=function(){if(!z.Gn.prototype.Qo.call(this))return!1;if(this.anchor)for(var a,b=0;a=Vw[b];b++)z.mf(a.m(),this.anchor)||a.G(!1);z.tb(Vw,this);a=this.m();a.className=this.className;this.$i();z.E(a,"mouseover",this.dy,!1,this);z.E(a,"mouseout",this.EF,!1,this);Xw(this);return!0};
z.e.ek=function(){z.ub(Vw,this);for(var a=this.m(),b,c=0;b=Vw[c];c++)b.anchor&&z.mf(a,b.anchor)&&b.G(!1);this.gI&&this.gI.Lp();z.nd(a,"mouseover",this.dy,!1,this);z.nd(a,"mouseout",this.EF,!1,this);this.anchor=void 0;0==this.getState()&&(this.hu=!1);z.Gn.prototype.ek.call(this)};z.e.oz=function(a,b){this.anchor==a&&this.cb.contains(this.anchor)&&(this.hu||!this.$X?(this.G(!1),this.V()||(this.anchor=a,this.setPosition(b||Rw(this,0)),this.G(!0))):this.anchor=void 0);this.vm=void 0};z.e.Zh=function(){return this.cb};
z.e.sl=function(){return this.$b};z.e.cH=function(a){this.Il=void 0;if(a==this.anchor){a=this.K();var b=a.sl();a=b&&this.m()&&a.contains(this.m(),b);null!=this.$b&&(this.$b==this.m()||this.cb.contains(this.$b))||a||this.Zk&&this.Zk.$b||this.G(!1)}};z.e.md=function(a){var b=Qw(this,a.target);this.$b=b;this.$i();b!=this.anchor&&(this.anchor=b,Ww(this,b),Uw(this),Pw(this,a))};z.e.Cl=function(a){Pw(this,a);this.hu=!0};
z.e.ee=function(a){this.$b=a=Qw(this,a.target);this.hu=!0;if(this.anchor!=a){this.anchor=a;var b=Rw(this,1);this.$i();Ww(this,a,b);Uw(this)}};z.e.El=function(a){var b=Qw(this,a.target),c=Qw(this,a.relatedTarget);b!=c&&(b==this.$b&&(this.$b=null),Xw(this),this.hu=!1,!this.V()||a.relatedTarget&&z.mf(this.m(),a.relatedTarget)?this.anchor=void 0:this.Lp())};z.e.dy=function(){var a=this.m();this.$b!=a&&(this.$i(),this.$b=a)};
z.e.EF=function(a){var b=this.m();this.$b!=b||a.relatedTarget&&z.mf(b,a.relatedTarget)||(this.$b=null,this.Lp())};z.e.Lp=function(){2==this.getState()&&(this.Il=z.wd((0,z.q)(this.cH,this,this.anchor),this.Fx()))};z.e.$i=function(){this.Il&&(z.xd(this.Il),this.Il=void 0)};z.e.D=function(){this.G(!1);Xw(this);this.detach();this.m()&&z.O(this.m());this.$b=null;delete this.da;z.Nw.o.D.call(this)};z.v(Sw,Kw);
Sw.prototype.ha=function(a,b,c){b=Qn(a);b=yo(b);c=c?new z.qg(c.top+10,c.right,c.bottom,c.left+10):new z.qg(10,0,0,10);Es(this.Qh,a,4,c,b,9)&496&&Es(this.Qh,a,4,c,b,5)};z.v(Tw,z.Jw);Tw.prototype.ha=function(a,b,c){var d=new z.He(10,0);z.Bs(this.element,this.Ye,a,b,d,c,9)&496&&z.Bs(this.element,2,a,1,d,c,5)};z.v(Yw,z.Nw);z.e=Yw.prototype;z.e.qN=!1;z.e.pN=100;z.e.aq=!1;z.e.fk=function(){Yw.o.fk.call(this);this.Vq=Kn(z.vo(this.m()));this.anchor&&(this.Lv=Kn(z.vo(this.anchor)));this.aq=this.qN;z.E(this.K().ua(),"mousemove",this.Cl,!1,this)};z.e.ek=function(){z.nd(this.K().ua(),"mousemove",this.Cl,!1,this);this.Lv=this.Vq=null;this.aq=!1;Yw.o.ek.call(this)};
z.e.Hs=function(a){if(this.eo){var b=z.Rn(this.m()),c=z.Ig(this.m());return b.x-this.eo.left<=a.x&&a.x<=b.x+c.width+this.eo.right&&b.y-this.eo.top<=a.y&&a.y<=b.y+c.height+this.eo.bottom}return Yw.o.Hs.call(this,a)};z.e.cH=function(a){this.Il=void 0;a!=this.anchor||$w(this,this.bj)||this.sl()||this.Zk&&this.Zk.$b||z.A&&0==this.bj.x&&0==this.bj.y||this.G(!1)};
z.e.Cl=function(a){var b=this.V();if(this.Vq){var c=z.wf(this.K()),c=new z.He(a.clientX+c.x,a.clientY+c.y);$w(this,c)?b=!1:this.aq&&(b=Bo(this.Vq,c)>=Bo(this.Vq,this.bj))}if(b){if(this.Lp(),this.$b=null,b=this.Zk)b.$b=null}else 3==this.getState()&&this.$i();Yw.o.Cl.call(this,a)};z.e.dy=function(){this.sl()!=this.m()&&(this.aq=!1,this.$b=this.m())};z.e.Fx=function(){return this.aq?this.pN:Yw.o.Fx.call(this)};z.v(z.ax,Yw);z.e=z.ax.prototype;z.e.D=function(){z.ax.o.D.call(this);z.nd(this.Ia,"mouseover",this.GF,!1,this)};z.e.Ly=function(a){return a.tagName in this.HC&&!!a.getAttribute(this.HC[a.tagName])};z.e.GF=function(a){if(a=a.target)this.Ly(a)?(this.setPosition(null),bx(this,a)):this.LM&&(a=z.vf(a,(0,z.q)(this.Ly,this),!1,this.RX))&&(this.setPosition(null),bx(this,a))};z.e.Lz=function(a){return this.dispatchEvent(a)};z.e.Sr=function(){return this.Mf||this.anchor};
z.e.ek=function(){z.ax.o.ek.call(this);null!=this.Mf&&ex(this,this.Mf);this.Mf=null};z.e.md=function(a){var b=Qw(this,a.target);b&&b!=this.anchor?bx(this,b):z.ax.o.md.call(this,a)};z.e.El=function(a){var b=this.anchor,c=this.getState();z.ax.o.El.call(this,a);c==this.getState()||1!=c&&4!=c||(this.anchor=b,cx(this))};z.e.oz=function(a,b){z.ax.o.oz.call(this,a,b);this.V()?(a!=this.Mf&&ex(this,this.Mf),this.Mf=a):(Xw(this),cx(this))};z.v(dx,z.Mc);z.v(fx,z.Jw);fx.prototype.Pn=function(){return 5};
fx.prototype.ha=function(a,b,c,d){var f={"1-4":"bottom","0-4":"top","0-5":"top","1-5":"bottom","2-5":"top","3-5":"bottom","3-4":"bottom","2-6":"left","2-4":"right"},g;if(this.zC){g=z.Bs(this.element,this.Ye,a,b,null,c,10,d);var h=gx(g,this.Ye),k=gx(g,b);g&496&&(g=z.Bs(this.element,h,a,k,null,c,10,d),g&496&&(h=gx(g,h),k=gx(g,k),this.zC?z.Bs(this.element,h,a,k,null,c,this.Pn(),d):z.Bs(this.element,h,a,k,null,c,0,d)));this.Kt&&(a=(z.ka(h)?h:this.Ye)+"-"+(z.ka(b)?b:k),this.Kt(f[a],a))}else z.Bs(this.element,
this.Ye,a,b,void 0,c),this.Kt&&(a=this.Ye+"-"+b,this.Kt(f[a],a))};z.v(z.hx,z.Wj);z.e=z.hx.prototype;z.e.defaults={uT:"pm",Wt:!1,Pk:!0};z.e.nh=function(a){this.h=a};z.e.m=function(){return this.h};z.e.vy=function(){this.Ga=new z.U(null);this.Ga.La("发送私信");z.Kj(this.Ga,null);this.Ga.xf(!0);this.Ga.G(!0);this.h=this.Ga.R()};z.e.focus=function(){this.init();this.od.focus()};
z.e.init=function(){this.SP||(this.SP=!0,this.hq&&(this.Ga||this.vy(),this.h.innerHTML='\x3cdiv class\x3d"zm-pm-wrap"\x3e\x3cdl class\x3d"zm-form-table zm-form-table-medium"\x3e\x3cdt class\x3d"zm-form-table-head zm-form-table-head-align-middle"\x3e\x3clabel class\x3d"zg-medium-gray"\x3e发给：\x3c/label\x3e\x3c/dt\x3e\x3cdd class\x3d"zm-form-table-field"\x3e\x3cdiv class\x3d"zm-pm-selector-wrap"\x3e\x3cdiv class\x3d"zg-user-name" style\x3d"display:none;padding:4px 0 0 0"\x3e\x3c/div\x3e\x3cinput class\x3d"zg-form-text-input zm-pm-user-selector" type\x3d"text" /\x3e\x3c/div\x3e\x3c/dd\x3e\x3cdt class\x3d"zm-form-table-head zm-form-table-head-align-middle"\x3e\x3clabel class\x3d"zg-medium-gray"\x3e内容：\x3c/label\x3e\x3c/dt\x3e\x3cdd class\x3d"zm-form-table-field zm-form-table-field-last"\x3e\x3cdiv class\x3d"zg-editor-simple-wrap zg-form-text-input"\x3e\x3ctextarea class\x3d"zg-editor-input" style\x3d"font-weight:normal"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3c/dd\x3e\x3c/dl\x3e\x3cdiv class\x3d"zh-pm-warnmsg" style\x3d"display:none;text-align:right;color:#C3412F;"\x3e\x3c/div\x3e\x3cdiv class\x3d"zm-command zg-clear"\x3e\x3cdiv class\x3d"zm-item-meta zg-left" style\x3d"margin: 0 0 0 57px;"\x3e\x3cspan class\x3d"zg-text-counter" style\x3d"display:none"\x3e还可以输入 500 字\x3c/span\x3e\x3cspan class\x3d"additional-info" \x3e\x3c/span\x3e\x3c/div\x3e\x3ca name\x3d"cancel" href\x3d"javascript:;" class\x3d"zm-command-cancel"\x3e取消\x3c/a\x3e\x3ca name\x3d"send" href\x3d"javascript:;" class\x3d"zg-btn-blue zg-r3px" id\x3d"zh-question-pm-send-button"\x3e发送\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e'),this.yh=
z.L("zg-user-name",this.h),this.od=z.L("zg-editor-input",this.h),this.Zc=z.L("zm-pm-user-selector",this.h),this.nn=z.L("zm-command",this.h),z.L("zg-text-counter",this.h),this.mt=z.L("zh-pm-warnmsg",this.h),(0,window.$)(".additional-info",(0,window.$)(this.h)),new z.Mr(this.od),this.v().g(this.nn,"click",this.Oa).g(this.yh,"click",this.Oa).g(this.od,"keydown",this.gP),this.Zc&&((new z.Rs("搜索用户")).w(this.Zc),this.v().g(this.Zc,"blur",this.MM),this.ca=new z.et("/people/autocomplete?type\x3d"+this.J.uT,
this.Zc,null,null,z.L("zm-pm-wrap",this.h),!0),this.ca.qh(!0),this.v().g(this.ca,"select",this.HS)),z.S.pe||kx(this,"未激活用户，不能发送私信。请先激活邮箱。"))};z.e.gP=function(a){13===a.keyCode&&(a.ctrlKey||a.metaKey)&&(this.ls(),a.preventDefault())};z.e.MM=function(){this.nD&&(0,window.clearTimeout)(this.nD);this.nD=(0,window.setTimeout)((0,z.q)(this.NM,this),200)};z.e.NM=function(){var a=z.nr(this.Zc.value);-1===this.Cm&&a&&"搜索用户"!==a&&kx(this,"请输入对方姓名，从下拉菜单里选择收件人")};z.e.ou=function(a){this.NU=a};
z.e.show=function(){this.init();this.hq&&(this.Ga.G(!0),this.Ga.ha())};z.e.HS=function(){var a=z.zb(this.ca.wj(),1);z.jx(this,a[3],a[0],!0)};z.e.ls=function(){if(!this.Th||"pending"!==this.Th.state())if(-1===this.Cm)kx(this,"请填写收信人。");else{var a=this.od.value;(0,z.bb)(a)?(a=-1!==this.Sp?window.$.post("/inbox/reply",{message_id:this.Sp,content:a,type:this.jB}):window.$.post("/inbox/post",{member_id:this.Cm,content:a,token:this.NU}),a.done((0,z.q)(this.KS,this)),this.Th=a):kx(this,"请填写私信内容。")}};
z.e.Oa=function(a){if(a=(a=this.Mg(a.target))&&a.name)switch(a){case "edit":this.Cm=-1;z.qr(this.Zc,this.yh);break;case "cancel":this.hq&&this.Ga.G(!1);break;case "send":this.ls()}};z.e.KS=function(a){Cr("message","send_message");if(!a)return z.W.message("网络异常");if(a.r)return kx(this,a.msg);this.hq&&this.Ga.G(!1);this.J.Wt?window.location.reload():z.W.message("发送成功")};z.v(lx,z.Wj);var qx={p:"MemberProfileCardV2",t:"TopicProfileCardV2",c:"ColumnProfileCardV2",r:"RoundtableProfileCardV2"};z.e=lx.prototype;z.e.aQ={t:0,r:2,b:1,l:2};
z.e.init=function(){if(!z.qm.Ab&&!z.pm("tooltiop")){var a=this.S=new z.ax({A:"data-tip",SPAN:"data-tip",BUTTON:"data-tip",I:"data-tip",DIV:"data-tip",INPUT:"data-tip",IMG:"data-tip"}),b=z.N("div",{id:"zh-tooltip"});window.document.body.appendChild(b);this.S.nh(b);this.S.Hp=this.cV;this.S.bo=this.YP;this.v().g(this.S,"trigger",this.Lz);var c=(0,window.$)(b),d=null;a.on("show",function(a){(0,window.clearTimeout)(d);c.addClass("in");z.X.zb({type:"ga_hover_hovercard",target:a.target.Sr()})}).on("hide",
function(){c.css({display:"block",visibility:"visible"}).removeClass("in").addClass("out");d=(0,window.setTimeout)(function(){c.removeClass("out").css({display:"none",visibility:"hidden"})},1E3)});this.v().g(this.S,"beforeshow",this.Qo).g(this.S,"show",this.fg).g(this.S,"beforehide",this.RR);(0,window.$)(a.m()).on("click",".member-profile-card-pm",function(b){b.preventDefault();var c=(0,window.$)(this);a.G(!1);z.Eq(function(){var a=new z.hx({Pk:!1});a.show();z.jx(a,c.data("pmHash"),c.data("pmName"));
z.ix(a,c.attr("href"));a.od.focus()},!0)()})}};z.e.RR=function(){"s"!==this.Nf&&this.Jh[this.Nf]&&this.Jh[this.Nf][this.yn]&&(this.Jh[this.Nf][this.yn]=(0,window.$)(this.S.m()).find(".popover-content").html())};
z.e.Qo=function(){var a=this.S.Sr(),b=a.getAttribute("data-tip");this.WD=a;b=b.split("$");this.Nf=b[0];this.yn=b[2];this.cl=b[1];this.S.m().setAttribute("data-theme",a.getAttribute("data-theme")||"");"s"===this.Nf?(a=this.yn,b=[],b.push('\x3cdiv class\x3d"tooltip-arrow"\x3e\x3c/div\x3e'),b.push('\x3cdiv class\x3d"tooltip-inner content-prewrap"\x3e'),b.push(mo(a)),b.push("\x3c/div\x3e"),px(this,b.join(""))):ox(this,this.Nf,this.yn,this.cl);nx(this);a=this.S.Sr();this.Nf in qx&&a&&(!(b=a.getAttribute("href"))||
b.startsWith("#")||"http:"!==a.protocol&&"https:"!==a.protocol||(b=(0,window.$)("img",a).length?"Image":"Link",(0,z.Gi)(a,{action:"Hover",element:b},{link:{url:a.href}})))};z.e.fg=function(){var a=this.Nf in qx;a&&(z.so(this.S,{module:a?"HoverCard":null}),(0,z.Em)(this.S,{element:"Card"}))};z.e.ew=function(){return mx('\x3cdiv class\x3d"zh-hovercard-spinner"\x3e\x3c/div\x3e',!0)};
z.e.Lz=function(a){var b=a.anchor,c=b&&b.getAttribute("data-tip");a=c.split("$");var d=null;z.Co(b,"no-hovercard")?(a=this.S,Xw(a),cx(a)):c&&1<a.length?(b.title&&(b.setAttribute("data-original_title",b.title),b.removeAttribute("title")),d=a[1],"s"!==a[0]&&(210>z.Eg(b).y?"t"===d&&(d="b",b.setAttribute("data-tip",c.replace("$t$","$b$"))):(d="t",b.setAttribute("data-tip",c.replace("$b$","$t$")))),this.mN=d=new fx(b,this.aQ[d],"b"===d||"t"===d),b=(0,z.q)(this.MS,this),d.Kt=b,this.S.className="s"!==a[0]?
"goog-hovercard popover":"tooltip"):(a=this.S,Xw(a),cx(a))};
z.e.MS=function(a,b){var c=this.S.m();z.V.remove(c,"top","bottom","left","right");z.V.add(c,a);var d=z.$n(c),f=z.$n(this.WD),g=new z.He(c.offsetLeft,c.offsetTop);if("t"===this.cl||"b"===this.cl){var d=(d.width-f.width)/2,h=g.x-d;if("s"===this.Nf)z.sg(c,"left",h+"px");else{var h=z.y(["2-5","3-5","3-4","2-4"],b),k=(0,window.$)(".zh-hovercard-spinner",c)[0],m=z.L("arrow",c),n=z.L("arrow2",c);k?z.sg(c,"left",g.x-d+"px"):h?z.sg(c,"left",g.x+83+"px"):z.sg(c,"left",g.x-70+"px");var t=f.width/2;m&&n&&(k||
(h?z.w([m,n],function(a){z.sg(a,"left","auto");z.sg(a,"right",t+70+"px")}):z.w([m,n],function(a){z.sg(a,"left",t+70+"px")})))}}else z.sg(c,"top",g.y-(d.height-f.height)/2+"px"),"l"===this.cl&&z.Ag(c,g.x-f.width)};z.v(sx,z.Q);z.e=sx.prototype;
z.e.X=function(a){this.h=a;this.W=(0,window.$)(this.h);this.W.addClass("zh-scroller").css({position:"relative",overflow:"hidden"}).wrapInner('\x3cdiv class\x3d"zh-scroller-content"\x3e\x3c/div\x3e');this.W.wrapInner('\x3cdiv class\x3d"zh-scroller-inner"\x3e\x3c/div\x3e');this.W.append("\x3cdiv class\x3d'zh-scroller-bar-container'\x3e\x3cdiv\x3e");this.W.append('\x3cdiv class\x3d"zh-scroller-bar"\x3e\x3c/div\x3e');this.ed=this.W.children(".zh-scroller-inner");this.Bk=this.W.children(".zh-scroller-bar-container");this.me=
this.W.children(".zh-scroller-bar");this.Qe=this.ed.children(".zh-scroller-content");this.Rq=this.me[0];this.qQ=this.ed[0];this.content=this.Qe[0];this.Sq=this.Bk[0];this.ed.css({height:"100%",width:"150%",overflow:"auto"});this.me.css({position:"absolute",right:this.options.right,top:this.options.top,opacity:this.options.Uv,background:this.options.wM,width:this.options.width,"border-radius":3,cursor:"default"});this.Bk.css({position:"absolute",right:this.options.right-1,top:0,height:"100%",width:this.options.width,
background:this.options.bN,border:"1px solid #444",opacity:0,cursor:"default","border-radius":"2px"});this.zi(this.Rq,!1);this.zi(this.Sq,!1);this.update()};z.e.C=function(){sx.o.C.call(this);this.kB=new z.el(this.Jz,50,this);this.options.stopPropagation&&this.ed.bind("mousewheel DOMMouseScroll",function(a){var b=null;"mousewheel"===a.type?b=-1*a.originalEvent.wheelDelta:"DOMMouseScroll"===a.type&&(b=40*a.originalEvent.detail);b&&(a.preventDefault(),(0,window.$)(this).scrollTop(b+(0,window.$)(this).scrollTop()))})};
z.e.enter=function(){this.$w||(this.v().g(this.qQ,"scroll",function(){this.kB.fire()}),z.B||(this.v().g(this.Sq,"click",this.QR),this.v().g(window.document,"mousedown",this.rS),this.v().g(window.document,"mouseup",this.tS),this.v().g(window.document,"mousemove",this.sS)),this.options.tM?(this.Qd=new z.ud(200),this.v().g(this.Qd,"tick",function(){2===this.wz||1===this.wz?(tx(this),this.tm&&this.Bk.css({opacity:this.options.yD})):this.Dr||this.Ym||(ux(this,1E3),this.Bk.css({opacity:0}))})):(this.me.css({opacity:this.options.Uv}),
this.Bk.css({opacity:this.options.yD})),this.Qd&&this.Qd.start(),ux(this),this.$w=!0)};z.e.rS=function(a){a.target===this.Rq&&(this.Dr=!0,this.xM=a.clientY,this.yM=(0,window.parseInt)(this.me.css("top"),10));a.target!==this.Rq&&a.target!==this.Sq||this.zi(window.document.body,!1)};z.e.tS=function(){this.Dr=!1;this.zi(window.document.body,!0)};z.e.sS=function(a){if(this.Dr){var b=vx(this,this.yM+(a.clientY-this.xM));this.ed.scrollTop(b)}this.wz=a.target===this.Rq?2:a.target===this.Sq?1:0};
z.e.Jz=function(){var a=this.ed.scrollTop(),b=this.Qe.height(),c=this.ed.height(),d=a/b*(c-2*this.options.top);tx(this);this.me.css({top:d+this.options.top});this.dispatchEvent(new xx(this,a,b-a-c))};z.e.update=function(){var a=this.Og(this.ed).height,b=this.Og(this.Qe).height;a>=b?(this.tm=!1,this.me.hide()):(this.tm=!0,this.me.show());this.me.css({height:a/b*(a-2*this.options.top)});this.Bk.css({height:a-2});this.Qe.css({overflow:"hidden",width:this.W.width(),"min-height":"100%"});return this};
z.e.Og=function(a){var b={height:a.height(),width:a.width()};if(!b.height){var c=a.css("display"),d=a.css("position"),f=a.css("visibility");a.css({position:"absolute",display:"block",visibility:"hidden"});b={height:a.height(),width:a.width()};a.css({position:d,display:c,visibility:f})}return b};z.e.QR=function(a){this.scrollTo(vx(this,a.offsetY-this.me.height()/2))};z.e.scrollTop=function(a){this.tm&&(a=a||200,tx(this),this.ed.stop().animate({scrollTop:0},a));return this};
z.e.zi=function(a,b){z.uo(a,!b)};z.e.scrollBy=function(a,b){if(this.tm){tx(this);var c=b||this.Og(this.ed).height,c=Math.abs(c),c=this.ed.scrollTop()+(a?-1:1)*c;this.ed.stop().animate({scrollTop:c},200)}};z.e.scrollTo=function(a){this.tm&&(tx(this),this.ed.stop().animate({scrollTop:a},200));return this};z.v(xx,z.Mc);z.v(z.yx,z.Q);z.yx.prototype.defaults={oH:".tab-nav",fI:".tab-panel",zg:"active"};z.yx.prototype.X=function(a){if(a){this.h=a;var b=this,c=this.J;this.Ik=(0,window.$)(c.oH,a);this.Lm=(0,window.$)(c.fI,a);this.Hj=this.Ik.index("."+c.zg);this.Ik.on("click",function(){b.select(b.Ik.index(this))});this.Ik.attr("role","tab").parent().attr("role","tablist")}};
z.yx.prototype.select=function(a){if(!(0>a||a>this.Ik.size())&&(this.dispatchEvent({type:"action",data:{index:a}}),a!==this.Hj)){this.Hj=a;var b=this.J;this.Ik.eq(a).addClass(b.zg).attr("aria-selected","true").siblings().removeClass(b.zg).attr("aria-selected","false");b=this.Lm.eq(a);this.Lm.not(b.show()).hide();this.dispatchEvent({type:"select",data:{index:a}})}};z.yx.prototype.index=function(){return this.Hj};z.ja(zx,z.Wj);z.e=zx.prototype;
z.e.init=function(){this.pi=z.I("zh-top-nav-live-new");this.cC=(0,window.$)(this.pi);this.Xp=z.I("zh-top-nav-count-wrap");this.rn=z.N("span",{id:"zh-top-nav-count",className:"zu-top-nav-count zg-noti-number",style:"display:none"});this.contents=z.Lo("zm-noti7-content",this.pi);this.uw=z.Lo("zm-noti7-content-body",this.pi);this.Xp.appendChild(this.rn);this.v().g(this.Xp,"click",this.IJ).g(this.Xp,"keypress",function(a){32===a.keyCode&&(a.preventDefault(),this.IJ())});this.v().g(z.X,"notification",
this.tP);this.v().g(this.pi,"click",function(a){a=a.target;a.href&&/group_id=/.test(a.href+"")&&(0,window.$)(a).parent(".unread").removeClass("unread")});this.hv=(0,window.$)(".zm-noti7-popup-tab-container .icon");Ax(this);this.cK||(this.mg=z.ob(this.contents,function(a){var b=new sx;b.w(a);return b}));Dx(this);this.dm=z.I("zh-top-nav-pm-count");this.dm||(this.dm=z.N("span"));this.Yl=z.I("zh-top-nav-new-pm");this.Yl||(this.Yl=z.N("span"));this.YF=(0,window.parseInt)((0,window.$)(this.Yl).attr("data-count")||
(0,window.$)(this.dm).attr("data-count"),10)||0;this.v().g(z.X,"inbox",this.fP)};z.e.tP=function(a){this.wH=this.Lf;this.Lf=a.uf;this.Td=this.Lf[0]+this.Lf[1]+this.Lf[2];z.P(this.rn,!!this.Td);this.rn.innerHTML=Gx(this.Td);z.w(this.Lf,function(a,c){a?(this.hv.eq(c).addClass("withdot"),this.cache[c]=!1):this.hv.eq(c).removeClass("withdot");this.wE&&0<a-this.wH[c]&&this.yl(c)},this);Fx(this)};z.e.IJ=function(){this.visible?z.qm.Ab?Jx(this,!1):Jx(this,!!this.Td):Jx(this,!0);Fx(this)};
z.e.yl=function(a){if(!this.uj[a]){var b=this.uj[a]=new z.Z(!1);this.v().ya(b,"success",function(){var b=z.Mn(this.uj[a]);this.uj[a]=null;if(b)if(b.r)z.W.message(b.msg);else{this.yw=!0;var d=b.msg;if(d)1===a&&(d='\x3cdiv class\x3d"zm-noti7-content-head-item"\x3e\x3cspan class\x3d"zg-gray-normal"\x3e这些人最近关注了你\x3c/span\x3e\x3c/div\x3e'+d);else{switch(a){case 0:d="暂无新消息";break;case 1:d="有人关注你时会显示在这里";break;case 2:d="你的答案收到赞同、感谢时会显示在这里"}d='\x3cdiv class\x3d"zm-noti7-popup-empty"\x3e'+d+"\x3c/div\x3e"}this.cache[a]=
d;b.hasMore&&0===this.Oo[a]&&(this.Oo[a]=b.offset);this.um[a]&&(Bx(this,a),this.um[a]=!1)}});b.ajax("/noti7/stack/"+this.types[a]+"?limit\x3d10\x26r\x3d"+(0,z.G)(),"","GET")}};
z.e.fz=function(a){var b=this;if(this.uj[a])return window.Promise.reject("Request already in progress");if(0===this.Oo[a])return window.Promise.resolve(!1);var c=this.uw[a],d=z.Xe('\x3cdiv class\x3d"text-center"\x3e\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\x3c/div\x3e');c.appendChild(d);return this.uj[a]=window.$.get("/noti7/stack/"+this.types[a],{offset:this.Oo[a],r:(0,z.G)()}).then(function(f){z.O(d);if(f)if(f.r)z.W.message(f.msg);else{var g=z.Xe(f.msg);c.appendChild(g);b.uj[a]=null;b.mg&&b.mg[a]&&
b.mg[a].update();b.Oo[a]=f.offset;return f.hasMore}})};z.e.fP=function(a){this.YF=a=window.$.isNumeric(a)?a:a.uf;0!==a?(this.Yl.innerHTML=this.dm.innerHTML=a,this.Yl.style.visibility=this.dm.style.visibility="visible"):this.Yl.style.visibility=this.dm.style.visibility="hidden";Fx(this)};z.e.cs=function(a){z.mf(this.pi,a.target)||z.mf(this.Xp,a.target)||Jx(this,!1)};z.v(Lx,z.Q);z.e=Lx.prototype;z.e.defaults={trigger:"hover",WH:"open",hideFocus:!1};z.e.Wb=function(){return this.ug.length&&this.dd.length};z.e.w=function(a){if(a){var b=(0,window.$)(a),c=b.prev();this.ug=b;this.dd=c;this.$parent=b.parent();Lx.o.w.call(this,a);return this}};z.e.toggle=function(){this.rb()?this.close():this.open()};z.e.rb=function(){return this.ug.is(":visible")};z.e.open=function(){this.ug.attr("aria-hidden","false").parent().addClass(this.J.WH);this.dd.attr("aria-expanded","true")};
z.e.close=function(){this.ug.attr("aria-hidden","true").parent().removeClass(this.J.WH);this.dd.attr("aria-expanded","false")};z.e.XR=function(a){var b=a.keyCode;switch(b){case 32:a.preventDefault();this.toggle();break;case 27:case 9:this.close();break;case 38:case 40:Nx(this,38===b?-1:0)}};z.e.nS=function(a){var b=a.keyCode;switch(b){case 27:case 9:this.close();this.dd.focus();break;case 38:case 40:a.preventDefault(),Nx(this,this.index+(38===b?-1:1))}};
z.e.C=function(){var a=this,b=this.J;Mx(this);this.ug.on("keydown",(0,z.q)(this.nS,this));this.dd.on("keydown",(0,z.q)(this.XR,this));var c=z.Sm?"click":b.trigger;if("hover"===c)this.$parent.on("hover",(0,z.q)(function(a){"mouseenter"===a.type?this.open():this.close()},this));else if("click"===c)this.dd.on("click",(0,z.q)(function(a){a.preventDefault();this.toggle();this.dd.focus()},this));this.$parent.on("focusout",function(){(0,window.setTimeout)(function(){a.$parent.get(0).contains(window.document.activeElement)||
a.close()})});if(b.hideFocus)this.ug.children().find("a").on("click",function(){this.blur()})};z.ja(Ox,z.Q);z.e=Ox.prototype;z.e.C=function(){z.Q.prototype.C.call(this);this.ty()};z.e.Tr=function(){return this.ca};z.e.tB=function(a,b,c){if(a){var d={query:(0,z.bb)(this.m().value)};z.xi({vc:!0,category:"search",action:a,label:b,value:c,attributes:d})}};
z.e.ty=function(){var a=this,b=this.m();z.vl(z.$m.register("/",function(){(0,window.setTimeout)(function(){b.focus()});z.sr(b,null,500)}),{group:"导航",name:"搜索"});var c=new dt,d=b.getAttribute("placeholder")||"搜索你感兴趣的内容...";this.ca=new z.et("/autocomplete",b,null,null,b.offsetParent,null,[d],null,c);this.ca.Wm=!1;this.ca.qh(!0);this.v().g(this.ca,"select",this.by);var f=b.form;if(f){var g=function(a){(0,z.bb)(b.value)?f.submit():a.preventDefault()};this.v().g(b,"keydown",function(b){13===b.keyCode&&
(a.tB("visit_search_result","enter"),g(b))});this.v().g(f,"submit",g);(0,window.$)(":submit",f).click(function(){a.tB("visit_search_result","search_box_submit")})}this.v().g(this.ca,"suggestionsupdate",this.Av);var h=(0,z.q)(function(){this.ca.iE=!(this.metaKey||this.rz)},this);this.v().g(window.document,"keydown",function(a){a.metaKey&&(this.metaKey=!0,h())});this.v().g(window.document,"keyup",function(a){if(91===a.keyCode||224===a.keyCode)this.metaKey=!1,h()});this.v().g(window.document,"mouseup",
function(a){z.Rc(a,1)&&(this.rz=!0,h(),(0,window.setTimeout)((0,z.q)(function(){this.rz=!1;h()},this),0))});this.v().g(b,"mousedown",function(a){a.stopPropagation();return!0})};
z.e.Av=function(){var a=this.ca.Qa,b=this.ca.M.vf;if(a&&0!==a.length){if(1===a.length){var c=z.N("div",{className:"zu-autocomplete-empty"},"没有找到相关的结果");z.bf(c,b[0]);z.O(b[0])}z.w(a,function(c,f){if(0===f||c[0]!==a[f-1][0]){var g=b[f],h={people:"用户",topic:"话题",question:"问题"}[c[0]];h&&(h=z.N("div",{className:"zu-autocomplete-row-label ac-row"},h),z.bf(h,g),this.v().g(this.ca,"suggestionsupdate",Jr))}},this)}};
z.e.by=function(a){var b=this.ca.wj(),c=this.ca.M.Ll,d=z.zb(b,1),f=null,b=b[0];"topic"===b?(f="/topic/"+d[1],f=Px(this,f)):"people"===b?(f="/people/"+d[1],f=Px(this,f)):"question"===b?(f="/question/"+d[2],f=Px(this,f)):"search_link"===b&&(f="/search?q\x3d"+(0,window.encodeURI)(d[0])+"\x26type\x3dcontent");f&&(z.X.zb({type:"ga_serach_select",data:{type:b,index:c}}),d=c+1,(d={topic:["visit_topic","instant_search_result_topic",d],question:["visit_question","instant_search_result_question",d],people:["visit_people_profile",
"instant_search_result_people",d],search_link:["visit_search_result"]}[b])&&this.tB.apply(this,d),z.$i.set("s-q",(0,window.encodeURI)(this.ca.Ub),-1,"/"),z.$i.set("s-i",c+1,-1,"/"),z.$i.set("sid",(0,z.GE)(),-1,"/"),z.$i.set("s-t","autocomplete",-1,"/"),this.metaKey||this.rz?window.open(f):window.location.href=f);a.stopPropagation();a.preventDefault()};z.v(Qx,z.Wj);
Qx.prototype.init=function(){if((0,window.$)(".zu-top").length){z.Qh.get("__Q_ISNEWLYCREATED__")&&(z.Qh.remove("__Q_ISNEWLYCREATED__"),z.R&&(z.R.pG=!0));if(z.S.pb())(new zx).init();else(0,window.$)("#zh-top-inner").on("click",'a[href\x3d"/topic"]',function(){var a=new z.Qk;a.$c("top_navigation_topics");a.show();return!1}).on("click",".js-signin-noauth",function(){var a=new z.Qk;a.$c("top_navigation_sign_in");a.show();return!1}).on("click",".js-signin-noauth-mobile",function(){z.T("app-promotion","click_mobileweb_signin_btn");
var a=new z.Qk;a.$c("top_navigation_sign_in_mobile");a.show();return!1}).on("click",".js-signup-noauth",function(){var a=new z.Uk;a.$c("top_navigation_sign_up");a.show();return!1}).on("click",".js-signup-noauth-mobile",function(){z.T("app-promotion","click_mobileweb_signup_btn");var a=new z.Uk;a.$c("top_navigation_sign_up_mobile");a.show();return!1});if(this.tE=z.I("zh-top-search")){this.wQ=z.L("zu-top-search-input",this.tE);var a=z.I("zu-top-add-question");this.v().g(a,"click",this.ZU);z.Uj||!z.Tj?
(new Lx({hideFocus:!0})).w((0,window.$)("#top-nav-profile-dropdown").get(0)):Rx();this.ty()}}};Qx.prototype.ty=function(){var a=(new z.ph(window.location)).ye().get("q");a?a=(0,window.decodeURIComponent)(a):(a=z.Qh.get("query"),z.Qh.remove("query"));var b=this.wQ;a&&(b.value=a);z.Tj&&this.v().g(b,["focus","blur"],function(a){(0,window.$)(".zu-top").toggleClass("is-searching","focus"===a.type)});(new Ox).w(b)};Qx.prototype.ZU=z.Eq(function(){z.rv.ba().show()},!0,"#ask");window.JSON||(window.JSON={parse:An,stringify:Oo});z.B&&(Object.getPrototypeOf=function(a){return function(b){return b.__proto__||a.apply(this,arguments)}}(Object.getPrototypeOf));z.v(Sx,z.Q);z.nF=new Sx;z.nF.w(window.document);z.v(Tx,z.Aj);z.la(Tx);z.e=Tx.prototype;z.e.gc=function(){z.Kj(this,null);this.v().g(window.document,"click",this.cs)};
z.e.cs=function(a){a=a.target;if("IMG"===a.tagName&&z.V.has(a,this.zV)){var b=a.getAttribute("data-original");if(b&&!z.tm&&!z.Co(a,"editable")){this.ia('\x3cdiv class\x3d"zm-light-box-x1" id\x3d"zm-light-box-x1"\x3e\x3cdiv class\x3d"zm-light-box-x2" id\x3d"zm-light-box-x2"\x3e\x3cimg src\x3d"'+b+'" class\x3d"zm-light-box-img-el" /\x3e\x3cdiv class\x3d"zm-light-box-footer"\x3e\x3ca class\x3d"zm-light-box-show-origin" href\x3d"'+b+'" target\x3d"_blank"\x3e查看原图\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
this.G(!0);z.V.add(this.m(),"zm-light-box-fullscreen-image");var b=z.Pe(),c=z.I("zm-light-box-x1"),d=z.I("zm-light-box-x2"),f=a.getAttribute("data-rawheight"),g=a.getAttribute("data-rawwidth"),g=g?+g:0;(f?+f:0)>b.height-80?d.style.marginTop="40px":c.style.lineHeight=b.height+"px";d.style.width=g>b.width-80?b.width-80+"px":g+"px";z.X.zb({type:"ga_click_enlarge_image",target:a})}}};z.e.ha=z.p;z.e.focus=z.p;z.e.OI=z.Fl;z.e.cP=function(){this.G(!1);z.V.remove(window.document.body,this.aD)};
z.e.fg=function(){Tx.o.fg.call(this);z.V.add(window.document.body,this.aD);this.v().ya(window.document,"click",this.cP)};z.e.B=function(){Tx.o.B.call(this);z.V.add(this.m(),"zm-light-box")};z.e.lz=function(){this.Oc=this.K().B("div",this.Qc+"-bg zm-light-box-background");z.P(this.Oc,!1)};Tx.ba();z.kg("common");window.console||(window.console={info:z.p,log:z.p,warning:z.p,error:z.p});z.nF.on(["click!","show!","visit!"],function(a){var b=a.xc;b.category&&b.action&&z.T(b.category,a.type.replace("!","")+"_"+b.action,b.label,b.value)});z.vd=window;
(function(){function a(a){return(0,z.Ii)({responseId:a.getResponseHeader("X-Za-Response-Id")})}z.Tj=z.qm.Ab;window.$.ajaxPrefilter(function(a,c){var d,f;!1!==c.processData&&"get"!==a.type.toLowerCase()&&(f=z.$i.get("_xsrf"))&&(d=c.data||{},"string"===window.$.type(d)?z.Xa(d,"_xsrf\x3d")||(d+="\x26_xsrf\x3d"+f):(d._xsrf=f,d=window.$.param(d)),a.data=d)});window.$.ajaxPrefilter(function(b,c,d){return d.always(function(){return a(d)})});op("*",function(b,c){return a(c)});(new Qx).init()})();z.xp.dispatchEvent("init");
(0,window.$)(function(){z.xp.dispatchEvent("postinit")});z.S.pb()?(op("json",function(a){(a=a.profile_result)&&(0,window.$)(a).css("border-top","1px solid #eee").appendTo(window.document.body)}),z.qm.Ab&&(window.$.fx.off=!0),(0,window.$)(function(){(new Ew).init()})):(0,window.$)("body").addClass("no-auth");z.Xa(window.location.host,"zhihu.com")||(z.Mi=!0);(0,window.$)(window.document.body).children("div.zu-main").attr("role","main");
window.document.addEventListener&&window.document.addEventListener("touchstart",z.p,!1);z.Uj&&(0,window.$)('meta[name\x3d"viewport"]').attr("content","width\x3ddevice-width, initial-scale\x3d1.0");(0,window.$)(function(){window.znonce&&window.znonce.evalScripts();(new Cw).init();new lx;var a=new Dw;window.console&&window.console.info&&window.console.info(a.mM+"\n\n"+a.link);Gw();z.T.init()});z.v(z.Ux,z.Jw);z.Ux.prototype.Pn=function(){return this.Ao};z.Ux.prototype.pm=function(a){this.Ao=a};z.Ux.prototype.ha=function(a,b,c,d){var f=z.Bs(this.element,this.Ye,a,b,null,c,10,d,this.Sz);if(f&496){var g=Vx(f,this.Ye);b=Vx(f,b);f=z.Bs(this.element,g,a,b,null,c,10,d,this.Sz);f&496&&(g=Vx(f,g),b=Vx(f,b),z.Bs(this.element,g,a,b,null,c,this.Pn(),d,this.Sz))}};z.v(Wx,Hp);z.la(Wx);Wx.prototype.U=function(){return"goog-menuheader"};z.v(Xx,Qp);z.Op("goog-menuheader",function(){return new Xx(null)});z.v(Yx,Hp);z.la(Yx);z.e=Yx.prototype;z.e.gf=function(){return"menuitem"};z.e.B=function(a){var b=a.K().B("DIV",this.Uf(a).join(" "),$x(this,a.Sa(),a.K()));by(this,a,b,Kp(a,8)||Kp(a,16));return b};z.e.R=function(a){return a&&a.firstChild};z.e.w=function(a,b){var c=z.hf(b),d=Zx(this,2);c&&z.fj(c,d)||b.appendChild($x(this,b.childNodes,a.K()));z.fj(b,"goog-option")&&(a.zp(!0),this.zp(a,b,!0));return Yx.o.w.call(this,a,b)};
z.e.ia=function(a,b){var c=this.R(a),d=ay(this,a)?c.firstChild:null;Yx.o.ia.call(this,a,b);d&&!ay(this,a)&&c.insertBefore(d,c.firstChild||null)};z.e.zi=function(a,b,c){a&&b&&by(this,a,b,c)};z.e.zp=function(a,b,c){a&&b&&by(this,a,b,c)};z.e.Mn=function(a){switch(a){case 2:return Zx(this,0);case 16:case 8:return"goog-option-selected";default:return Yx.o.Mn.call(this,a)}};
z.e.Zr=function(a){var b=Zx(this,0);switch(a){case "goog-option-selected":return 16;case b:return 2;default:return Yx.o.Zr.call(this,a)}};z.e.U=function(){return"goog-menuitem"};z.v(z.cy,Qp);z.e=z.cy.prototype;z.e.Y=function(){var a=this.tz;return null!=a?a:this.Ng()};z.e.Da=function(a){this.tz=a};z.e.Rb=function(a,b){z.cy.o.Rb.call(this,a,b);switch(a){case 8:this.of()&&!b&&this.Jc(!1);var c=this.m();c&&this.M.zi(this,c,b);break;case 16:(c=this.m())&&this.M.zp(this,c,b)}};z.e.zi=function(a){this.Rb(8,a)};z.e.zp=function(a){this.Rb(16,a)};
z.e.Ng=function(){var a=this.Sa();return z.na(a)?(a=z.ob(a,function(a){return z.kf(a)&&(z.fj(a,"goog-menuitem-accel")||z.fj(a,"goog-menuitem-mnemonic-separator"))?"":z.Do(a)}).join(""),hp(a)):z.cy.o.Ng.call(this)};z.e.mf=function(a){var b=this.getParent();if(b){var c=b.XH;b.XH=null;if(b=c&&z.qa(a.clientX))b=new z.He(a.clientX,a.clientY),b=c==b?!0:c&&b?c.x==b.x&&c.y==b.y:!1;if(b)return}z.cy.o.mf.call(this,a)};z.e.lf=function(a){return a.keyCode==this.sz&&this.Nd(a)?!0:z.cy.o.lf.call(this,a)};
z.e.mO=function(){return this.sz};z.Op("goog-menuitem",function(){return new z.cy(null)});z.cy.prototype.ci=function(){return Kp(this,16)?"menuitemcheckbox":Kp(this,8)?"menuitemradio":z.cy.o.ci.call(this)};z.cy.prototype.getParent=function(){return Qp.prototype.getParent.call(this)};z.cy.prototype.bi=function(){return Qp.prototype.bi.call(this)};z.v(dy,Hp);z.la(dy);dy.prototype.B=function(a){return a.K().B("DIV",this.U())};dy.prototype.w=function(a,b){b.id&&Jn(a,b.id);if("HR"==b.tagName){var c=b;b=this.B(a);z.bf(b,c);z.O(c)}else z.gj(b,this.U());return b};dy.prototype.ia=function(){};dy.prototype.U=function(){return"goog-menuseparator"};z.v(z.ey,Qp);z.ey.prototype.C=function(){z.ey.o.C.call(this);z.aj(this.m(),"separator")};z.Op("goog-menuseparator",function(){return new z.ey});z.v(fy,Pr);z.la(fy);z.e=fy.prototype;z.e.Wb=function(a){return"UL"==a.tagName||fy.o.Wb.call(this,a)};z.e.Nn=function(a){return"HR"==a.tagName?new z.ey:fy.o.Nn.call(this,a)};z.e.Jf=function(a,b){return z.mf(a.m(),b)};z.e.U=function(){return"goog-menu"};z.e.De=function(a){fy.o.De.call(this,a);z.bj(a.m(),"haspopup","true")};z.v(z.gy,z.ey);z.Op("goog-menuseparator",function(){return new z.ey});z.v(z.hy,z.Sr);z.e=z.hy.prototype;z.e.Tm=!0;z.e.$L=!1;z.e.U=function(){return this.M.U()};z.e.Jf=function(a){if(this.M.Jf(this,a))return!0;for(var b=0,c=z.ah(this);b<c;b++){var d=z.bh(this,b);if("function"==typeof d.Jf&&d.Jf(a))return!0}return!1};z.e.Fa=function(a){this.L(a,!0)};z.e.Ui=function(a,b){this.Lk(a,b,!0)};z.e.removeItem=function(a){(a=this.removeChild(a,!0))&&a.H()};z.e.ai=function(a){return z.bh(this,a)};z.e.wl=function(){return z.ah(this)};
z.e.fb=function(){var a=[];z.ch(this,function(b){a.push(b)});return a};z.e.setPosition=function(a,b){var c=this.V();c||z.P(this.m(),!0);z.wo(this.m(),a,b);c||z.P(this.m(),!1)};z.e.G=function(a,b,c){(b=z.hy.o.G.call(this,a,b))&&a&&this.wa&&this.Tm&&this.Xb().focus();this.XH=a&&c&&z.qa(c.clientX)?new z.He(c.clientX,c.clientY):null;return b};z.e.Tx=function(a){this.Tm&&this.Xb().focus();return z.hy.o.Tx.call(this,a)};z.e.fD=function(a){return(this.$L||a.isEnabled())&&a.V()&&Kp(a,2)};
z.e.X=function(a){var b=this.M,c;c=this.K();c=z.Me(c.Ia,"DIV",b.U()+"-content",a);for(var d=c.length,f=0;f<d;f++)Rr(b,this,c[f]);z.hy.o.X.call(this,a)};z.e.lf=function(a){var b=z.hy.o.lf.call(this,a);b||z.ch(this,function(c){!b&&c.mO&&c.sz==a.keyCode&&(this.isEnabled()&&this.Lc(c),b=c.Yb(a))},this);return b};z.e.ub=function(a){z.hy.o.ub.call(this,a);(a=z.bh(this,a))&&xo(a.m(),this.m())};z.v(jy,z.Ux);z.v(ky,z.Np);z.la(ky);z.e=ky.prototype;z.e.B=function(a){var b={"class":"goog-inline-block "+this.Uf(a).join(" ")},b=a.K().B("DIV",b,this.Rh(a.Sa(),a.K()));this.wd(b,a.zl());return b};z.e.gf=function(){return"button"};z.e.R=function(a){return a&&a.firstChild&&a.firstChild.firstChild};z.e.Rh=function(a,b){return b.B("DIV","goog-inline-block "+(this.U()+"-outer-box"),b.B("DIV","goog-inline-block "+(this.U()+"-inner-box"),a))};z.e.Wb=function(a){return"DIV"==a.tagName};
z.e.w=function(a,b){ly(b,!0);ly(b,!1);var c;a:{c=a.K().cF(b);var d=this.U()+"-outer-box";if(c&&z.fj(c,d)&&(c=a.K().cF(c),d=this.U()+"-inner-box",c&&z.fj(c,d))){c=!0;break a}c=!1}c||b.appendChild(this.Rh(b.childNodes,a.K()));z.hj(b,["goog-inline-block",this.U()]);return ky.o.w.call(this,a,b)};z.e.U=function(){return"goog-custom-button"};z.v(my,ky);z.la(my);z.e=my.prototype;z.e.R=function(a){return my.o.R.call(this,a&&a.firstChild)};z.e.w=function(a,b){var c=z.Me(window.document,"*","goog-menu",b)[0];if(c){z.P(c,!1);z.Ke(c).body.appendChild(c);var d=new z.hy;d.w(c);a.oh(d)}return my.o.w.call(this,a,b)};z.e.Rh=function(a,b){return my.o.Rh.call(this,[this.createCaption(a,b),b.B("DIV","goog-inline-block "+(this.U()+"-dropdown")," ")],b)};z.e.createCaption=function(a,b){return ny(a,this.U(),b)};z.e.U=function(){return"goog-menu-button"};z.v(z.oy,z.Xp);z.e=z.oy.prototype;z.e.Js=!1;z.e.nk=!1;z.e.IU=!1;z.e.C=function(){z.oy.o.C.call(this);ty(this,!0);this.ka&&sy(this,this.ka,!0);z.bj(this.h,"haspopup",!!this.ka)};z.e.Gb=function(){z.oy.o.Gb.call(this);ty(this,!1);if(this.ka){this.Cb(!1);this.ka.Gb();sy(this,this.ka,!1);var a=this.ka.m();a&&z.O(a)}};z.e.D=function(){z.oy.o.D.call(this);this.ka&&(this.ka.H(),delete this.ka);delete this.zT;this.ma.H()};
z.e.fe=function(a){z.oy.o.fe.call(this,a);this.hc()&&(this.Cb(!this.rb(),a),this.ka&&(a=this.rb(),this.ka.tf=a))};z.e.mf=function(a){z.oy.o.mf.call(this,a);this.ka&&!this.hc()&&(this.ka.tf=!1)};z.e.Nd=function(){this.setActive(!1);return!0};z.e.JO=function(a){this.ka&&this.ka.V()&&!this.Jf(a.target)&&this.Cb(!1)};z.e.Jf=function(a){return a&&z.mf(this.m(),a)||this.ka&&this.ka.Jf(a)||!1};
z.e.lf=function(a){if(32==a.keyCode){if(a.preventDefault(),"keyup"!=a.type)return!0}else if("key"!=a.type)return!1;if(this.ka&&this.ka.V()){var b=13==a.keyCode||32==a.keyCode,c=this.ka.Yb(a);return 27==a.keyCode||b?(this.Cb(!1),!0):c}return 40==a.keyCode||38==a.keyCode||32==a.keyCode||13==a.keyCode?(this.Cb(!0,a),!0):!1};z.e.Yn=function(){this.Cb(!1)};z.e.pP=function(){this.hc()||this.Cb(!1)};z.e.Wc=function(a){this.Js||this.Cb(!1);z.oy.o.Wc.call(this,a)};
z.e.Xa=function(){this.ka||this.oh(new z.hy(this.K(),this.tR));return this.ka||null};z.e.oh=function(a){var b=this.ka;if(a!=b&&(b&&(this.Cb(!1),this.wa&&sy(this,b,!1),delete this.ka),this.wa&&z.bj(this.h,"haspopup",!!a),a)){this.ka=a;z.Zg(a,this);a.G(!1);var c=this.Js;(a.Tm=c)&&a.Ne(!0);this.wa&&sy(this,a,!0)}return b};z.e.Fa=function(a){this.Xa().L(a,!0)};z.e.Ui=function(a,b){this.Xa().Lk(a,b,!0)};z.e.removeItem=function(a){(a=this.Xa().removeChild(a,!0))&&a.H()};
z.e.ai=function(a){return this.ka?z.bh(this.ka,a):null};z.e.wl=function(){return this.ka?z.ah(this.ka):0};z.e.G=function(a,b){var c=z.oy.o.G.call(this,a,b);c&&!this.V()&&this.Cb(!1);return c};z.e.Ua=function(a){z.oy.o.Ua.call(this,a);this.isEnabled()||this.Cb(!1)};z.e.pJ=function(){this.Cb(!0)};
z.e.Cb=function(a,b){z.oy.o.Cb.call(this,a);if(this.ka&&!!(this.N&64)==a){if(a){if(!this.ka.wa)if(this.nk){var c=z.Jo(this.m());c?this.ka.lp(c.parentNode,c):this.ka.render(this.m().parentNode)}else this.ka.render();this.lK=yo(this.m());this.dD=z.vo(this.m());ry(this);c=!!b&&(13==b.keyCode||32==b.keyCode);b&&(40==b.keyCode||38==b.keyCode)||c&&this.IU?z.Wr(this.ka):this.ka.ub(-1)}else{this.setActive(!1);this.ka.tf=!1;if(c=this.m())z.bj(c,"activedescendant",""),z.bj(c,"owns","");null!=this.Dt&&(this.Dt=
void 0,(c=this.ka.m())&&z.Gg(c,"",""))}this.ka.G(a,!1,b);if(!this.Gd){var c=this.v(),d=a?c.g:c.qa;d.call(c,this.K().ua(),"mousedown",this.JO,!0);this.Js&&d.call(c,this.ka,"blur",this.pP);d.call(c,this.ma,"tick",this.ap);a?this.ma.start():this.ma.stop()}}this.ka&&this.ka.m()&&this.ka.h.removeAttribute("aria-hidden")};
z.e.ap=function(){var a=z.vo(this.m()),b=yo(this.m()),c=this.dD;(c=!(c==a||c&&a&&c.left==a.left&&c.width==a.width&&c.top==a.top&&c.height==a.height))||(c=this.lK,c=!(c==b||c&&b&&c.top==b.top&&c.right==b.right&&c.bottom==b.bottom&&c.left==b.left));c&&(this.dD=a,this.lK=b,ry(this))};z.e.Wx=function(a){(a=a.target.m())&&uy(this,a)};z.e.hP=function(a){Kp(this,32)&&this.Xb()&&this.ka&&this.ka.V()&&a.stopPropagation()};
z.e.ey=function(){if(!Vr(this.ka)){var a=this.m();z.bj(a,"activedescendant","");z.bj(a,"owns","")}};z.e.Rx=function(a){if(this.rb()&&a.target instanceof z.cy){a=a.target;var b=a.m();a.V()&&a.N&2&&null!=b&&uy(this,b)}};z.Op("goog-menu-button",function(){return new z.oy(null)});z.v(vy,Iw);vy.prototype.ha=function(a,b,c,d){var f=zo(z.Ke(a)),g=this.Qh.x+f.x,f=this.Qh.y+f.y,h=Cs(a),g=g-h.x,f=f-h.y;Es(new z.He(g,f),a,b,c,null,null,d)};z.v(wy,vy);wy.prototype.Ao=0;wy.prototype.pm=function(a){this.Ao=a};wy.prototype.ha=function(a,b,c,d){var f=Qn(a),f=yo(f),g;g=z.H(a);g=z.Re(g.Ia);g=new z.He(this.Qh.x+g.scrollLeft,this.Qh.y+g.scrollTop);var h=b,k=Es(g,a,h,c,f,10,d);if(0!=(k&496)){if(k&16||k&32)h^=2;if(k&64||k&128)h^=1;k=Es(g,a,h,c,f,10,d);0!=(k&496)&&Es(g,a,b,c,f,this.Ao,d)}};z.v(z.xy,z.hy);z.e=z.xy.prototype;z.e.FV=!1;z.e.FG=0;z.e.Mf=null;z.e.X=function(a){z.xy.o.X.call(this,a);(a=a.getAttribute("for")||a.htmlFor)&&this.attach(this.K().m(a),1)};z.e.C=function(){z.xy.o.C.call(this);this.Bf.forEach(this.MC,this);var a=this.v();a.g(this,"action",this.KR);a.g(this.K().ua(),"mousedown",this.AH,!0);z.C&&a.g(this.K().ua(),"contextmenu",this.AH,!0)};
z.e.attach=function(a,b,c,d,f){a&&this.Bf.Kf(z.ua(a))||(a?(b={h:a,AJ:b,sR:c,dx:d?"contextmenu":"mousedown",mz:f},this.Bf.set(z.ua(a),b)):b=null,this.wa&&this.MC(b),a=z.Ba(this.oS,a),this.m()&&this.v().g(this.m(),"keydown",a))};z.e.oS=function(a,b){if(27==b.keyCode)a.focus();else{var c=z.bh(this,this.Ra);if(c){var c=c.m(),d=new z.Qc(b.fc,c);d.target=c;if(32==b.keyCode||13==b.keyCode)z.Wc(c)?z.td(c,"keydown",!1,d):z.qd(c,"keydown",!1,d);32==b.keyCode&&this.hide()}}};
z.e.MC=function(a){this.v().g(a.h,a.dx,this.RH);"contextmenu"!=a.dx&&this.v().g(a.h,"keydown",this.PS)};z.e.detach=function(a){if(!a||!this.Bf.Kf(z.ua(a)))throw Error("Menu not attached to provided element, unable to detach.");a=z.ua(a);if(this.wa){var b=this.Bf.get(a);this.v().qa(b.h,b.dx,this.RH)}this.Bf.remove(a)};z.e.pJ=function(a,b,c){b=z.ka(a.AJ)?new z.Ux(a.h,a.AJ,!0):new wy(b,c);b.pm&&b.pm(5);z.yy(this,b,a.sR,a.mz,a.h)};
z.e.hide=function(){this.V()&&(this.G(!1),this.V()||(this.FG=(0,z.G)(),this.Mf=null))};z.e.rG=function(){return this.V()||150>(0,z.G)()-this.FG};z.e.KR=function(){this.hide()};z.e.RH=function(a){zy(this,a)};z.e.PS=function(a){32!=a.keyCode&&13!=a.keyCode&&40!=a.keyCode||zy(this,a);40==a.keyCode&&z.Wr(this)};z.e.AH=function(a){this.V()&&!this.Jf(a.target)&&this.hide()};z.e.Wc=function(a){z.xy.o.Wc.call(this,a);this.hide()};z.e.D=function(){z.xy.o.D.call(this);this.Bf&&(this.Bf.clear(),delete this.Bf)};z.v(Ay,Yx);z.la(Ay);Ay.prototype.B=function(a){var b=Ay.o.B.call(this,a);z.gj(b,"goog-submenu");By(this,a,b);return b};Ay.prototype.w=function(a,b){b=Ay.o.w.call(this,a,b);z.gj(b,"goog-submenu");By(this,a,b);var c=z.Me(window.document,"DIV","goog-menu",b);if(c.length){var d=new z.hy(a.K()),c=c[0];z.P(c,!1);a.K().ua().body.appendChild(c);d.w(c);a.oh(d,!0)}return b};
Ay.prototype.ia=function(a,b){var c=this.R(a),d=c&&c.lastChild;Ay.o.ia.call(this,a,b);d&&c.lastChild!=d&&z.fj(d,"goog-submenu-arrow")&&c.appendChild(d)};Ay.prototype.De=function(a){Ay.o.De.call(this,a);var b=a.R(),c=a.K(),c=z.Me(c.Ia,"SPAN","goog-submenu-arrow",b)[0];Cy(a,c);c!=b.lastChild&&b.appendChild(c);z.bj(a.m(),"haspopup","true")};z.v(Dy,z.cy);var TB=218;z.e=Dy.prototype;z.e.Xd=null;z.e.OA=null;z.e.pz=!1;z.e.mc=null;z.e.Lr=!1;z.e.Fq=!0;z.e.MQ=!1;z.e.C=function(){Dy.o.C.call(this);this.v().g(this.getParent(),"hide",this.LH);this.mc&&Hy(this,this.mc,!0)};z.e.Gb=function(){this.v().qa(this.getParent(),"hide",this.LH);this.mc&&(Hy(this,this.mc,!1),this.Lr||(this.mc.Gb(),z.O(this.mc.m())));Dy.o.Gb.call(this)};z.e.D=function(){this.mc&&!this.Lr&&this.mc.H();this.mc=null;Dy.o.D.call(this)};
z.e.Lc=function(a,b){Dy.o.Lc.call(this,a);b&&(this.Xa().tf=!0);a||(this.Xd&&z.xd(this.Xd),this.Xd=z.wd(this.Fg,TB,this))};z.e.su=function(){var a=this.getParent();a&&Vr(a)==this&&(Gy(this,!0),Fy(this))};z.e.Fg=function(){var a=this.mc;a&&a.getParent()==this&&(Gy(this,!1),z.ch(a,function(a){"function"==typeof a.Fg&&a.Fg()}))};z.e.G=function(a,b){var c=Dy.o.G.call(this,a,b);c&&!this.V()&&this.Fg();return c};
z.e.Yb=function(a){var b=a.keyCode,c=this.qd()?37:39,d=this.qd()?39:37;if(!this.pz){if(!this.isEnabled()||b!=c&&b!=this.sz)return!1;this.su();z.Wr(this.Xa());Ey(this)}else if(!this.Xa().Yb(a))if(b==d)this.Fg();else return!1;a.preventDefault();return!0};z.e.ZR=function(){this.mc.getParent()==this&&(Ey(this),this.bi().Lc(this),Fy(this))};z.e.LH=function(a){a.target==this.bi()&&(this.Fg(),Ey(this))};z.e.md=function(a){this.isEnabled()&&(Ey(this),this.OA=z.wd(this.su,TB,this));Dy.o.md.call(this,a)};
z.e.Nd=function(a){Ey(this);if(Kp(this,8)||Kp(this,16))return Dy.o.Nd.call(this,a);this.su();return!0};z.e.Fa=function(a){this.Xa().L(a,!0)};z.e.Ui=function(a,b){this.Xa().Lk(a,b,!0)};z.e.removeItem=function(a){(a=this.Xa().removeChild(a,!0))&&a.H()};z.e.ai=function(a){return z.bh(this.Xa(),a)};z.e.wl=function(){return z.ah(this.Xa())};z.e.fb=function(){return this.Xa().fb()};
z.e.Xa=function(){this.mc?this.Lr&&this.mc.getParent()!=this&&z.Zg(this.mc,this):this.oh(new z.hy(this.K()),!0);this.mc.m()||this.mc.B();return this.mc};z.e.oh=function(a,b){var c=this.mc;a!=c&&(c&&(this.Fg(),this.wa&&Hy(this,c,!1)),this.mc=a,this.Lr=!b,a&&(z.Zg(a,this),a.G(!1,!0),a.Tm=!1,a.Ne(!1),this.wa&&Hy(this,a,!0)))};z.e.Jf=function(a){return this.Xa().Jf(a)};z.Op("goog-submenu",function(){return new Dy(null)});z.v(z.Iy,z.Wj);z.la(z.Iy);z.e=z.Iy.prototype;
z.e.B=function(){this.EN=!0;this.h=z.N("div",null,[this.aR=z.N("div",null,[this.$g=z.N("div","zm-favo-list-content"),this.xC=z.N("div","zh-favo-add-new-wrap zm-command",this.jV=z.N("a",{"class":"zm-favo-dialog-create zg-left",href:"javascript:;"},"+ 创建收藏夹"),this.pw=z.N("a",{href:"javascript:;","class":"zg-btn-blue"},"关闭")),this.Bv=z.N("div","zh-favo-add-new-wrap zm-command",this.XM=z.N("a",{href:"javascript:;","class":""},"取消"),this.kV=z.N("a",{"class":"zm-favo-dialog-create zg-btn-blue",href:"javascript:;"},
"创建收藏夹"))]),this.yx=z.N("div",{"class":"zh-favo-add-form",style:"display:none"},[z.N("div",null,["标题",this.nB=z.N("span",{"class":"zh-favo-add-title-error"},"请填写标题")]),z.N("div","zg-section",this.ii=z.N("input",{"class":"zg-form-text-input"})),z.N("div",null,"描述（可选）"),z.N("div",{"class":"zg-section zg-form-text-input"},this.Sj=z.N("textarea",{"class":"zg-editor-input",style:"height:66px"})),this.tI=z.N("label",null,[this.wG=z.N("input",{type:"radio",checked:"checked",value:"public",name:"mode"}),
z.N("strong",null," 公开 "),z.N("span","zg-gray-normal","公开后不能设置为私密")]),this.DG=z.N("br"),this.rI=z.N("label",null,[this.vG=z.N("input",{type:"radio",value:"private",name:"mode"}),z.N("strong",null," 私密 "),z.N("span","zg-gray-normal","只有你可以查看这个收藏夹")]),z.N("div","zm-command",[this.ax=z.N("label",{href:"javascript:;","class":"zh-favo-error-message-label zg-left"},""),this.$A=z.N("a",{href:"javascript:;","class":"zg-mr10"},"取消"),this.cr=z.N("a",{href:"javascript:;","class":"zg-mr10"},"完成"),this.zv=z.N("a",
{"class":"zg-btn-blue"},"确认创建")])])]);z.P(this.nB,!1);z.P(this.Bv,!1);(new z.Rs(this.oB)).w(this.ii);(new z.Rs(this.Nw)).w(this.Sj);z.w(this.dz,function(a){Ky(this,a)},this);this.dz.length||(this.$g.innerHTML='\x3cdiv id\x3d"zh-fav-list-item-place-holder" class\x3d"zg-r5px zm-fav-list-item-place-holder"\x3e你可以创建多个收藏夹，将答案分类收藏\x3c/div\x3e ',z.P(this.Bv,!0),z.P(this.xC,!1));Jy(this);this.sa.R().innerHTML="";this.sa.R().appendChild(this.h);this.sa.ha()};
z.e.bc=function(){this.DM||(this.DM=!0,this.v().g(this.$A,"click",function(){this.Va?Oy(this,0):Ry(this);Vy("click_add_collection_cancel")}).g(this.jV,"click",function(){z.X.zb({type:"ga_click_add_collection"});Oy(this,1);z.zi("collect","click_add_collection_start","collect_answer_box")}).g(this.pw,"click",function(){Vy("click_add_collection_close");Ry(this)}).g(this.kV,"click",function(){z.X.zb({type:"ga_click_add_collection"});Oy(this,1)}).g(this.XM,"click",function(){Ry(this)}).g(this.cr,"click",
function(){Ry(this)}).g(this.zv,"click",function(){var a=this.Sj.value,b=this.ii.value;a&&Vy("click_add_collection_discription",a);b&&Vy("click_add_collection_title",b);this.eh()}).g(this.$g,"click",this.GS).g(this.ii,"change",function(){z.P(this.nB,!1)}).g(this.wG,"click",function(){Vy("click_add_collection_public")}).g(this.vG,"click",function(){Vy("click_add_collection_private")}))};
z.e.GS=function(a){var b=z.uf(a.target,"A");if(b&&!this.locked){a=b.getAttribute("data-lid");var c=!1;z.V.has(b,"zm-favo-list-item-link-active")?(c=!0,this.SD=a):this.PD=a;b=new z.Ar;b.add("answer_id",this.Va);b.add("favlist_id",a);this.yA=new z.Z(!0);this.locked=!0;this.v().ya(this.yA,"complete",this.VL);this.yA.ajax(c?"/collection/remove":"/collection/add",b.ye())}};
z.e.VL=function(){this.locked=!1;this.pw.innerHTML="关闭";var a=z.Mn(this.yA);a&&!a.r?(a=z.Lo("zm-favo-list-item-link",this.$g),z.w(a,function(a){var c=a.getAttribute("data-lid"),d=z.L("num",a),f=(0,window.parseInt)(d.innerHTML,10);c===this.SD?(d.innerHTML=f-1+"",z.V.remove(a,"zm-favo-list-item-link-active")):c===this.PD&&(d.innerHTML=f+1+"",z.V.add(a,"zm-favo-list-item-link-active"))},this),this.PD=this.SD=null,Cr("Favorite","add_favorite")):z.W.message("添加失败: "+a.msg)};
z.e.fk=function(){this.bc();this.pw.innerHTML="关闭";this.Va?(z.P(this.cr,!1),Oy(this,0)):(Oy(this,1),z.P(this.$A,!1),this.cr.innerHTML="取消")};z.e.show=function(a){a?(Ny(this),this.sa.G(!0),this.fk()):(Jy(this,"添加到收藏夹",'\x3cdiv style\x3d"text-align: center; color: #999;"\x3e收藏夹加载中\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\x3c/div\x3e'),this.sa.G(!0),this.Xr())};z.e.Xr=function(){this.Va&&window.$.get("/collections/json",{answer_id:this.Va}).done((0,z.q)(this.qS,this))};
z.e.qS=function(a){a&&!a.r&&(this.dz=a.msg[0],this.Zs=a.msg[1],Ny(this),this.fk())};
z.e.eh=function(){if(!this.xhr||!this.xhr.hc()){(0,window.$)(this.ax).text("").hide();var a=z.nr(this.ii.value);if(a&&a!==this.oB){a=Py(this);this.Va&&a.add("answer_id",this.Va);if(this.Ql){if(this.nQ.ye()===a.ye()){Ry(this);return}a.add("favlist_id",this.RD[0])}this.xhr=new z.Z(!0);Ty(this,this.xhr,this.zv,this.Ql);this.v().ya(this.xhr,"complete",this.LL);this.xhr.ajax(this.Ql?"/collection/update":"/collection/create",a.ye())}else z.P(this.nB,!0)}};
z.e.LL=function(){var a=z.Mn(this.xhr);a&&!a.r?this.Ql?(Ry(this),z.W.message("编辑成功"),(0,window.setTimeout)(function(){window.location.reload()},1E3),this.Ql=!1):this.Va?(z.P(this.Bv,!1),z.P(this.xC,!0),Oy(this,0),this.Zs.push(a.msg[0]),Ky(this,a.msg,!0),this.ii.value="",this.Sj.value=""):(Ry(this),z.W.message("创建成功"),(0,window.setTimeout)(function(){window.location.href="/collections/mine"},1E3)):Uy(this.ax,this.Ql,a.msg)};z.e.V=function(){return this.sa.V()};var Sy="close";
z.Iy.prototype.Jg=function(){(0,window.$)(window).on("beforeunload.FavoDiag",(0,z.q)(function(){return"你对收藏夹的修改还未保存，确认离开该页面吗？"},this))};z.Iy.prototype.Uh=function(){(0,window.$)(window).off("beforeunload.FavoDiag")};z.oF=function(a,b){var c=[],d=[].slice,f=z.Kr(a,function(){c.length&&(b(c),c=[])});return function(){c.push(d.call(arguments));f()}}(550,function(a){z.S.pb()&&(a={items:JSON.stringify(a)},window.$.post("/lastread/touch",a))});z.v(z.Wy,z.cy);z.Op("goog-checkbox-menuitem",function(){return new z.Wy(null)});z.ja(Xy,z.Q);Xy.prototype.X=function(a){z.Q.prototype.X.call(this,a);var b=(0,window.$)(a).data(),c=new z.hy,d=new z.Wy("禁止转载");d.Jc(!b.copyable);c.Fa(d);c.Fa(new z.gy);Yy(this,c);c.Fa(new z.gy);c.Fa(new z.cy("删除"));this.v().g(c,"action",this.by).ya(c,"show",this.WN);z.V.add(c.m(),"zg-gray-normal");(0,window.$)(c.m()).addClass("setting-menu");b=new z.oy("comment",c);b.nk=!0;z.qy(b);py(b);b.Wb=z.El;b.w(a);this.ka=c};
Xy.prototype.WN=function(){var a=this;window.$.get("/answer/comment_permission",{answer_id:this.Gh.ib}).then(function(b){if(b&&!b.r){var c=b.msg;a.$z.forEach(function(a){a.Y()===c&&a.Jc(!0)});a.xD=c}else z.W.message(b.msg)})};Xy.prototype.EA=function(a){NB.EA(this.Gh.ib,a);(0,window.$)(".copyright",tB(this.Gh)).text(a?"作者保留权利":"禁止转载").attr("href",a?"/terms#sec-licence-1":"/terms#sec-licence-6")};
Xy.prototype.by=function(a){var b=a.target;a=b.Y();if("禁止转载"===a)this.EA(!b.of());else if("删除"===a)$y(this);else if(a in Zy){var c=this;window.$.post("/answer/comment_permission",{answer_id:this.Gh.ib,permission:a}).then(function(a){a&&!a.r&&c.$z.forEach(function(a){a.Jc(a===b)})})}};var Zy={all_can_comment:"允许任何人评论",followee_can_comment:"允许我关注的人评论",nobody_can_comment:"关闭评论"};var pF=/a(:(link|visited|active|hover))?/;cz.prototype.clone=function(){var a=new cz;a.mh=this.mh.concat();a.Bn=this.Bn;return a};var qF=/(^|;|{)\s*color:([^;]+);/g,gz={},jz={},rF={},sF="color visibility quotes list-style-type list-style-image list-style-position list-style page-break-inside orphans widows font-family font-style font-variant font-weight text-indent text-align text-transform white-space caption-side border-collapse border-spacing empty-cells cursor".split(" "),tF="font-family font-size font-weight font-variant font-style color text-align text-decoration text-indent text-transform letter-spacing white-space word-spacing".split(" ");var uF;z.v(z.kz,z.F);z.e=z.kz.prototype;z.e.F=null;z.e.sM=!0;z.e.XJ=function(){this.F&&(this.disable(this.F),this.F=null)};z.e.enable=function(a){this.F==a&&(this.dc=!0)};z.e.disable=function(a){this.F==a&&(this.dc=!1)};z.e.isEnabled=function(a){return this.F==a?this.dc:!1};z.e.Aq=z.Dl;z.e.yG=z.Dl;z.e.D=function(){this.F&&this.XJ(this.F);z.kz.o.D.call(this)};z.qz=z.Vo({Yx:1,iP:2,fs:3,Cj:4,gs:5,execCommand:6,queryCommandValue:7,lI:8,SM:10,RM:11});uF={8:!0,10:!0,11:!0};
z.kz.prototype.execCommand=function(a,b){var c=this.yG(a);c||(z.A&&z.Nz(this.F,!0,!0),this.F.Vh());try{var d=this.ef.apply(this,arguments)}finally{c||(this.F.bf(),z.Mz(this.F))}return d};z.kz.prototype.Ge=function(){return!1};var rz,uz;z.v(pz,z.F);pz.prototype.Ea=null;pz.prototype.Hc=null;rz="change";z.sz="delayedchange";uz={BW:"cvc",WW:"load",qX:"unload",tW:"beforechange",zW:rz,EW:z.sz,uW:"beforefocus",HW:"focus",xW:"blur",wW:"beforetab",OW:"ifrsz",vW:"beforeselectionchange",eX:"selectionchange"};z.wz=0;z.vF=null;z.e=pz.prototype;z.e.Tg=!1;z.e.gK=!1;z.e.Qu=!1;z.e.m=function(){return this.Ea};
z.e.addListener=function(a,b,c,d){var f=this.m();TE&&f&&this.nc()&&(f=f.ownerDocument);d?z.zd(this.ec,f,a,b,c,d):this.ec.g(f,a,b,c)};var vz=15,tz=250;pz.prototype.nc=z.El;pz.prototype.uo=z.El;pz.prototype.mJ=z.Dl;var zz={46:!0,8:!0};z.B||(zz[9]=!0);var Az={86:!0,88:!0};z.kl&&!z.A&&(zz[229]=!0);
pz.prototype.ow=function(){this.ec&&this.ec.removeAll();if((z.Ti||z.Uj)&&this.nc()&&this.mJ()){try{var a=this.eb.Ta();a.removeEventListener("keydown",this.bn,!1);a.removeEventListener("touchend",this.bn,!1)}catch(b){}delete this.bn}if(z.vg&&this.nc()){try{a=this.eb.Ta(),a.removeEventListener("focus",this.aw,!1),a.removeEventListener("blur",this.$v,!1)}catch(b){}delete this.aw;delete this.$v}this.te&&this.te.stop();this.vr.stop()};
pz.prototype.D=function(){this.wo()||this.tc();this.Hc&&this.execCommand("clearlorem");this.Tl=z.wz;for(var a in this.Pb){var b=this.Pb[a];b.Aq()||b.disable(this)}this.eb=this.Ea=null;this.ow();this.ml&&(z.od(this.ml),this.ml=null);this.bm=null;this.ec&&(this.ec.H(),this.ec=null);for(;a=this.oW.pop();)a.H();z.vF==this.id&&(z.vF=null);for(var c in this.Pb)a=this.Pb[c],a.sM&&a.H();delete this.Pb;pz.o.D.call(this)};
var wF=["DOMNodeInserted","DOMNodeRemoved","DOMNodeRemovedFromDocument","DOMNodeInsertedIntoDocument","DOMCharacterDataModified"];pz.prototype.KA=function(){if(QE||!this.nc())this.ec.g(this.m(),"DOMSubtreeModified",this.Zx);else{var a=this.eb.ua();this.ec.g(a,wF,this.Zx,!0);this.ec.g(a,"DOMAttrModified",(0,z.q)(this.pF,this,this.Zx),!0)}};var Gz={8:1,9:1,13:1,33:1,34:1,35:1,36:1,37:1,38:1,39:1,40:1,46:1},Hz={65:!0,86:!0,88:!0},Jz={8:1,9:1,13:1,27:1,33:1,34:1,37:1,38:1,39:1,40:1};z.e=pz.prototype;
z.e.oo=function(a,b){for(var c=this.Ij[a],d=z.zb(arguments,1),f=0;f<c.length;++f){var g=c[f];if((g.isEnabled(this)||uF[a])&&g[z.qz[a]].apply(g,d))return!0}return!1};z.e.DQ=function(a,b){for(var c=this.Ij[a],d=z.zb(arguments,1),f=0;f<c.length;++f){var g=c[f];(g.isEnabled(this)||uF[a])&&g[z.qz[a]].apply(g,d)}};z.e.Tt=function(a,b,c){for(var d=this.Ij[a],f=z.zb(arguments,1),g=0;g<d.length;++g){var h=d[g];if(h.isEnabled(this)||uF[a])f[0]=h[z.qz[a]].apply(h,f)}return f[0]};
z.e.kf=function(a){z.Vc&&65==a.keyCode&&Ez(this,a);(z.A||Cz(this,a))&&!this.oo(1,a)&&ZE&&Iz(this,a)};z.e.jP=function(a){if(z.A){if(!Cz(this,a))return}else this.Nx=!0,this.Vh();this.oo(2,a)||ZE||Iz(this,a)};z.e.kP=function(a){z.A||!this.Nx&&!yz(a)||this.Wn();this.oo(3,a);Ez(this,a)};z.e.execCommand=function(a,b){for(var c=arguments,d,f=this.Ij[6],g=0;g<f.length;++g){var h=f[g];if(h.isEnabled(this)&&h.Ge(a)){d=h.execCommand.apply(h,c);break}}return d};
z.e.queryCommandValue=function(a){var b=this.tc()&&this.rf;if(z.pa(a))return this.Ot(a,b);for(var c={},d=0;d<a.length;d++)c[a[d]]=this.Ot(a[d],b);return c};z.e.Ot=function(a,b){for(var c=this.Ij[7],d=0;d<c.length;++d){var f=c[d];if(f.isEnabled(this)&&f.Ge(a)&&(b||f.Aq()))return f.queryCommandValue(a)}return b?null:!1};z.e.pF=function(a,b){if(!Fz(this,rz)){var c=b.fc;try{if(c.originalTarget.prefix||"scrollbar"==c.originalTarget.nodeName)return}catch(d){return}c.prevValue!=c.newValue&&a.call(this,c)}};
z.e.Zx=function(a){Fz(this,rz)||(a=a.XE?a.fc:a,a.target.firebugIgnore||this.te.start())};z.e.ds=function(){z.B&&this.execCommand("clearlorem",!0);z.A&&this.Qw();this.bf()};z.e.CP=function(){var a=this.bJ;this.bJ=null;z.Mz(this,void 0,a)};z.e.Vh=function(){Fz(this,"beforechange")||this.dispatchEvent("beforechange")};z.e.bf=function(a){Pz(this,!0,a)};z.e.Wn=function(){Fz(this,rz)||(this.te&&this.te.stop(),Fz(this,z.sz)||this.vr.start())};z.e.kE=function(){Fz(this,z.sz)||(this.vr.stop(),this.dispatchEvent(z.sz))};
z.e.Qw=function(){this.jE();this.lE()};z.e.jE=function(){Fz(this,"beforefocus")||(this.execCommand("clearlorem",!0),this.dispatchEvent("beforefocus"))};z.e.lE=function(){if(!Fz(this,"focus")){z.vF=this.id;this.rf=!0;this.dispatchEvent("focus");if(z.A){var a=this.m(),b=z.Lz(this);if(b){var c=z.yt(b);0!=z.zt(b)||c&&c!=a&&"BODY"!=c.tagName||z.Du(a)}}!RE&&this.nc()&&this.eb.Ta().parent.getSelection().removeAllRanges()}};z.e.yr=function(){Fz(this,"blur")||(z.vF==this.id&&(z.vF=null),this.rf=!1,this.dispatchEvent("blur"))};
z.e.Bl=function(a){z.vF=this.id;if(z.B){var b=a.target;b&&"A"==b.tagName&&a.ctrlKey&&this.bm.Ta().open(b.href)}this.Qu=!0};z.e.Sx=function(){this.Qu=!1};z.e.js=function(a){if(!this.gK||this.Qu)this.Qu=!1,this.dispatchEvent("beforeselectionchange"),z.Mz(this,a),z.B&&(this.bJ=a.target,this.cJ.start())};
z.e.tl=function(){if(this.queryCommandValue("usinglorem"))return" ";if(!this.tc())return this.Hc.innerHTML;var a=this.m(),b=a.cloneNode(!1),a=a.innerHTML;z.B&&a.match(/^\s*<script/i)&&(a=" "+a);b.innerHTML=a;this.DQ(11,b);return this.Tt(10,b.innerHTML)};
z.e.Pd=function(a,b,c,d){if(!this.wo()){d&&this.execCommand("clearlorem");b&&a&&(b="\x3cp\x3e"+b+"\x3c/p\x3e");c&&z.Nz(this,!1,!0);a=b;if(b=this.m()){if(this.nc()&&z.C)for(var f=b.ownerDocument.getElementsByTagName("HEAD"),g=f.length-1;1<=g;--g)f[g].parentNode.removeChild(f[g])}else b=this.Hc;b&&Dz(this,a,b);d&&this.execCommand("updatelorem");this.tc()&&(c?(z.A&&Iq(this.te),Pz(this)):this.bf())}};z.e.vB=function(){var a=this.eb.ua();a.designMode="on";z.WE&&a.execCommand("styleWithCSS",!1,!1)};
z.e.hG=function(){this.al&&Sz(this)&&z.Mg(this.al,this.m())};z.e.tc=function(){return 2==this.Tl};z.e.wo=function(){return 1==this.Tl};z.e.focus=function(){if(!z.oz&&this.nc())this.eb.Ta().focus();else{if(z.vg)var a=this.Nk.pageXOffset,b=this.Nk.pageYOffset;this.m().focus();z.vg&&this.Nk.scrollTo(a,b)}};z.e.Tf=function(){!z.OE&&z.A||z.Rz(this);this.focus()};z.e.Je=function(a){this.Tl=1;var b=this.Hc;this.nodeName=b.nodeName;this.cssText=b.style.cssText;z.gj(b,"editable");this.kz(a)};
z.e.kz=function(a){var b=this.Hc;if(b){var b=b.innerHTML,c={},b=this.Tt(8,b,c),d=this.bm.B("IFRAME",this.eF());if(Sz(this)){var f=(0,z.q)(this.UF,this,d,b,c);this.ml=z.E(d,"load",f,!0);a&&(d.src=a)}this.NC(d);Sz(this)||this.UF(d,b,c)}};
z.e.es=function(){z.B&&z.su(this.eb.Ta());z.vF!=this.id&&this.execCommand("updatelorem");if((z.Ti||z.Uj)&&this.nc()&&this.mJ()){var a=this.eb.Ta();this.bn=(0,z.q)(a.focus,a);a.addEventListener("keydown",this.bn,!1);a.addEventListener("touchend",this.bn,!1)}z.vg&&this.nc()?(this.aw=(0,z.q)(this.Qw,this),this.$v=(0,z.q)(this.yr,this),a=this.eb.Ta(),a.addEventListener("focus",this.aw,!1),a.addEventListener("blur",this.$v,!1)):(YE?(this.addListener("focus",this.lE),this.addListener(z.Nl,this.jE)):this.addListener("focus",
this.Qw),this.addListener("blur",this.yr,z.A));z.A?this.KA():(this.addListener(["beforecut","beforepaste","drop","dragend"],this.Vh),this.addListener(["cut","paste"],dp(this.bf)),this.addListener("drop",this.ds));this.addListener(z.C?"dragend":"dragdrop",this.ds);this.addListener("keydown",this.kf);this.addListener("keypress",this.jP);this.addListener("keyup",this.kP);this.cJ=new Hq(this.CP,250,this);this.eO&&this.addListener("click",Qz);this.addListener("mousedown",this.Bl);this.gK?(this.ec.g(this.eb.ua(),
"mouseup",this.js),this.addListener("dragstart",this.Sx)):this.addListener("mouseup",this.js);this.hG();Pz(this);this.dispatchEvent("load");for(var b in this.Pb)this.Pb[b].enable(this)};z.e.NC=function(a){var b=this.Hc;a.className=b.className;a.id=b.id;z.Ko(a,b)};z.e.Ex=function(a){var b=Ln(z.H(this.Hc));return new lz(this.id,b,!1,!1,a)};
z.e.yK=function(a,b,c){c=this.Ex(c);Sz(this)?(a=(a.contentDocument||a.contentWindow.document).body,z.oz&&(a.contentEditable=!0),a.className="editable",a.setAttribute("g_editable",!0),a.hideFocus=!0,a.id=c.IE,z.sg(a,c.kx),a.innerHTML=b):nz(c,b,new mz(this.m(),this.al),a)};z.e.UF=function(a,b,c){this.ml&&(z.od(this.ml),this.ml=null);a.allowTransparency="true";this.yK(a,b,c);Bz(this,(a.contentDocument||a.contentWindow.document).body);!z.oz&&this.nc()&&this.vB();this.es()};
z.e.eF=function(){var a="padding:0;"+this.Hc.style.cssText;z.lp(a,";")||(a+=";");a+="background-color:white;";z.B&&(a+="overflow:visible;");return{frameBorder:0,style:a}};var xF;z.v(z.Tz,pz);z.e=z.Tz.prototype;z.e.mG=!1;z.e.JQ=!1;z.e.uo=function(){return this.mG};z.e.yF=function(){Fz(this,rz)||Uz(this)};
z.e.SA=function(){if(this.Ip?0:this.Ip=!0){var a=!1,b=Kz(this);if(b){var c,d=Kz(this),f=d.contentDocument.body;c=f.parentNode;0===(0,window.parseInt)(Ao(d,"height"),10)&&z.sg(d,"height","1px");Ln(z.H(f))?d=c.offsetHeight:(d=c.scrollHeight,c.clientHeight!=c.offsetHeight&&(d+=xF||(xF=z.Vg())));c=d;this.xR&&(c=Math.max(c,this.xR));(0,window.parseInt)(Ao(b,"height"),10)!=c&&(b.style.height=c+"px",a=!0)}this.Ip=!1;a&&this.dispatchEvent("ifrsz")}};z.e.ly="";var yF=!1;z.e=z.Tz.prototype;z.e.nc=function(){return!z.oz};
z.e.KA=function(){z.Tz.o.KA.call(this);if(this.nc()){var a=Kz(this).ownerDocument;this.ec.g(a,wF,this.yF,!0);this.bR=z.md(this.eb.Ta(),"load",this.SA,!0,this);this.ec.g(a,"DOMAttrModified",(0,z.q)(this.pF,this,this.yF),!0)}};z.e.Wn=function(){Fz(this,rz)||(z.Tz.o.Wn.call(this),this.nc()&&this.SA())};
z.e.yr=function(){if(!Fz(this,"blur")&&(z.Tz.o.yr.call(this),!z.oz&&!RE)){var a=this.eb.Ta(),b=!1;z.od(this.OG);this.OG=z.md(a.document.body,"dragover",function(){b=!0});z.r.setTimeout((0,z.q)(function(){if(!b&&this.eb){var a=z.Lz(this),d=this.eb.Ta();z.su(d);a&&(a.collapse(!0),a.select())}},this),0)}};z.e.vB=function(){z.Tz.o.vB.call(this);var a=this.eb.ua();a.execCommand("enableInlineTableEditing",!1,"false");a.execCommand("enableObjectResizing",!1,"false")};
z.e.hG=function(){this.nc()||yF||(this.al&&z.Mg(this.al,this.m()),yF=!0)};z.e.kz=function(a){if(this.nc())z.Tz.o.kz.call(this,a);else if(a=this.Hc)Bz(this,a),a.contentEditable=!0,Dz(this,a.innerHTML,a),this.es()};z.e.es=function(){if(this.nc()){var a=this;z.r.setTimeout(function(){Vz(a)},0)}z.Tz.o.es.call(this)};z.e.eF=function(){return{frameBorder:0,style:"padding:0;"}};
z.e.NC=function(a){if(!this.JQ){var b=this.Hc;b&&(this.mG="auto"==z.yg(b,"overflowY"))}var b=this.Hc,c=z.H(b),d=b.style.width,f=b.style.height;z.sg(b,"visibility","hidden");var c=c.B("DIV",{style:"height:0;clear:both",innerHTML:"\x26nbsp;"}),g=c.cloneNode(!0);b.insertBefore(c,b.firstChild);b.appendChild(g);g=z.Ke(b);if((c=z.B&&b.currentStyle)&&Ln(z.H(g))&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing)g=z.Og(b,c.width,"width","pixelWidth"),c=z.Og(b,c.height,"height","pixelHeight"),g=new z.Ie(g,c);
else var c=z.$n(b),g=z.Qg(b),h=z.Tg(b),g=new z.Ie(c.width-h.left-g.left-g.right-h.right,c.height-h.top-g.top-g.bottom-h.bottom);c=g.width;g=g.height;h="";this.uo()&&(h="\x26nbsp;",z.sg(b,"position","relative"),z.sg(b,"overflow","visible"),z.sg(a,"position","absolute"),z.sg(a,"top","0"),z.sg(a,"left","0"));z.Gg(b,c,g);Ln(z.H(b))&&z.sg(b,"lineHeight","0");z.Bu(b,h);z.Gg(a,c,g);z.Gg(b,d,f);z.sg(b,"visibility","");b.appendChild(a);Sz(this)||(b=a.contentWindow.document,Ln(z.H(a.ownerDocument))&&(b.open(),
a=z.Jd("\x3c!DOCTYPE HTML\x3e\x3chtml\x3e\x3c/html\x3e",null),b.write(z.Hd(a)),b.close()))};z.e.Ex=function(a){var b=this.Hc;if(b)return new lz(this.id,Ln(z.H(b)),!0,this.uo(),a);throw Error("no field");};
z.e.yK=function(a,b,c){z.sg(a,"visibility","hidden");c=this.Ex(c);var d=this.Hc,f=this.al;if(!this.ly){var g=this.Hc;if(g){var h=g.ownerDocument,k=z.ua(h);if(!rF[k]){for(var m=z.ua(h),n=[],h=bz(h.styleSheets),t=0,x;x=h[t];t++)if((x=az(x))&&x.length)for(var J=0,K=x.length;J<K;J++){var M=new cz,ca;ca=M;var Wa=x[J],cb=Wa.style;if(cb){var Ha=void 0,xa="";cb&&(Ha=Wa.selectorText)&&(xa=cb.cssText)?z.B&&(xa+="/* */"):Wa.cssText&&(xa=/([^\{]+)\{/,Ha=xa.exec(Wa.cssText)[1],xa=Wa.cssText.replace(xa,"").replace(/\}[^\}]*$/g,
""));if(Ha){Wa=ca;Wa.mh=[];Ha=Ha.split(/,\s*/gm);for(cb=0;cb<Ha.length;cb++){var Ad=Ha[cb];0<Ad.length&&Wa.mh.push(new ez(Ad))}ca.Bn=xa;ca=!0}else ca=!1}else ca=!1;ca&&n.push(M)}rF[m]=n}m=rF[k];k=[];for(n=0;n<m.length;n++)k.push(m[n].clone());h=new iz(g);t=new fz("body");for(m=0;m<k.length;m++)for(x=k[m].mh,n=x.length,J=0;J<n;J++){K=x[J];M=K;ca=h.uid;if(M.Kv[ca])ca=M.Kv[ca];else{for(var xa=0,cb=Ha=Wa=null,Ad=h.tH,ci=Ad.length,ie=0;ie<=M.oi.length;ie++){for(Ha=M.oi[ie];xa<ci;){var Id=Ad[xa];if(Ha&&
hz(Ha,Id)){Wa={vE:xa,dJ:ie};xa++;break}else cb&&hz(cb,Id)&&(Wa={vE:xa,dJ:ie-1});xa++}cb=Ha}ca=M.Kv[ca]=Wa}ca&&(M=ca.dJ,K=K.oi,xa=K.length-1,ca.vE==h.tH.length-1||M<xa?(K=K.concat(),K.splice(0,M+1,t),M=new ez,M.oi=K,x.push(M)):0<M&&M==xa&&(M=new ez,M.oi=[t,K[xa]],x.push(M)))}h=new cz;g=g.currentStyle||z.Ke(g).defaultView.getComputedStyle(g,"")||{};m=new ez;m.oi=[new fz("html")];h.mh=[m];t={};for(m=0;n=sF[m];m++)t[n]=g[z.eb(n)];dz(h,t);k.push(h);h=new cz;t=new ez;t.oi=[new fz("body")];x={position:"relative",
top:"0",left:"0",right:"auto",display:"block",visibility:"visible"};for(m=0;n=tF[m];m++)x[n]=g[z.eb(n)];dz(h,x,!0);h.mh=[t];k.push(h);g=[];n=k.length;for(m=0;m<n;m++){x=k[m];h=g;J=x.mh.length;t=!1;for(K=0;K<J;K++){M=x.mh[K].oi;ca=M.length;for(xa=0;xa<ca;xa++)h.push(M[xa].fG," ");K<J-1&&h.push(",");z.A&&!z.D("1.9a")&&(t=t||pF.test(M[ca-1].fG))}x=x.Bn;t&&(x=x.replace(qF,"$1 color: $2 ! important; "));h.push("{",x,"}\n")}this.ly=g.join("")}}d=new mz(d,f+this.ly);c.Uq&&(f=z.Qg(d.nW),(f.top||f.left||f.right||
f.bottom)&&z.sg(a,"margin",-f.top+"px "+-f.right+"px "+-f.bottom+"px "+-f.left+"px"));nz(c,b,d,a);Vz(this);z.sg(a,"visibility","visible")};z.e.ow=function(){z.od(this.OG);z.od(this.bR);z.Tz.o.ow.call(this)};var wA={};wA._default_={Vr:function(a){return window.$.get("/node/CommentV2",{params:{comment_id:a}})},sj:mp,tj:mp,add:function(a){return window.$.post("/node/AnswerCommentAddV2",{method:"add_comment",params:a})},remove:function(a){return window.$.post("/node/CommentV2",{method:"remove_comment",params:{comment_id:a}})},Ws:function(a,b){return window.$.post("/node/CommentV2",{method:b?"like_comment":"undo_like_comment",params:{comment_id:a}})}};
wA.answer={sj:function(a,b){return window.$.get("/node/AnswerCommentBoxV2",{params:{answer_id:a,load_all:b}})},tj:function(a){return window.$.get("/node/AnswerCommentListV2",{params:{answer_id:a}})},add:function(a){return window.$.post("/node/AnswerCommentAddV2",{method:"add_comment",params:a})},rM:function(a,b){return window.$.post("/node/AnswerCommentV2",{method:"author_remove_comment",params:{comment_id:a,is_block:b}})}};
wA.question={sj:function(a){return window.$.get("/node/QuestionCommentBoxV2",{params:{question_id:a}})},tj:function(a){return window.$.get("/node/QuestionCommentListV2",{params:{question_id:a}})},add:function(a){return window.$.post("/node/QuestionCommentAddV2",{method:"add_comment",params:a})}};
wA.favlist={sj:function(a){return window.$.get("/node/FavlistCommentBoxV2",{params:{favlist_id:a}})},tj:function(a){return window.$.get("/node/FavlistCommentListV2",{params:{favlist_id:a}})},add:function(a){return window.$.post("/node/FavlistCommentAddV2",{method:"add_comment",params:a})}};
wA.post={Vr:function(a){return window.$.get("/node/PostCommentV2",{params:{comment_id:a}})},sj:function(a,b){return window.$.get("/node/PostCommentBoxV2",{params:{post_id:a,load_all:b}})},tj:function(a){return window.$.get("/node/PostCommentListV2",{params:{post_id:a}})},add:function(a){return window.$.post("/node/PostCommentV2",{method:"add_comment",params:a})},Ws:function(a,b){return window.$.post("/node/PostCommentV2",{method:b?"like_comment":"undo_like_comment",params:{comment_id:a}})},remove:function(a){return window.$.post("/node/PostCommentV2",
{method:"remove_comment",params:{comment_id:a}})}};
wA.roundtable={Vr:function(a){return window.$.get("/roundtable/comments/"+a)},sj:function(a,b){return window.$.get("/node/RoundtableCommentBoxV2",{params:{roundtable_id:a,load_all:b}})},tj:function(a){return window.$.get("/roundtable/comments",{roundtable_id:a})},add:function(a){return window.$.post("/node/RoundtableCommentV2",{method:"add_comment",params:a})},Ws:function(a,b){return window.$.post("/node/RoundtableCommentV2",{method:b?"like_comment":"undo_like_comment",params:{comment_id:a}})},remove:function(a){return window.$.post("/node/RoundtableCommentV2",
{method:"remove_comment",params:{comment_id:a}})}};
wA.promotion={Vr:function(a){return window.$.get("/node/PromotionCommentV2",{params:{comment_id:a}})},sj:function(a,b){return window.$.get("/node/PromotionCommentBoxV2",{params:{post_id:a,load_all:b}})},tj:function(a){return window.$.get("/node/PromotionCommentListV2",{params:{post_id:a}})},add:function(a){return window.$.post("/node/PromotionCommentV2",{method:"add_comment",params:a})},Ws:function(a,b){return window.$.post("/node/PromotionCommentV2",{method:b?"like_comment":"undo_like_comment",params:{comment_id:a}})},
remove:function(a){return window.$.post("/node/PromotionCommentV2",{method:"remove_comment",params:{comment_id:a}})}};z.v(z.Wz,z.Mc);Xz.prototype.fill=function(a,b){this[a]=this[a].replace("?",b);return this};z.v(Yz,z.F);z.e=Yz.prototype;z.e.uL={question:"问题",comment:"评论",answer:"回答",favlist:"收藏",member:"用户",message:"私信",image:"图片",video:"视频",post:"文章"};z.e.Aw="report-dialog";z.e.VG="loading";z.e.gO='\x3cform\x3e\x3cdiv class\x3d"header"\x3e\x3c% if (headnote) { %\x3e\x3cspan class\x3d"headnote"\x3e\x3c%\x3dheadnote%\x3e\x3c/span\x3e\x3c% } %\x3e\x3cspan class\x3d"error-container"\x3e\x3c/span\x3e\x3c/div\x3e\x3cul class\x3d"options clearfix"\x3e\x3c% each(options, function(option) { %\x3e\x3cli\x3e\x3clabel\x3e\x3cinput value\x3d"\x3c%\x3doption.value%\x3e" name\x3d"reason" type\x3d"radio"\x3e\x3c%\x3doption.label%\x3e\x3c/label\x3e\x3c% if (option.description) { %\x3e\x3cdiv class\x3d"description visible-if-checked"\x3e\x3c%\x3doption.description%\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (option.options) { %\x3e\x3cul class\x3d"group-options clearfix visible-if-checked"\x3e\x3c% each(option.options, function(opt) { %\x3e\x3cli\x3e\x3clabel\x3e\x3cinput required data-description\x3d"\x3c%\x3dopt.description%\x3e" value\x3d"\x3c%\x3dopt.value%\x3e" name\x3d"reason-\x3c%\x3doption.value%\x3e" type\x3d"radio"\x3e\x3c%\x3dopt.label%\x3e\x3c/label\x3e\x3c/li\x3e\x3c% }) %\x3e\x3c/ul\x3e\x3cdiv class\x3d"group-description visible-if-checked"\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (option.value \x3d\x3d 0) { %\x3e\x3cp class\x3d"input-container visible-if-checked"\x3e\x3cinput placeholder\x3d"请填写原因" type\x3d"text" name\x3d"detail" class\x3d"reason-text zg-form-text-input"\x3e\x3c/p\x3e\x3cp class\x3d"error-container visible-if-checked"\x3e\x3c/p\x3e\x3c% } %\x3e\x3c/li\x3e\x3c% }) %\x3e\x3c/ul\x3e\x3cp class\x3d"footnote"\x3e\x3c/p\x3e\x3c/form\x3e';
z.e.$E=function(){return this.zr};z.e.dw=function(a,b){var c=new z.U;c.Dp(!0);c.xf(!0);z.Kj(c,z.Bj());c.addEventListener(z.Mj,this.HO,!1,this);z.Bc(c,this);a&&c.La(a);b&&c.ia(b);c.G(!0);c.ha();z.V.add(c.m(),this.Aw);return this.zr=c};z.e.HO=function(a){if("ok"===a.key)return(a=(0,window.$)("form",this.zr.m()).valid())&&this.submit(),a};
z.e.open=function(a,b,c){var d=this.dw(z.La("确定要%s该%s？",this.iC[this.rl()],this.uL[a]||"条目"),this.ew());z.V.add(d.m(),this.VG);UB(a,this.rl()).then((0,z.q)(function(f){d.ia((0,z.xv)(this.gO,{each:z.w,options:f,headnote:c}));z.V.remove(d.m(),this.VG);d.ha();z.Sj(d,450);this.SN={type:a,id:b};this.Ve(f)},this))};z.e.xF=function(){};
z.e.Ve=function(a){var b=this,c=(0,window.$)(this.zr.m()),d=(0,window.$)("form",c),f=(0,window.$)(".reason-text",c);c.on("change",":radio",function(g){g=(0,window.$)(g.target);c.find("li").removeClass("checked");g.parentsUntil(d,"li").addClass("checked");var h=this.value,k=z.rb(a,function(a){return h===String(a.value)});b.xF(k);k="0"===h;f.toggle(k);k&&f.placeholder();g.closest("li").find("ul, :text").length||d.valid()});c.find("ul ul").on("change",":radio",function(a){(0,window.$)(a.delegateTarget).parent().find(".group-description").text((0,window.$)(this).data("description"))});
d.validate({rules:{reason:"required",detail:{rangelength:[2,100],required:function(){return!!(0,window.$)("input[name\x3dreason]:checked",c).length}}},messages:{reason:"请选择理由",detail:"理由为 2-100 字"},errorLabelContainer:(0,window.$)(".error-container",d)})};z.e.ew=function(){return'\x3cdiv class\x3d"loading"\x3e理由加载中\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\x3c/div\x3e'};z.v(z.Zz,Yz);var UB=function(a){return function(b,c){return a(z.La("/manage/%s/options?action\x3d%s",b,c))}}(z.hk(window.$.getJSON));z.e=z.Zz.prototype;z.e.iC={remove:"删除",lock:"锁定",unlock:"解除锁定",collapse:"折叠",uncollapse:"解除折叠",mute:"隔离",unmute:"解除隔离"};z.e.dw=function(a,b){var c=z.Zz.o.dw.call(this,a,b);c.pc.set("ok",this.iC[this.rl()]);return c};z.e.rl=function(){return this.Pt.op.split("-")[0]};z.e.eJ=function(a){(0,window.$)(".footnote",this.$E().m()).text(a)};
z.e.xF=function(a){a&&(a.trackable?aA(this,a).then((0,z.q)(this.eJ,this)):this.eJ(""))};z.e.submit=function(){var a=this.Pt.action,b=this.Pt.content,c=(0,window.$)((0,window.$)("form",this.zr.m())[0]).serialize();b&&(c+="\x26"+b);$z(a,c,this.Wk)};z.e.D=function(){this.Wk=this.Pt=null;z.Zz.o.D.call(this)};z.e.open=function(a,b,c){this.Pt=z.kf(a)?(0,window.$)(a).data():a;this.Wk=c||z.le.SX;z.Zz.o.open.call(this,b.type,b.id,"")};z.bA.prototype.submit=function(a,b){function c(){b?b():d.handleError()}var d=this;window.$.post("/report",{type:this.type,id:this.id,reason:a||"edit",source:"web"}).done(function(a){d.VJ&&d.VJ();a.r?"duplicate_report"===a.errtype?d.handleError(a.msg):c():cA(!!a.noti)}).fail(c)};z.bA.prototype.handleError=function(a){var b=z.W({title:"举报",content:void 0===a?"举报失败":a,modal:!0,buttons:{}});(0,window.setTimeout)(function(){return b.G(!1)},4E3)};
z.bA.prototype.render=function(){var a=this,b=new z.U;b.xf(!0);z.Sj(b,420);b.La("举报");b.render();var c=b.R();c.style.margin="0";c.style.padding="0";z.sw("Report").then(function(d){function f(){d.unmountComponentAtNode(c);b.G(!1)}a.VJ=f;var g={};d.render(c,(g.type=a.type,g.onContentChange=function(a){b.La(a);b.m().focus()},g.onClose=f,g.onSubmit=a.submit.bind(a),g));b.G(!0);b.ha()})};z.v(dA,z.Q);z.e=dA.prototype;z.e.defaults={trigger:{A:"data-editable"},BL:"hc-actionbar",RQ:"checked",bV:100,XP:100};z.e.C=function(){dA.o.C.call(this);this.Xi=z.N("div");window.document.body.appendChild(this.Xi);eA(this,this.h)};z.e.D=function(){z.O(this.Xi);this.Xi=null;dA.o.D.call(this)};z.e.Gx=function(){return this.bQ};
z.e.HM=function(a,b,c){b=z.N("div",{title:a.S,"data-action":a.name,className:"button "+a.name+(0===b?" first":b===c.length-1?" last":"")},[z.N("i","icon icon-actionbar-"+a.name)]);z.uo(b,!0);this.v().g(b,"click",function(){fA(this,a.name)&&a.Kh(this.qe)});return b};z.e.render=function(){this.Xi.innerHTML="";z.$e(this.Xi,z.ob(z.Hb(Nn(this.Qm)),this.HM,this))};z.v(z.hA,z.Q);z.hA.prototype.defaults={JF:{},oM:!0};z.hA.prototype.C=function(){z.hA.o.C.call(this);var a=this,b=this.h;this.J.oM&&(this.Pm=uA(b),z.Bc(this,this.Pm));this.v().g(b,"paste",function(){(0,window.setTimeout)(function(){iA(a)})}).g(b,"keydown",this.RP)};
z.hA.prototype.RP=function(a){var b=z.Zn(a.keyCode),c=8===a.keyCode;if(!(a.ctrlKey||a.altKey||a.metaKey||!b&&!c)){var b=z.nu(),d=b.Z(),f=b.la(),g=this.h,h,k=lA(d,g,nA)||f!==d&&(h||(h=lA(f,g,nA)));if(k){var m=z.pf(k),n=b.va(),t=b.Ja();if(k.getAttribute("data-editable")&&m===k.href||"video-link"===k.className){var x=!1;h=h||lA(f,g,nA)||k;var g=k.contains(d),J=h.contains(f);if(c)g&&(d=k,n=0,x=!0),J&&(f=h,t=z.Au(h),x=!0),x&&z.Zt(d,n,f,t).select();else if(g&&J&&h===k){if(!b.isCollapsed()||0!==n&&m.length!==
n)a.preventDefault(),z.Eu(k)}else g&&(d=k.nextSibling,n=0,x=!0),J&&(f=h.previousSibling,t=z.Au(f),x=!0),x&&z.Zt(d,n,f,t).select()}}}};var tA=/\b(?:(?:https?):\/\/|www\.)(?:\([\-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[\-A-Z0-9+&@#\/%=~_|$?!:,.])*(?:\([\-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[A-Z0-9+&@#\/%=~_|$])/ig,pA=["http:","https:"],qA=z.hk(function(a){return window.$.post("/scraper",{url:a})});z.v(z.vA,z.Q);z.e=z.vA.prototype;z.e.defaults={eR:!1,autofocus:!0,Vw:"empty",sf:"zm-item-comment"};z.e.X=function(a){z.vA.o.X.call(this,a);OA(this);a=window.location.hash.slice(1).split("-");if(a="comment"===a[0]&&a[1])a=HA(this,a),z.sr(a),z.Hr(a),a.focus();this.Lg=!0;z.w(IA(this),this.ut,this)};z.e.Um="zm-comment-bubble";z.e.LC="."+z.vA.prototype.Um;z.e.$=function(a){return(0,window.$)(a,this.h)};z.e.B=function(){this.h=z.N("div",{"class":this.pD,style:"display:none"});this.Jg()};z.e.sn=function(){return'\x3ci class\x3d"icon icon-spike zm-comment-bubble"\x3e\x3c/i\x3e\x3cdiv class\x3d"zm-comment-spinner"\x3e正在加载，请稍等 \x3ci class\x3d"spinner-lightgray"\x3e\x3c/i\x3e\x3c/div\x3e'};
z.e.D=function(){z.vA.o.D.call(this);this.Ea=this.wD=this.pn=this.CC=this.Rd=this.eA=this.RG=null};
z.e.fV=xA(function(a){var b=z.L("zm-comment-content-wrap",a),c=z.L("zm-comment-form",a),d=a.getAttribute("data-id"),f=this,g;if(c){g=z.L("zm-comment-editable",c);if(z.Lg(c)){if(z.Gr(c)){z.P(c,!1);return}}else z.P(c,!0);FA(g)}else{c=GA(b);g=z.L("zm-comment-editable",c);var h=new z.Tz(g);h.Pd(!1,"");h.Je();z.Cc(this,yA(h.m(),this.type,this.id));FA(g);a=z.L("zm-comment-close",c);b=z.L("zm-comment-submit",c);b.name="";var k=function(){f.na({action:"click_reply_[type]_comment_submit"});var a=(0,z.bb)(h.tl()),
b=(0,z.bb)(z.pf(g));a&&b?QA(f,{content:a,gU:d},function(a){a.r||(z.P(c,!1),h.Pd(!1,""),(a=z.lb(IA(f)))&&z.Hr(a,{offsetTop:100,Mv:!0}))}):(z.W.message("请填写内容"),g.focus())};z.E(a,"click",function(){z.P(c,!1)});z.E(b,"click",k);z.E(g,"keydown",function(a){13===a.keyCode&&(a.ctrlKey||a.metaKey)&&(k(),a.preventDefault())})}z.Hr(c,100)});z.e.qu=function(a){z.V.enable(this.wD,"expanded",a)};
z.e.Ei=function(a,b){this.dispatchEvent(new z.Wz("click!comment",{category:"?",action:this.type+"_comments",label:"?_"+a,value:z.qa(b)?b:this.qb()}))};z.e.yj=function(){this.Lg?MA(this):this.Gt=!0};z.e.kS=function(a){13===a.keyCode&&(a.ctrlKey||a.metaKey)&&(this.Bq(),(0,window.$)(this.Ea).blur(),a.preventDefault());27===a.keyCode&&KA(this)};
z.e.Oa=function(a){var b=z.zr(this.h,a.target,"BUTTON")||z.zr(this.h,a.target);if(b&&b.name){var c=z.Co(b,this.J.sf);a.preventDefault();switch(b.name){case "reply_comment":this.na({action:"click_reply_[type]_comment_start"});this.fV(c);break;case "cancelanon":a=(0,window.$)(this.h).parents(".feed-item-hook").data("qid");z.vp(0,null,a);break;case "delcomment":SA(this,b);break;case "like_comment":this.mP(b);break;case "author_delcomment":UA(this,b);break;case "admin_delcomment":RA(this,b);break;case "closeform":this.na({action:"click_add_[type]_comment_cancel"});
KA(this);break;case "addnew":this.na({action:"click_add_[type]_comment_submit"});this.Bq();break;case "load-more":this.Ei("comments_all"),this.na({action:"click_view_all_comment"}),this.RG(b)}}};
z.e.RG=function(a){this.bt&&"pending"===this.bt.state()||(a&&z.V.add(a,"loading"),this.bt=this.eA||this.SG(),this.bt.done((0,z.q)(function(b){b=(0,window.$)(b).filter(".zm-item-comment").get();if(b.length){var c=IA(this);c.length&&(b=z.nb(b,function(a){return!z.rb(c,function(b){return b.getAttribute("data-id")===a.getAttribute("data-id")})}),b=z.vb(c,b).sort(function(a,b){return a.getAttribute("data-id")-b.getAttribute("data-id")}),z.w(b,this.ut,this),a&&z.O(a));z.$e(this.pn,b)}},this)))};
z.e.mP=xA(function(a){var b=(0,window.$)(a),c=z.Co(a,this.J.sf);a=(0,window.$)(".like-num",c);var d=c.getAttribute("data-id");if(c=!b.hasClass("liked"))this.Ei("like_comment"),this.na({action:"click_like_[type]_comment"});this.Ag.Ws(d,c);var d=(0,window.$)("em",a),f=+d.text()+(c?1:-1);a.toggleClass("liked",c).toggleClass("nil",0>=f).attr("data-tip","s$r$"+f+" 人觉得这个很赞");d.text(f);b.toggleClass("liked",c);kr(b[0],c?"取消赞":"赞")});z.e.expand=function(){this.Kc(!0)};z.e.collapse=function(){this.Kc(!1)};
z.e.pd=function(){return this.Lg};z.e.Kc=function(a){if(a!==this.Lg){a&&(this.$(this.LC).hide(),this.Jg());this.Lg=a;this.dispatchEvent(a?"beforeexpand":"beforecollapse");z.P(this.h,this.Lg);var b=(0,z.q)(function(){a&&LA(this);this.dispatchEvent(a?"expand":"collapse");this.ol&&!a&&(z.Lu(this.ol),z.Hr(this.ol.h))},this),c;a&&this.Gt?(c=MA(this))&&c.done(b):(0,window.setTimeout)(b);this.Rd&&(a?(this.mT=z.pf(this.Rd),kr(this.Rd,"收起评论")):kr(this.Rd,0>this.Ha?this.mT:this.Ha?this.Ha+" 条评论":"添加评论"))}};
z.e.Bi=function(){this.Kc(!this.Lg)};z.e.SG=function(){return this.Ag.tj(this.id)};z.e.Ap=function(a){this.aj=a};z.e.aU=function(a){a=z.Xe((0,z.bb)(a));z.P(a,this.Lg);z.w((0,window.$)("."+this.J.sf,a).get(),this.ut,this);this.Gt=!1;this.Gb();z.Ko(a,this.h);this.h=a;OA(this)};z.e.Jn=function(){this.Ea.focus()};z.e.Sa=function(){var a=(0,z.bb)(this.hj.tl());return a===this.placeholder?"":a};
z.e.Bq=xA(function(){var a=this.Sa(),b=(0,z.bb)(z.pf(this.Ea));a&&"TEXTAREA"===this.Ea.tagName&&b||a?QA(this,a):(z.W.message("请填写内容"),this.Jn())});z.e.qb=function(){return this.Ha};z.e.wO=function(a){if(!a)return z.W.message("网络异常");if(a.r)return z.W.alert(a.msg);this.Ag.Vr(a.msg).done(window.$.proxy(this.bU,this));this.hj.Pd("");EA(this);this.qu(!1)};
z.e.ut=function(a){if(z.om("auth_f_manage")&&"favlist"!==this.type&&!(0,window.$)(".del, .op.remove",a).length){var b=a.getAttribute("data-id");(0,window.$)("\x3ca\x3e",{href:"#",name:"admin_delcomment","class":"del zm-comment-op-link op needsfocus",html:'\x3ci class\x3d"zg-icon zg-icon-comment-del"\x3e\x3c/i\x3e删除',"data-op":"remove-comment","data-action":"/manage?"+window.$.param({comment_id:b,action:"remove_comment2"})}).appendTo((0,window.$)(".zm-comment-ft, .actions",a))}this.jo(a)};
z.e.jo=function(a){(0,window.$)("a[name\x3dreport], button.report",a).on("click",function(){(new z.bA({type:"comment",id:a.getAttribute("data-id")})).render()})};z.e.bU=function(a){this.Rj="";a=z.Xe(a);this.pn.appendChild(a);this.ut(a);this.Ha+=1;PA(this)};z.e.Jg=function(){(0,window.$)(window).on("beforeunload.CommentForm",(0,z.q)(function(){if(this.Rj)return"你的评论还未保存，确认离开该页面吗？"},this))};z.e.Uh=function(){(0,window.$)(window).off("beforeunload.CommentForm")};
z.e.na=function(a){this.dispatchEvent({type:"trackRequested",category:"comment",action:a.action.replace("[type]",this.type)})};z.ja(XA,z.Q);z.e=XA.prototype;z.e.pd=function(){return this.Oj};z.e.Kc=function(a){a!==this.Oj&&(this.dispatchEvent(a?"beforeexpand":"beforecollapse"),this.Oj=a,z.P(this.h,a),bB(this),cB(this),this.dispatchEvent(a?"expand":"collapse"),this.pl&&!a&&(z.Lu(this.pl),z.Hr(this.pl.m())))};z.e.Bi=function(){this.Kc(!this.Oj)};z.e.Ei=function(){};z.e.Jn=function(){(0,window.$)("[data-input-box]",this.m()).focus()};z.e.reload=function(){dB(this,"reloadComments")};z.e.Ap=function(a){this.aj=a};
z.e.Ve=function(){var a=this;bB(this);cB(this);$A(this);this.v().g(z.xp,"anon_change",function(){a.Oj&&a.reload()});(0,window.$)(this.m()).on("click",'button[data-key\x3d"cancel"]',function(b){0===ZA(a)&&(b.preventDefault(),a.Kc(!1))})};z.e.B=function(){this.h=z.N("div","comment-app-holder");z.P(this.h,!1)};
z.e.render=function(a,b){b=void 0===b?{}:b;var c=this;z.Q.prototype.render.call(this,a);var d=this.entryType,f=this.ib,g={},h=Object.assign((g.entry={id:f,type:d},g.useContentEditable=z.Rm,g.createItemActions=function(a){var b=[],d=a.id,f=a.own;!f&&z.qm.jG&&b.push({key:"adminremove",label:"删除",icon:"zg-icon zg-icon-comment-del",onClick:function(){var a={op:"remove-comment",action:"/manage?comment_id\x3d"+d+"\x26action\x3dremove_comment2"},b={id:d,type:"comment"};(new z.Zz).open(a,b,function(){dB(c,
"RemoveComment",{id:d})})}});f||b.push({key:"report",label:"举报",icon:"zg-icon zg-icon-comment-report",onClick:function(){(new z.bA({type:"comment",id:a.id})).render()}});return b},g.onEditorCreated=function(a){return yA(a,d,f)},g.onRequestHighlight=function(a){z.sr(a);z.Hr(a,{offsetTop:45});a.focus()},g),b),g=z.ha(window.location.hash.match(/#comment-(\d+)/)||[]);g.next();(g=g.next().value)&&(h.query={bycomment:g});var k=Object.assign({},uw(),{authRequired:function(a){return z.Eq(a,!0,function(){return c.aj})}}),
m=z.Pj(function(){return c.SC&&YA(c)});z.sw("CommentApp").then(function(b){a.appendChild(c.h);c.Lq=b.render(c.h,h,k);c.Ve();c.Lq.store.subscribe(function(){(0,window.setTimeout)(function(){bB(c);cB(c);m()})})})};z.v(eB,z.Q);var fB={zg:"is-sticky",top:null,bottom:null,Fb:null,dM:!1,PH:z.p,wt:z.p};z.e=eB.prototype;z.e.D=function(){this.stop();eB.o.D.call(this)};z.e.start=function(){this.state.Rl||(this.state.Rl=!0,(0,window.$)(window).on("scroll resize",this.GJ).trigger("scroll"))};z.e.stop=function(){this.state.Rl&&(this.state.Rl=!1,(0,window.$)(window).off("scroll resize",this.GJ),this.restore(),this.state.Is=!1,this.state.Ks=!0,(0,window.setTimeout)(function(){(0,window.$)(window).trigger("scroll")}))};
z.e.update=function(){if(this.state.po)this.state.Zz=!0;else{var a=this.options.top,b=this.options.bottom,c=this.state.Is,d=this.state.Ks,f,g,h=(this.kc||this.h).getBoundingClientRect(),k=this.options.Fb.getBoundingClientRect(),m=(0,window.$)(window).height();h.height||(h.height=h.bottom-h.top);null!==a?(f=h.top>a,g=k.bottom>a+h.height):null!==b&&(f=h.bottom>m-b,g=k.top>m-h.height-b);this.state.Is=f;this.state.Ks=g;if((c&&!d)===(f&&!g))f&&!g&&this.ha();else{if(d&&!g)return hB(this);if(!d&&g)return jB(this);
this.options.dM?f?hB(this):jB(this):f?gB(this):this.restore()}}};z.e.ha=function(){var a=(this.kc||this.h).getBoundingClientRect().left,b=this.options.top,c=this.options.bottom;(0,window.$)(this.h).css({left:a+"px",top:b?b+"px":"auto",bottom:c?c+"px":"auto"})};z.e.restore=function(){this.kc&&((0,window.$)(this.h).removeClass(this.options.zg).css({left:"",top:"",bottom:""}),(0,window.$)(this.kc).remove(),this.kc=null,this.options.wt.call(this))};
z.e.onAnimationEnd=function(){this.state.po=!1;this.state.Zz&&(this.state.Zz=!1,this.update())};z.v(z.kB,z.Q);z.e=z.kB.prototype;z.e.Kr="zm-item-expanded";z.e.CL="zm-item-meta, .js-contentActions";z.e.Do=null;z.e.Lw="z-icon-fold";z.e.aB="sprite-global-icon-fold-white";z.e.C=function(){z.kB.o.C.call(this);pB(this);this.$m();this.Fh();nB(this);if(this.jb)this.Bs();else{var a=this;this.g("expand",function(){return a.Bs()})}};z.e.hF=function(){return rB(this)};
z.e.$m=function(a){var b={".js-expand":this.expand,".js-collapse":this.collapse,".js-report":this.BP,".column[data-entry-url]":this.mF};z.Nb(b,a||{});z.Eb(b,function(a,b){if(z.sa(a))(0,window.$)(this.h).on("click",b,window.$.proxy(a,this))},this);(0,window.$)(".js-toggleCommentBox",this.h).on("click",this.HP.bind(this))};
z.e.HP=function(a){this.Eu();var b=this.Wa.pd();(0,window.$)(".zm-meta-panel",this.m()).toggleClass("focusin",b);b&&(a=(0,window.parseInt)(z.pf(a.currentTarget),10)||0,this.Wa.Ei("view_comments",a));(0,z.Gi)(this,{action:b?"CommentIntent":"EndCommentIntent",element:"Button"})};z.e.et=function(){(0,z.oF)(this.entryType,this.ll,"read")};z.e.YG=function(){(0,z.oF)(this.entryType,this.ll,"touch")};
z.e.expand=function(a){this.jb||(this.jb=!0,z.V.add(this.h,this.Kr),this.dispatchEvent("expand"),a=a&&z.kf(a.target)&&z.fj(a.target,"js-vote-count"),this.Iu(a),(0,z.Gi)(this,{action:"Expand",element:"Button"}))};z.e.collapse=function(){this.jb&&(this.jb=!1,this.Hu(),Lr(this.h,(0,z.q)(function(){z.V.remove(this.h,this.Kr);this.dispatchEvent("collapse")},this)),(0,z.Gi)(this,{action:"Collapse",element:"Button"}))};z.e.pd=function(){return this.jb};z.e.Bi=function(){this.jb?this.collapse():this.expand()};
z.e.lJ=function(){return!z.tm};
z.e.Bs=function(){if(this.jb&&this.lJ()&&!this.AN){this.AN=!0;var a=(0,window.$)(".js-collapse-body",this.h)[0];if(a){var b=this,c=(0,window.$)(".js-collapse",this.h)[0];if(!c){if("answer"!==this.entryType)return;c=(0,window.$)(".zm-meta-panel",this.h);if(!c.length)return;c=(0,window.$)('\x3cbutton class\x3d"item-collapse js-collapse"\x3e\x3ci class\x3d"sprite-global-icon-fold-white"\x3e\x3c/i\x3e收起\x3c/button\x3e').appendTo(c).on("click",(0,z.q)(this.collapse,this)).get(0)}var d=this.yJ=new eB(0,
{bottom:12,Fb:a,PH:function(){(0,window.$)("i",this.h).removeClass(b.Lw).addClass(b.aB)},wt:function(){(0,window.$)("i",this.h).removeClass(b.aB).addClass(b.Lw)}});z.Bc(this,d);d.w(c);this.g("expand",function(a){a.target===a.currentTarget&&d.start()});this.g("collapse",function(a){a.target===a.currentTarget&&d.stop()});d.start()}}};
z.e.Iu=function(a){var b="view_answer",c=rB(this);a=a?"vote_up_count":"expand_answer";var d=(0,window.$)(this.h).index()+1;if("feed"!==c)z.zi(b,"click_expand_answer",c+"_"+a,d);else{var c=qB(this),f=sB(this);-1<c.indexOf("article")?(b="view_article",c="feed_article",a="expand_article"):c="feed_answer";z.zi(b,"click_expand_answer",c+"_"+f+"_"+a,d)}};
z.e.Hu=function(){var a="view_answer",b=rB(this),c;if(c=this.yJ)c=this.yJ,c=c.state.Is&&!c.state.Ks;c=c?"blue":"grey";var d="collapse_answer_"+c,f=(0,window.$)(this.h).index()+1;if("feed"!==b)z.zi(a,"click_collapse_answer",b+"_"+d,f);else{var b=qB(this),g=sB(this);-1<b.indexOf("article")?(a="view_article",b="feed_article",d="collapse_article_"+c):b="feed_answer";z.zi(a,"click_collapse_answer",b+"_"+g+"_"+d,f)}};z.e.cT=function(){var a=z.L(this.Do,this.h);window.open(a?a.href:this.Kg.url)};
z.e.Bj=function(){var a=this,b=(0,window.$)(this.m());b.slideUp(function(){a.H();b.remove()})};z.e.Ec=null;z.e.mF=function(a){var b=(0,window.$)(a.currentTarget).data("entry-url");"column"===this.entryType&&b&&!a.target.href&&window.open(b)};
z.e.Eu=function(){if(!this.Wa){var a=(0,window.$)(".toggle-comment, .js-toggleCommentBox",this.h)[0];if("answer"===this.entryType||"post"===this.entryType)this.Wa=new XA(this.ib,this.entryType),this.L(this.Wa),this.Wa.render(tB(this),{embedded:/^\/roundtable/.test(window.location.pathname)}),aB(this.Wa,a);else if(this.Wa=new z.vA(this.ib,this.entryType),this.L(this.Wa),z.zA(this.Wa,tB(this),a),a=this.Wa,!a.ol&&!z.qm.Ab){var b=z.Co(a.h,"zm-item-meta");if(b){var c=z.L("zm-meta-panel",b);c&&(a.ol=new Pu(null,
b),a.ol.tag="comment",a.ol.w(c))}}this.Wa.Ap(mB(this))}this.Wa.Bi()};z.e.$O=function(){this.Wa?this.Wa.Jn():this.Eu()};z.e.Fh=function(){this.zf=z.$m.wK(this.h);z.vl(z.vl(z.vl(z.vl(this.zf.register("shift+o",this.cT,this),{group:"操作",name:"新窗口打开条目"}).register("o",this.Bi,this),{group:"操作",name:"显示全部/收起"}).register("c",this.Eu,this),{group:"操作",name:"打开评论"}).register("shift+c",this.$O,this),{group:"操作",name:"定位到评论框"})};
z.e.BP=function(){(new z.bA({type:this.entryType,id:this.ib})).render();(0,z.Gi)(this,{action:"ReportIntent",element:"Button"})};var wB=z.Pj(function(){var a=z.uB();(0,window.$)("body").append(a);return a});z.v(AB,z.Q);z.e=AB.prototype;z.e.na=function(a){this.dispatchEvent({type:"trackRequested",category:"share",action:a.action.replace("[type]","post"!==this.Vb?this.Vb:"article"),attributes:a.attributes})};z.e.X=function(a){var b=this;AB.o.X.call(this,a);var c=this.Ad=(0,window.$)(a);z.fh?c.click(bw):z.tm?c.click(this.jJ.bind(this)):this.gc();c.click(function(){b.na({action:"click_share_[type]_start"});(!b.Io||b.Io&&b.Io.V())&&(0,z.Gi)(a,{action:"ShareIntent",element:"Button"})})};
z.e.gc=function(){BB(this);this.Ad.one("mouseover focus",window.$.proxy(z.Pj(this.ET),this))};z.e.ET=function(){this.rm||(this.rm=z.$s(this.Vb,this.bK));if(this.Io){var a=z.Xv(this.kJ);(0,window.$)(".js-qrcode-image",this.Io.m()).attr("src",a)}};z.e.vO=function(a){a=a.target.Y();0===a?this.jJ():2===a&&(window.open("https://dudu.zhihu.com/post?"+window.$.param({url:this.kJ,utm_source:"zhihu-web_share",utm_medium:"button",utm_campaign:"post"}),"_blank"),this.na({action:"click_share_[type]_to_dudu_start"}))};
z.e.jJ=function(){this.rm||(this.rm=z.$s(this.Vb,this.bK));this.rm.then(function(a){z.yB(a.msg.sina)});this.na({action:"click_share_[type]_to_weibo_start"})};z.v(CB,Dy);CB.prototype.Yb=function(a){var b=CB.o.Yb.call(this,a);a=(0,window.parseInt)(z.pl[a.keyCode],10);(0,window.isNaN)(a)||this.Xa().ub(a-1);return b};z.v(z.DB,z.Q);var EB={sV:"textarea.content, script.content",IM:".toggle-expand",oV:".summary",ED:null,BD:""};z.e=z.DB.prototype;
z.e.C=function(){z.DB.o.C.call(this);var a=this.h;this.xq=(0,window.$)(this.options.sV,a);this.content=this.xq.is(":input")?this.xq.val():this.xq.html();this.Jk=(0,window.$)(this.options.oV,a);this.Qe=(0,window.$)(this.options.ED,a);this.dd=(0,window.$)(this.options.IM,this.Jk);if(!this.Jk.length)return this.dispatchEvent("invalid");this.xG=!!this.dd.length;this.dd.on("click",(0,z.q)(this.AO,this));this.Jk.on("click",(0,z.q)(this.EP,this))};z.e.AO=function(a){a.preventDefault();FB(this)};
z.e.EP=function(a){var b=z.nu();b&&b.Jd()||a.target===this.dd[0]||(b=(0,window.$)(a.target).closest("a").get(0),b&&"javascript:"!==b.protocol||(a.preventDefault(),FB(this)))};z.e.expand=function(){this.Qe.length||(this.Qe=(0,window.$)("\x3cdiv\x3e").html(this.content).addClass(this.options.BD).insertBefore(this.xq));this.Jk.hide();this.Qe.show();this.dispatchEvent("expand")};z.e.collapse=function(){this.Jk.show();this.Qe.hide();this.dispatchEvent("collapse")};var MB={NB:function(a,b){return window.$.post("/node/ColumnPostVoteBarV2",{method:b,params:{post_id:a}})},jF:function(a){return window.$.get("/node/ColumnPostVoteInfoV2",{params:{post_id:a}})}};z.v(HB,z.Q);z.JB={wg:1,Kk:-1,yq:0};HB.prototype.defaults={WV:"up",GN:"down",hN:"count",Nt:"pressed"};z.Nb(HB.prototype,z.JB);z.e=HB.prototype;z.e.N=z.JB.yq;
z.e.w=function(a){HB.o.w.call(this,a);var b=this.J;a=this.W=(0,window.$)(a);this.pv=(0,window.$)("."+b.WV,a);this.dv=(0,window.$)("."+b.GN,a);this.bv=(0,window.$)("."+b.hN,a);b=this.pv.hasClass(this.J.Nt);a=this.dv.hasClass(this.J.Nt);b?this.N=z.JB.wg:a&&(this.N=z.JB.Kk);KB(this);this.pv.click(window.$.proxy(this.qB,this));this.dv.click(window.$.proxy(this.JJ,this));z.so(this,{module:"VoteBar"})};z.e.getState=function(){return this.N};
z.e.lc=z.Eq(function(a){a!==this.N&&z.Tn(z.JB,a)&&(this.dispatchEvent({type:"action",data:{state:a}}),this.Th&&"pending"===this.Th.state()&&this.Th.abort(),IB(this,this.N,a),this.N=a,KB(this),this.qV().done((0,z.q)(function(a){a.r||this.Gc()},this)))},!0);z.e.qb=function(){return this.bv.text()};z.e.qV=function(){var a={};a[z.JB.wg]="vote_up";a[z.JB.Kk]="vote_down";a[z.JB.yq]="vote_neutral";return this.Th=(0,{post:MB.NB,answer:NB.NB,promotion:GB}[this.entryType])(this.ib,a[this.N])};
z.e.qB=function(){this.lc(this.N===z.JB.Kk?z.JB.wg:this.N^z.JB.wg);(0,z.Gi)(this,{action:this.N===z.JB.yq?"UnUpvote":"Upvote",element:"Button"})};z.e.JJ=function(){this.lc(this.N===z.JB.wg?z.JB.Kk:this.N^z.JB.Kk);(0,z.Gi)(this,{action:this.N===z.JB.yq?"UnDownvote":"Downvote",element:"Button"})};z.e.Gc=function(){this.dispatchEvent("change")};z.v(LB,z.Q);z.e=LB.prototype;z.e.qb=function(){return this.vb.data("votecount")};z.e.Gc=function(){this.dispatchEvent("change")};z.e.lp=function(a){if(a=(0,z.bb)(a))a=(0,window.$)(a),this.vb.replaceWith(a),this.vb=a,this.bc(),this.Gc()};
z.e.bc=function(){function a(a,d){var f=z.N("div","zm-voters");a.appendChild(f);var g=z.N("div","listview");f.appendChild(g);var h=("post"===b.entryType?"/post/":"/answer/")+b.ib+"/voters_profile",k=new z.Bl({use:[],source:function(){return window.$.get(h).then(function(a){var c=a.paging;c&&(c.total&&(b.vb.data("votecount",c.total),b.Gc()),h=c.next);return{results:a.payload,next:!!h}})}});k.w(g);k.hf().setAttribute("hidden","true");z.Bc(d,k);k.v().ya(k,"next",function(){k.fb().length?(k.hf().removeAttribute("hidden"),
k.use("autoload",{Rv:!1,viewport:f})):(k.H(),f.innerHTML='\x3cdiv class\x3d"empty-results"\x3e还没有人赞同\x3c/div\x3e')});return k.ji()}var b=this;(0,window.$)("a.more",this.vb).click(function(){var c=z.W.async({modal:!0,title:b.qb()+" 人赞同",className:"zm-voters-dialog",tw:window.$.Deferred(function(b){(0,window.setTimeout)(function(){a(c.R(),c).then(function(){b.resolve(null)})})}).promise()});c.v().g(b,"change",function(){c.La(b.qb()+" 人赞同")})})};
z.e.C=function(){this.vb=(0,window.$)(this.h);this.bc();z.so(this,{module:"VoteInfo"})};z.v(PB,z.Q);z.e=PB.prototype;z.e.X=function(a){PB.o.X.call(this,a);this.v().g(a,"click",this.fT)};z.e.xN=function(){var a=this.Pu;z.Ko(a.m(),this.nK);z.jj(a.m(),[this.mK,this.oK])};z.e.eM='\x3cdiv class\x3d"text zg-clear"\x3e\x3clabel class\x3d"zg-left"\x3e赞同\x3c/label\x3e\x3clabel class\x3d"zg-right"\x3e反对\x3c/label\x3e\x3c/div\x3e';z.e.BT='\x3cdiv class\x3d"text zg-clear votebar-text-post"\x3e\n  \x3clabel\x3e赞\x3c/label\x3e\n\x3c/div\x3e';
z.e.fT=z.Eq(function(){this.Ga&&this.Ga.H();var a=new z.U(null);a.xf(!0);a.nm(!0);a.PE=!0;QB(this);this.v().ya(a,"hide",this.xN);var b=["post","promotion"].includes(this.Pu.entryType)?this.BT:this.eM,c=a.R();c.appendChild(this.Pu.m());c.appendChild(z.Xe(b));z.V.add(a.m(),this.Pw);a.G(!0);this.Ga=a;z.Bc(this,a)},!0);z.zF={Ey:function(){function a(){var a=c.pd();a&&b();g&&z.Ku(g,a)}function b(){if(!g){var a=!z.Tj,b=z.L("js-collapse-body",c.m());a&&h&&(0,window.$)(h).is(":visible")&&b&&230<(0,window.$)(b).height()&&(g=c.hY=new Pu(null,b),c.L(g),g.tag="votebar",g.dI=50,g.w(h))}}var c=this,d=void 0,f=void 0,g=void 0,h=(0,window.$)(".votebar, .zm-votebar",this.m())[0];if(h){d=this.Ji=new HB(this.ib,this.entryType);this.L(d);d.w(h);var k=(0,window.$)(".js-openVoteDialog",this.m())[0];k&&(new PB(d)).w(k)}if(k=(0,window.$)(".zm-item-vote-info",
this.m())[0])f=this.pK=new LB(this.ib,this.entryType),this.L(f),f.w(k);d&&(this.v().g(d,"change",function(){f?z.OB(f):(0,window.$)("[data-bind-votecount]",this.m()).text(d.qb())}),f&&this.v().g(f,"change",function(){(0,window.$)("[data-bind-votecount]",this.m()).text(f.qb())}));this.v().g(this,["expand","collapse"],a);(0,window.$)(this.m()).on("contentchange",b);(0,window.setTimeout)(a)}};z.v(z.RB,z.kB);z.e=z.RB.prototype;z.e.C=function(){var a=this;z.RB.o.C.call(this);z.so(this,{module:"AnswerItem"},function(){return{card:{card_type:"Content",content:{type:"Answer",id:a.ib}}}})};
z.e.$m=function(){var a=this;z.RB.o.$m.call(this,{".js-collect":this.lF,".js-thank":this.CF,".js-noHelp":this.sP,".js-administer":this.nJ,".js-expandQuestionDetail":this.fJ.bind(this,!0)});this.Ey();this.zy();this.gi();XB(this);this.Kj();this.Ay();this.v().g(this,"collapse",function(b){b.target===a&&a.fJ(!1)});if(this.jb)this.Nl();else{var b=this;this.ya("expand",function(){return b.Nl()})}};
z.e.Fh=function(){var a=this;z.RB.o.Fh.call(this);z.vl(z.vl(z.vl(z.vl(this.zf.register("v",function(){a.Ji&&a.Ji.qB()}),{group:"操作",name:"赞同"}).register("d",function(){a.Ji&&a.Ji.JJ()}),{group:"操作",name:"反对"}).register("t",this.CF,this),{group:"操作",name:"感谢"}).register("s c",this.lF,this),{group:"操作",name:"收藏"});if(z.qm.jG&&(0,window.$)(".js-administer",tB(this))[0]){var b=this,c=z.Vc?"⌘":"ctrl",d=function(){b.nJ();b.Dq.ub(0)};z.vl(z.vl(this.zf.register("meta+.",d),{group:"管理",name:"展开菜单",key:c+"+."}).register("meta+k",
function(){d();var a=b.Dq.ai(0);a.Xa&&a.Xa()&&(a.su(),a.Xa().ub(0))}),{group:"管理",name:"展开折叠子菜单 (Kill)",key:c+"+k"})}};z.e.Kj=function(){var a=(0,window.$)(".js-share",this.m()).get(0),b=this.Kg.url;a&&b&&(a=z.zB(a,"answer",this.ll,b),z.Bc(this,a),a.Db(this))};
z.e.gi=function(a){var b=new z.DB(a);this.L(b);b.w(this.h);this.g("expandRequest",(0,z.q)(this.expand,this));this.g("expand",function(a){a.target===a.currentTarget&&b.expand()});this.g("collapse",function(a){a.target===a.currentTarget&&b.collapse()});b.xG&&this.v().ya(b,"expand",this.et)};
z.e.zy=function(){var a=(0,window.$)(".phone-actions",this.m());if(a.length){var b=new z.hy;b.w((0,window.$)(".menu",a)[0]);b=new z.oy("operation",b);b.nk=!0;z.qy(b);py(b);b.Wb=z.El;b.w((0,window.$)(".menubutton",a)[0])}};
z.e.CF=lB(function(a){if(a=a.target){var b="true"===a.getAttribute("data-thanked");b?(kr(a,"感谢"),a.setAttribute("data-thanked",!1),window.$.post("/answer/cancel_thanks",{aid:this.ib})):(kr(a,"取消感谢"),a.setAttribute("data-thanked",!0),window.$.post("/answer/thanks",{aid:this.ib}));(0,z.Gi)(a,{action:b?"UnThank":"Thank",element:"Button"})}},{pb:"question_answer_thank"});
z.e.sP=lB(function(a){a=a.target;var b=!!a.m;z.X.zb({type:"ga_click_answer_not_helpful",target:b?a.m():a});this.Ow&&"pending"===this.Ow.state()&&this.Ow.abort();var c=-1<(b?a.Ng():a.innerHTML).indexOf("撤销"),d=c?"没有帮助":"撤销没有帮助";b?a.yp(d):a.innerHTML=d;d=c?"/answer/helpful":"/answer/not_helpful";b||z.sr(a);this.Ow=window.$.post(d,{aid:this.ib});(0,z.Gi)(this,{action:c?"UnNoHelp":"NoHelp",element:"Button"})},!0);
z.e.lF=lB(function(){var a=z.Iy.ba();Ly(a,this.ib);a.show();(0,z.Gi)(this,{action:"CollectIntent",element:"Button"})},{pb:"question_answer_collect",pe:!0});z.e.Ay=function(){var a=(0,window.$)(".js-settings",tB(this))[0];a&&(this.iM=new Xy(this),this.iM.w(a))};z.e.nJ=function(){if(this.Dq)return this.Dq.G(!0);var a=SB(this);a&&(z.yy(a,new z.Ux(this.KL,1,!0),0,new z.qg(5,0,5,0)),VB(this,a),this.Dq=a)};
z.e.Nl=function(){(0,window.$)("img.lazy:not([data-lazyloaded])",this.m()).attr("data-lazyloaded","").lazyload({load:function(){(0,window.$)(this).trigger("contentchange")},data_attribute:"actualsrc",event:"scroll updatelazy",threshold:400})};z.e.Ec=z.l(46);z.e.fJ=function(a){(0,window.$)(".feed-question-detail-item",this.h).toggleClass("question-detail-expanded",a)};z.Ca(z.RB.prototype,z.zF);z.v(z.YB,z.kB);z.e=z.YB.prototype;z.e.Do="post-link";z.e.C=function(){var a=this;z.YB.o.C.call(this);this.Ey();this.gi();this.zy();this.Kj();ZB(this);z.so(this,{module:"PostItem"},function(){return{card:{card_type:"Content",content:{type:"Post",id:a.ib}}}})};z.e.hF=function(){return"feed_article_"+sB(this)+(this.pd()?"_expand":"")};
z.e.Kj=function(){var a=(0,window.$)("a[name\x3dshare], .js-share",this.h).get(0),b=(0,window.$)(".post-link, .js-title-link",this.h).get(0);a&&b&&z.zB(a,"post",this.ll,b.href).Db(this)};z.e.Ec=z.l(45);z.e.fy=z.l(47);z.e.Xx=z.l(48);
z.e.gi=function(a){var b=new z.DB(a);this.L(b);b.w(this.h);this.g("expandRequest",(0,z.q)(this.expand,this));this.g("expand",function(a){a.target===a.currentTarget&&b.expand()});this.g("collapse",function(a){a.target===a.currentTarget&&b.collapse()});b.xG&&this.v().ya(b,"expand",this.et)};z.e.Fh=function(){var a=this;z.YB.o.Fh.call(this);z.vl(this.zf.register("v",function(){a.Ji&&a.Ji.qB()}),{group:"操作",name:"赞同"})};
z.e.zy=function(){var a=(0,window.$)(".phone-actions",this.m());if(a.length){var b=new z.hy;b.w((0,window.$)(".menu",a)[0]);b=new z.oy("operation",b);b.nk=!0;z.qy(b);py(b);b.Wb=z.El;b.w((0,window.$)(".menubutton",a)[0])}};z.Ca(z.YB.prototype,z.zF);z.ja(z.$B,z.kB);z.$B.prototype.Ec=z.l(44);z.v(bC,z.F);bC.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.fc;if("mousewheel"==a.type){c=1;if(z.B||z.C&&(z.kl||z.D("532.0")))c=40;d=cC(-a.wheelDelta,c);z.ka(a.wheelDeltaX)?(b=cC(-a.wheelDeltaX,c),c=cC(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),z.ka(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;z.qa(this.$G)&&(b=Uo(b,-this.$G,this.$G));z.qa(this.aH)&&(c=Uo(c,-this.aH,this.aH));this.OQ&&(b=-b);b=new dC(d,a,b,c);this.dispatchEvent(b)};
bC.prototype.D=function(){bC.o.D.call(this);z.od(this.PG);this.PG=null};z.v(dC,z.Qc);z.v(eC,z.F);z.e=eC.prototype;z.e.le=0;z.e.Ko=0;z.e.Go=100;z.e.Fn=0;z.e.uk=1;z.e.kG=!1;z.e.nt=!1;z.e.Da=function(a){a=fC(this,a);this.le!=a&&(this.le=a+this.Fn>this.Go?this.Go-this.Fn:a<this.Ko?this.Ko:a,this.kG||this.nt||this.dispatchEvent("change"))};z.e.Y=function(){return fC(this,this.le)};z.e.lu=function(a){a=fC(this,a);this.Fn!=a&&(this.Fn=0>a?0:this.le+a>this.Go?this.Go-this.le:a,this.kG||this.nt||this.dispatchEvent("change"))};
z.e.$h=function(){var a=this.Fn;return null==this.uk?a:Math.round(a/this.uk)*this.uk};z.e.Dc=function(){return fC(this,this.Ko)};z.e.Uc=function(){return fC(this,this.Go)};z.e.Rn=function(){return this.uk};z.v(gC,z.Q);z.e=gC.prototype;z.e.Mb="horizontal";z.e.qo=!1;z.e.ER=!1;z.e.Hf=10;z.e.lt=0;z.e.nG=!0;z.e.mH=0;z.e.aL=1E3;z.e.dc=!0;z.e.ae=!1;z.e.B=function(){gC.o.B.call(this);var a=this.K().B("DIV",this.U(this.Mb));this.X(a)};z.e.X=function(a){gC.o.X.call(this,a);z.gj(a,this.U(this.Mb));a=this.m();var b=z.Me(window.document,null,"goog-slider-thumb",a)[0];b||(b=this.K().B("DIV","goog-slider-thumb"),z.aj(b,"button"),a.appendChild(b));this.ab=this.Hd=b;z.aj(this.m(),"slider");wC(this)};
z.e.C=function(){gC.o.C.call(this);this.ke=new z.nj(this.ab);this.Rf=new z.nj(this.Hd);this.ke.Ig(this.ae);this.Rf.Ig(this.ae);this.ke.Iw=this.Rf.Iw=z.p;this.sb=new Fp(this.m());hC(this,!0);this.m().tabIndex=0;qC(this)};z.e.Gb=function(){gC.o.Gb.call(this);z.Ec(this.ke,this.Rf,this.sb,this.Xj)};
z.e.as=function(a){var b=a.Cr==this.ke?this.ab:this.Hd,c;"vertical"==this.Mb?(c=this.m().clientHeight-b.offsetHeight,c=(c-a.top)/c*(this.Uc()-this.Dc())+this.Dc()):c=a.left/(this.m().clientWidth-b.offsetWidth)*(this.Uc()-this.Dc())+this.Dc();c=a.Cr==this.ke?Math.min(Math.max(c,this.Dc()),this.Y()+this.$h()):Math.min(Math.max(c,this.Y()),this.Uc());oC(this,b,c)};
z.e.ms=function(a){var b="start"==a.type;z.po(this.m(),"goog-slider-dragging",b);z.po(a.target.handle,"goog-slider-thumb-dragging",b);a=a.Cr==this.ke;b?(this.dispatchEvent("h"),this.dispatchEvent(a?"d":"f")):(this.dispatchEvent("i"),this.dispatchEvent(a?"e":"g"))};
z.e.kf=function(a){var b=!0;switch(a.keyCode){case 36:uC(this,this.Dc());break;case 35:uC(this,this.Uc());break;case 33:mC(this,this.Hf);break;case 34:mC(this,-this.Hf);break;case 37:var c=this.ae&&this.qd()?1:-1;mC(this,a.shiftKey?c*this.Hf:c*this.fq);break;case 40:mC(this,a.shiftKey?-this.Hf:-this.fq);break;case 39:c=this.ae&&this.qd()?-1:1;mC(this,a.shiftKey?c*this.Hf:c*this.fq);break;case 38:mC(this,a.shiftKey?this.Hf:this.fq);break;default:b=!1}b&&a.preventDefault()};
z.e.hs=function(a){this.m().focus&&this.m().focus();var b=a.target;z.mf(this.ab,b)||z.mf(this.Hd,b)||(b="click"==a.type,b&&(0,z.G)()<this.mH+this.aL||(b||(this.mH=(0,z.G)()),this.ER?uC(this,kC(this,a)):(this.cB(a),this.Pe=pC(this,kC(this,a)),this.ZF="vertical"==this.Mb?this.Qs<this.Pe.offsetTop:this.Qs>tC(this,this.Pe)+this.Pe.offsetWidth,a=z.Ke(this.m()),this.v().g(a,"mouseup",this.bB,!0).g(this.m(),"mousemove",this.cB),this.fi||(this.fi=new z.ud(200),this.v().g(this.fi,"tick",this.DF)),this.DF(),
this.fi.start())))};z.e.wF=function(a){mC(this,(0<a.detail?-1:1)*this.fq);a.preventDefault()};z.e.DF=function(){var a;if("vertical"==this.Mb){var b=this.Qs,c=this.Pe.offsetTop;this.ZF?b<c&&(a=lC(this,this.Pe)+this.Hf):b>c+this.Pe.offsetHeight&&(a=lC(this,this.Pe)-this.Hf)}else b=this.Qs,c=tC(this,this.Pe),this.ZF?b>c+this.Pe.offsetWidth&&(a=lC(this,this.Pe)+this.Hf):b<c&&(a=lC(this,this.Pe)-this.Hf);z.ka(a)&&oC(this,this.Pe,a)};
z.e.bB=function(){this.fi&&this.fi.stop();var a=z.Ke(this.m());this.v().qa(a,"mouseup",this.bB,!0).qa(this.m(),"mousemove",this.cB)};z.e.cB=function(a){this.Qs=jC(this,a)};z.e.Dc=function(){return this.Bb.Dc()};z.e.Uc=function(){return this.Bb.Uc()};z.e.AF=function(){qC(this);wC(this);this.dispatchEvent("change")};z.e.po=function(){return this.qo};z.e.QN=function(){this.qo=!1};
z.e.setOrientation=function(a){if(this.Mb!=a){var b=this.U(this.Mb),c=this.U(a);this.Mb=a;this.m()&&(a=this.m(),z.fj(a,b)&&(z.ij(a,b),z.gj(a,c)),b=this.ae&&this.qd()?"right":"left",this.ab.style[b]=this.ab.style.top="",this.Hd.style[b]=this.Hd.style.top="",this.Qb&&(this.Qb.style[b]=this.Qb.style.top="",this.Qb.style.width=this.Qb.style.height=""),qC(this))}};
z.e.D=function(){gC.o.D.call(this);this.fi&&this.fi.H();delete this.fi;this.wn&&this.wn.H();delete this.wn;delete this.ab;delete this.Hd;this.Qb&&delete this.Qb;this.Bb.H();delete this.Bb;this.sb&&(this.sb.H(),delete this.sb);this.Xj&&(this.Xj.H(),delete this.Xj);this.ke&&(this.ke.H(),delete this.ke);this.Rf&&(this.Rf.H(),delete this.Rf)};z.e.fq=1;z.e.Rn=function(){return this.Bb.Rn()};z.e.Y=function(){return this.Bb.Y()};z.e.Da=function(a){oC(this,this.ab,a)};z.e.$h=function(){return this.Bb.$h()};
z.e.lu=function(a){oC(this,this.Hd,this.Bb.Y()+a)};z.e.G=function(a){z.P(this.m(),a);a&&qC(this)};z.e.Ua=function(a){this.dc!=a&&this.dispatchEvent(a?"enable":"disable")&&(this.dc=a,hC(this,a),a||this.bB(),z.po(this.m(),"goog-slider-disabled",!a))};z.e.isEnabled=function(){return this.dc};z.v(xC,gC);xC.prototype.U=function(a){return"vertical"==a?"goog-slider-vertical":"goog-slider-horizontal"};z.v(yC,z.Q);z.e=yC.prototype;z.e.defaults={zD:310,AD:310,sg:250,tg:250,rR:2,opacity:.25,iY:"#eee"};z.e.X=function(a){yC.o.X.call(this,a);this.src=this.h.src;this.options.src=this.src;this.options.Im=(this.options.zD-this.options.sg)/2;this.options.Hm=(this.options.AD-this.options.tg)/2;this.mr()};
z.e.mr=function(){var a=this.options;this.SB=(0,window.$)((0,z.xv)('\x3cdiv class\x3d"avatar-editor-container" style\x3d"width:\x3c%\x3dcontainerWidth%\x3epx"\x3e\x3cdiv class\x3d"avatar-editor-container-inner" style\x3d"height:\x3c%\x3dcontainerHeight%\x3epx;"\x3e\x3cdiv class\x3d"avatar-editor-window" style\x3d"height:\x3c%\x3dwindowHeight%\x3epx;width:\x3c%\x3dwindowWidth%\x3epx;margin:\x3c%\x3dwindowMarginTop%\x3epx \x3c%\x3dwindowMarginLeft%\x3epx;"\x3e\x3cdiv class\x3d"avatar-editor-window-shadow" style\x3d"height:\x3c%\x3dwindowHeight%\x3epx;width:\x3c%\x3dwindowWidth%\x3epx;"\x3e\x3c/div\x3e\x3cdiv class\x3d"avatar-editor-window-inner" style\x3d"width:\x3c%\x3dcontainerWidth%\x3epx; height:\x3c%\x3dcontainerHeight%\x3epx;margin:-\x3c%\x3dwindowMarginTop%\x3epx 0 0 -\x3c%\x3dwindowMarginLeft%\x3epx;"\x3e\x3cimg class\x3d"inner" title\x3d"拖动相片"/\x3e\x3c/div\x3e\x3c/div\x3e\x3cimg class\x3d"outer" style\x3d"opacity:\x3c%\x3dopacity%\x3e;"/\x3e\x3c/div\x3e\x3cdiv class\x3d"goog-slider-wrap"\x3e\x3ci class\x3d"zg-icon image-minus"\x3e\x3c/i\x3e\x3ci class\x3d"zg-icon image-plus"\x3e\x3c/i\x3e\x3cdiv class\x3d"goog-slider"\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3cdiv class\x3d"goog-slider-thumb"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',{containerWidth:a.AD,
containerHeight:a.zD,windowHeight:a.sg,windowWidth:a.tg,windowMarginTop:a.Im,windowMarginLeft:a.Hm,src:a.src,opacity:a.opacity}));this.Fb=this.SB[0];this.SB.insertBefore(this.h);z.P(this.h,!1);this.fN=z.L("avatar-editor-container-inner",this.Fb);this.vs=z.L("outer",this.Fb);this.qy=z.L("inner",this.Fb);this.rq=(0,window.$)(this.vs);this.fv=(0,window.$)(this.qy);this.WF=0;this.rq.load((0,z.q)(this.TJ,this));this.fv.load((0,z.q)(this.TJ,this));this.qy.src=this.vs.src=this.options.src;this.gV=z.L("goog-slider",
this.Fb)};
z.e.C=function(){this.TA=new xC;this.TA.w(this.gV);this.v().g(this.fN,["mousedown","touchstart"],function(a){var b=new z.nj(this.Fb);b.addEventListener("drag",(0,z.q)(function(a){var b=this.zoom;this.Ie={kq:this.options.tg/b,Sn:this.options.sg/b,x:(this.options.Hm-(this.eG.left+(a.clientX-this.uu)))/b,y:(this.options.Im-(this.eG.top+(a.clientY-this.vu)))/b};BC(this)},this));b.addEventListener("end",(0,z.q)(function(){b.H()},this));b.zm(a);this.zm(a)});this.v().g(this.Fb,["touchmove"],function(a){a.stopPropagation();a.preventDefault()});
this.v().g(this.TA,"change",function(){var a=this.TA.Y(),b=this.AK;zC(this,(this.qW-b)*a/100+b)})};z.e.TJ=function(){this.mQ||(this.qy.complete&&this.vs.complete?this.init():(this.WF++,2<=this.WF&&this.init()))};
z.e.init=function(){var a,b;b=this.rq[0];if(b.naturalWidth)a=b.naturalWidth,b=b.naturalHeight;else{var c=new window.Image;c.src=b.src;a=c.width;b=c.height}this.us=a;this.ts=b;a=this.options.tg/this.us;b=this.options.sg/this.ts;this.AK=a=b>a?b:a;this.qW=this.AK*this.options.rR;this.Ie={Sn:this.options.tg/a,kq:this.options.sg/a,x:0,y:0};zC(this,a);AC(this,this.us/2,this.ts/2);this.mQ=!0};z.e.zm=function(a){this.uu=a.clientX;this.vu=a.clientY;this.eG=this.fv.position();this.rq.position()};
z.e.support=function(){return"getContext"in window.document.createElement("canvas")};z.v(z.CC,z.Q);z.DC=1;z.e=z.CC.prototype;z.e.X=function(a){this.h=a;this.B()};
z.e.B=function(){this.BB=z.qm.Mu+"/upload_avatar";this.Bd=(0,window.$)((0,z.xv)('\x3cform target\x3d"av_up_frame" style\x3d"display:none;" method\x3d"post" enctype\x3d"multipart/form-data" action\x3d"\x3c%\x3duploadAction%\x3e"\x3e\x3clabel for\x3d"avt_file"\x3e\x3c/label\x3e\x3cinput type\x3d"file" accept\x3d"image/*" name\x3d"picture" id\x3d"avt_file" /\x3e\x3cinput type\x3d"hidden" name\x3d"handle_mode" value\x3d"upload" /\x3e\x3cinput type\x3d"hidden" name\x3d"type" value\x3d"\x3c%\x3dtype%\x3e" /\x3e\x3cinput type\x3d"hidden" name\x3d"dest_id" value\x3d"\x3c%\x3ddest_id%\x3e" /\x3e\x3cinput type\x3d"hidden" name\x3d"return_size" value\x3d"\x3c%\x3dreturn_size%\x3e" /\x3e\x3c/form\x3e',{uploadAction:this.BB,
type:this.Pq,dest_id:this.Pq===z.DC?z.S[3]:this.BE,return_size:this.QI}));this.JK=(0,window.$)('\x3ciframe id\x3d"av_up_frame" name\x3d"av_up_frame" style\x3d"position: absolute; height: 0px; width: 0px; left: -9000px;"\x3e\x3c/iframe\x3e');this.JK.appendTo(window.document.body);this.input=this.Bd.find("input[type\x3dfile]")[0];z.B?(this.Bd.find("label").html((0,window.$)(this.h).html()),this.h.innerHTML="",(0,window.$)(this.h).append(this.Bd),this.Bd.addClass("avatar-editor-form-ie")):(this.Bd.insertAfter(this.h),
(0,window.$)(this.h).click(window.$.proxy(function(){this.input.click()},this)));this.v().g(this.input,"change",this.Gc).g(this.input,"click",function(a){!1===this.dispatchEvent("beforeopen")&&a.preventDefault()});this.v().g(z.X,"iframe_data",function(a){(a=a.uf)&&!a.r?"upload"===a.handle_mode?(this.Ml=a.url,this.py=a.id,EC()||this.Yo()):"resize"===a.handle_mode&&((0,window.$)(this.h).find("form").remove(),this.MD(a)):z.W.message(a.msg)})};
z.e.Gc=function(a){FC(this);a=this.input=a.target;if(EC()){if(a.files&&a.files[0]){this.file=a=a.files[0];var b=new window.FileReader;b.onload=(0,z.q)(function(a){this.Ml=a.target.result;this.Yo()},this);b.readAsDataURL(a)}}else this.Bd[0].submit();IC(this)};z.e.Yo=function(){var a=this.dialog.R();this.oy=new window.Image;this.oy.src=this.Ml;a=(0,window.$)(a);a.html("");a.append(this.oy);this.zw=new yC;this.zw.w(this.oy)};
z.e.MD=function(a){a&&!a.r?this.data=a:z.W.message(a.msg);this.dispatchEvent({type:"success",src:this.data});this.dialog.G(!1)};z.e.getData=function(){return this.data||null};z.e.be=function(a){return this.data?this.data.url.replace(/(\.\w+)$/,"_"+a+"$1"):""};z.v(z.KC,z.cy);z.KC.prototype.Nd=function(){return this.dispatchEvent("action")};z.Op("goog-option",function(){return new z.KC(null)});z.v(z.LC,z.Q);z.e=z.LC.prototype;z.e.GB=!z.Tj;z.e.EB=!z.Tj;z.e.TG=!1;z.e.yi=function(a){this.Yg=a};z.e.init=function(){this.Md=z.I("zh-load-more");this.w(this.NN)};
z.e.C=function(){z.LC.o.C.call(this);this.Xm=1;QC(this);this.Hk=(0,window.$)(this.Md);this.Md&&(NC(this),this.v().g(this.Md,"click",function(){this.ro=!0;this.Pi&&"pending"===this.Pi.state()&&1===this.Xm?(this.Pi.done((0,z.q)(this.ck,this)),this.MA=!0,z.MC(this,!0)):this.GB&&this.Mt?(this.ck(this.Mt),this.Mt=null):(z.MC(this,!0),z.OC(this))}),this.GB&&(this.kB=new z.el(this.Jz,100,this),this.v().g(window,"scroll",function(){this.kB.fire()})));RC(this,this.fb())};z.e.ji=function(){z.OC(this,!0)};
z.e.Jz=function(){var a=this.Md;a&&z.Lg(a)&&1E3>=a.getBoundingClientRect().top-z.Pe().height&&!(this.Mt||this.Pi&&"pending"===this.Pi.state())&&(this.EB&&(3!==this.Xm||this.TG?(this.ro=!1,this.Xm++,this.MA=!0):(this.Xm=1,this.MA=!1)),z.OC(this))};z.e.mI=function(a){return a};
z.e.ck=function(a){if(a&&!a.r){var b=a.msg,c=b[0],d=b[1],f;2<b.length&&(f=b[2],this.Md.setAttribute("data-next",f));0<c&&(this.Mq(d),this.offset=this.zz?this.zz(this.fb()):this.offset+c);b=!0;b=this.ns?this.ns(a):!(-1===f||10>c);z.P(this.Md,b);z.MC(this,!1);z.PC(this)}};z.e.fb=function(){return z.Lo(this.Yg,this.h)};z.e.jI=function(a){return a.id.replace(/^\w+-/,"")};
z.e.Mq=function(a,b){var c=z.na(a)?a.join(""):a,c=z.Xe(c+" "),d=z.Lo(this.Yg,c);RC(this,d);"prepend"===b?z.bf(c,this.h.firstChild):this.h.appendChild(c);QC(this)};z.e.vt=z.p;z.v(z.SC,z.F);z.SC.prototype.handleEvent=function(a){if("input"==a.type)z.B&&z.D(10)&&0==a.keyCode&&0==a.charCode||(TC(this),this.dispatchEvent(UC(a)));else if("keydown"!=a.type||oo(a)){var b="keydown"==a.type?this.h.value:null;z.B&&229==a.keyCode&&(b=null);var c=UC(a);TC(this);this.ma=z.wd(function(){this.ma=null;this.h.value!=b&&this.dispatchEvent(c)},0,this)}};z.SC.prototype.D=function(){z.SC.o.D.call(this);this.T.H();TC(this);delete this.h};z.v(VC,z.F);var WC=0;VC.prototype.Ez=function(){this.Yk()};VC.prototype.Yk=function(){var a=this.Wh.value.length;if(a>this.it){var b=this.Wh.scrollTop,c=this.Wh.scrollLeft;this.Wh.value=this.Wh.value.substring(0,this.it);a=this.it;this.Wh.scrollTop=b;this.Wh.scrollLeft=c}this.uE&&z.nf(this.uE,String(1==this.CN?a:this.it-a))};VC.prototype.D=function(){VC.o.D.call(this);delete this.Wh;this.Gy.H();this.Gy=null};var bD;z.v(z.XC,z.Wj);z.e=z.XC.prototype;z.e.init=function(){this.Fs||(this.Fs=!0,this.B(),this.bc())};z.e.bc=function(){z.B||(new z.Rs("搜索问题")).w(this.Zc);this.ca=new z.et("/redirect-question/autocomplete",this.Zc,null,null,z.I("zh-question-redirect-diag-content"),!1);this.ca.Wm=!1;this.ca.qh(!0);this.v().g(this.ca,"suggestionsupdate",Jr);this.v().g(this.ca,"select",this.IS).g(this.FM,"click",function(){this.sa.G(!1)})};
z.e.IS=function(){var a=this.ca.wj();if("search_link"===a[0])window.open("/search?q\x3d"+(0,window.encodeURIComponent)(a[1])+"\x26type\x3dquestion");else{this.Zc.value="";var b=a[3],a=a[1];this.sa.G(!1);this.Zc.value="";this.xhr=new z.Z(!0);this.v().ya(this.xhr,"complete",this.WL);this.xhr.ajax("/question/redirect","qid\x3d"+this.pa+"\x26rqid\x3d"+b);this.du=b;this.uI=a}};
z.e.WL=function(){var a=z.Mn(this.xhr);a&&(a.r?z.W.message(a.msg):this.Ti?(this.Ti.innerHTML="已经重定向",this.Ti.setAttribute("data-disabled",1)):this.dispatchEvent("change"))};
z.e.B=function(){this.h=z.N("div",{id:"zh-question-redirect-diag"},["将问题跳转至",z.N("div",{id:"zh-question-redirect-diag-content"},this.Zc=z.N("input",{type:"text","class":"zg-form-text-input"})),z.N("div","zm-command",this.FM=z.N("a",{href:"javascript:;","class":"zm-command-cancel",name:"cancel"},"放弃操作"))]);this.sa=new z.U(null);this.sa.La("问题重定向");z.Kj(this.sa,null);this.sa.R().appendChild(this.h)};z.e.show=function(){this.init();this.sa.G(!0)};var AF={},AF=function(){z.F.call(this)};z.v(AF,z.Wj);AF.sv=[["需要详细阐述","答案过于简短或表述不清晰，请完善答案。"],["答非所问","没有正面或直接回答问题，请修改答案。"],["应作为问题的评论","该内容是对问题本身的评论而不是回答，请改为发布到评论。"],["应作为答案的评论","该内容是对另外一个答案的评论或回应，而不是回答问题，请改为发布到评论。"],["内容重复","与已有答案重复，请修改答案。"],["内容已过期","答案的时效性已过，请更新答案。"],["需要注明关联利益","有广告、推销嫌疑，请注明作者与利益方的关系。"]];AF.Lj=null;AF.ba=function(){AF.Lj||(AF.Lj=new AF,AF.Lj.init());return AF.Lj};z.e=AF.prototype;
z.e.init=function(){if(!this.h){this.B();this.bc();var a=new Lw(this.h);wn(a);a.PF=!0;a.nm(!0);a.G(!1);a.dA=0;a.V()&&a.ha();z.Mw(a,new z.qg(13,0,0,-22));this.cA=a}};z.e.bc=function(){this.v().g(this.h,"click",this.FS)};z.e.FS=function(a){"A"===a.target.tagName&&(a=a.target.getAttribute("data-index"),this.nN.FX(a),this.cA.G(!1))};
z.e.B=function(){var a=z.N("div",{id:"zh-answer-flag-popup","class":"zg-r5px zu-hovercard-wrap"},[z.N("div","zg-r5px zu-hovercard-inner",[z.N("div",{id:"zh-answer-flag-popup-header"},[z.N("a",{"class":"zg-right",href:"/question/19867017",target:"_blank"},"这是什么？"),"选择一个理由："]),this.$H=z.N("div",{id:"zh-answer-flog-options-wrap"})]),z.N("div","zu-hovercard-spin-top")]);z.w(AF.sv,function(a,c){var d=z.N("a",{href:"javascript:;","class":"zm-menu-item-link"},a[0]);d.setAttribute("data-index",c);this.$H.appendChild(d)},
this);window.document.body.appendChild(a);this.h=a};z.e.show=function(a,b){this.cA.setPosition(new z.Jw(a,1));YC(this,b.IX());this.cA.G(!0);this.nN=b};var aD;z.v(ZC,z.Wj);ZC.prototype.init=function(){this.B();this.Zm()};
ZC.prototype.B=function(){this.h=z.N("div",null,[z.N("div","zg-section",[z.N("div",null,"标记："),this.nl=z.N("select")]),z.N("div",null,[z.N("div",null,"原因"),this.jA=z.N("textarea",{style:"width:96%;border:solid 1px #666;height:66px;padding:5px"})]),this.nn=z.N("div","zm-command",[z.N("a",{"class":"zg-mr10",href:"javascript:void(0);",name:"cancel"},"取消"),z.N("a",{"class":"zg-btn-blue",href:"javascript:void(0);",name:"confirm"},"确定")])]);this.nl.appendChild(z.N("option",{value:"no"},"选择标记原因"));z.w(AF.sv,
function(a,b){this.nl.appendChild(z.N("option",{value:b},a[0]))},this);this.sa=new z.U(null);this.sa.La("标记答案");z.Kj(this.sa,null);this.sa.R().appendChild(this.h)};
ZC.prototype.Zm=function(){this.v().g(this.nl,"change",function(){var a=this.nl.value;this.jA.value="no"===a?"":AF.sv[+a][1]}).g(this.nn,"click",function(a){"cancel"===a.target.name?this.sa.G(!1):this.jA.value&&"no"!==this.nl.value&&(this.px=new z.Z(!0),this.v().g(this.px,"complete",function(){var a=z.Mn(this.px);a&&!a.r?(this.Ti.innerHTML="已经标记",this.sa.G(!1)):z.W.message(a.msg)}),a=z.nr(this.jA.value),this.px.ajax("/answer/flag","answer_id\x3d"+this.AL+"\x26flag\x3d"+this.nl.value+"\x26reason\x3d"+
(0,window.encodeURIComponent)(a)))})};ZC.prototype.show=function(){this.sa.G(!0)};z.hD={digits:{required:"请填写数字验证码"},password:{required:"请填写密码"},password_repeat:{required:"请填写密码"},email:{required:"请填写邮箱"},phone_no:{required:"请填写手机号"}};var BF=z.u("Link");z.u("Edit Link");z.u("Text to display:");z.CF=z.u("Link to:");z.u("Web address");z.u("Link to a page or file somewhere else on the web");z.u("Test this link");
z.u("{$startBold}Not sure what to put in the box?{$endBold} First, find the page on the web that you want to link to. (A {$searchEngineLink}search engine{$endLink} might be useful.) Then, copy the web address from the box in your browser's address bar, and paste it into the box above.",{startBold:"\x3cb\x3e",endBold:"\x3c/b\x3e",searchEngineLink:"\x3ca href\x3d'http://www.google.com/' target\x3d'_new'\x3e",endLink:"\x3c/a\x3e"});z.u("To what URL should this link go?");z.u("Email address");z.u("Link to an email address");
z.u("Invalid email address");z.u("To what email address should this link?");z.u("{$preb}Be careful.{$postb} Remember that any time you include an email address on a web page, nasty spammers can find it too.",{preb:"\x3cb\x3e",postb:"\x3c/b\x3e"});z.u("Open this link in a new window");z.u("Image");z.v(iD,z.st);iD.prototype.next=function(){do iD.o.next.call(this);while(-1==this.Sb);return this.node};z.v(z.jD,Hp);z.la(z.jD);var nD=0;z.e=z.jD.prototype;z.e.B=function(a){var b=this.Uf(a);a=a.K().B("DIV",b?b.join(" "):null,kD(this,a.Sa(),a.Og(),a.K()));z.aj(a,"grid");return a};z.e.xw=function(a,b){var c=b.B("TABLE",this.U()+"-table",b.B("TBODY",this.U()+"-body",a));c.cellSpacing=0;c.cellPadding=0;return c};z.e.Wb=function(){return!1};z.e.w=function(){return null};
z.e.ia=function(a,b){if(a){var c=z.Me(window.document,"TBODY",this.U()+"-body",a)[0];if(c){var d=0;z.w(c.rows,function(a){z.w(a.cells,function(a){z.af(a);if(b){var c=b[d++];c&&a.appendChild(c)}})});if(d<b.length){for(var f=[],g=z.H(a),h=c.rows[0].cells.length;d<b.length;){var k=b[d++];f.push(lD(this,k,g));f.length==h&&(k=mD(this,f,g),c.appendChild(k),f.length=0)}if(0<f.length){for(;f.length<h;)f.push(lD(this,"",g));k=mD(this,f,g);c.appendChild(k)}}}z.uo(a,!0,z.A)}};z.e.U=function(){return"goog-palette"};z.v(pD,z.F);z.e=pD.prototype;z.e.lh=null;z.e.wf=null;z.e.wl=function(){return this.He.length};z.e.ai=function(a){return this.He[a]||null};z.e.Fa=function(a){this.Ui(a,this.wl())};z.e.Ui=function(a,b){a&&(this.mm(a,!1),z.yb(this.He,b,0,a))};z.e.removeItem=function(a){a&&z.ub(this.He,a)&&a==this.lh&&(this.lh=null,this.dispatchEvent("select"))};z.e.jf=function(){return this.lh};z.e.fb=function(){return z.wb(this.He)};z.e.yf=function(a){a!=this.lh&&(this.mm(this.lh,!1),this.lh=a,this.mm(a,!0));this.dispatchEvent("select")};
z.e.vj=function(){var a=this.lh;return a?z.mb(this.He,a):-1};z.e.Gp=function(a){this.yf(this.ai(a))};z.e.clear=function(){var a=this.He;if(!z.na(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0;this.lh=null};z.e.D=function(){pD.o.D.call(this);delete this.He;this.lh=null};z.e.mm=function(a,b){a&&("function"==typeof this.wf?this.wf(a,b):"function"==typeof a.JA&&a.JA(b))};z.v(z.rD,Qp);z.e=z.rD.prototype;z.e.uc=null;z.e.Ra=-1;z.e.oa=null;z.e.D=function(){z.rD.o.D.call(this);this.oa&&(this.oa.H(),this.oa=null);this.uc=null;this.xn.H()};z.e.om=function(a){z.rD.o.om.call(this,a);uD(this);this.oa?(this.oa.clear(),qD(this.oa,a)):(this.oa=new pD(a),a=(0,z.q)(this.mm,this),this.oa.wf=a,this.v().g(this.oa,"select",this.Cj));this.Ra=-1};z.e.Ng=function(){return""};z.e.yp=function(){};
z.e.md=function(a){z.rD.o.md.call(this,a);var b=oD(this.M,this,a.target);b&&a.relatedTarget&&z.mf(b,a.relatedTarget)||b==vD(this)||(a=this.Sa(),this.ub(a?z.mb(a,b):-1))};z.e.fe=function(a){z.rD.o.fe.call(this,a);if(this.hc()&&(a=oD(this.M,this,a.target),a!=vD(this))){var b=this.Sa();this.ub(b?z.mb(b,a):-1)}};z.e.Nd=function(a){var b=vD(this);return b?(this.yf(b),z.rD.o.Nd.call(this,a)):!1};
z.e.Yb=function(a){var b=this.Sa(),b=b?b.length:0,c=this.uc.width;if(0==b||!this.isEnabled())return!1;if(13==a.keyCode||32==a.keyCode)return this.Nd(a);if(36==a.keyCode)return this.ub(0),!0;if(35==a.keyCode)return this.ub(b-1),!0;var d=0>this.Ra?this.vj():this.Ra;switch(a.keyCode){case 37:if(-1==d||0==d)d=b;this.ub(d-1);a.preventDefault();return!0;case 39:return d==b-1&&(d=-1),this.ub(d+1),a.preventDefault(),!0;case 38:-1==d&&(d=b+c-1);if(d>=c)return this.ub(d-c),a.preventDefault(),!0;break;case 40:if(-1==
d&&(d=-c),d<b-c)return this.ub(d+c),a.preventDefault(),!0}return!1};z.e.Cj=function(){};z.e.Og=function(){return this.uc};z.e.ub=function(a){a!=this.Ra&&(wD(this,this.Ra,!1),this.Zy=this.Ra,this.Ra=a,wD(this,a,!0),this.dispatchEvent("j"))};z.e.vj=function(){return this.oa?this.oa.vj():-1};z.e.jf=function(){return this.oa?this.oa.jf():null};z.e.Gp=function(a){this.oa&&this.oa.Gp(a)};z.e.yf=function(a){this.oa&&this.oa.yf(a)};
z.e.Lc=function(a){a&&-1==this.Ra?this.ub(-1<this.Zy?this.Zy:0):a||this.ub(-1);z.rD.o.Lc.call(this,a)};z.e.mm=function(a,b){if(this.m()&&a){var c=a.parentNode;z.po(c,this.M.U()+"-cell-selected",b);z.bj(c,"selected",b)}};z.v(sD,Qp);z.v(z.xD,dy);z.la(z.xD);z.xD.prototype.B=function(a){return a.K().B("DIV",this.Uf(a).join(" ")+" goog-inline-block"," ")};z.xD.prototype.w=function(a,b){b=z.xD.o.w.call(this,a,b);z.gj(b,"goog-inline-block");return b};z.xD.prototype.U=function(){return"goog-toolbar-separator"};z.v(z.yD,Pr);z.la(z.yD);z.yD.prototype.Nn=function(a){return"HR"==a.tagName?new z.ey(z.xD.ba()):z.yD.o.Nn.call(this,a)};z.yD.prototype.U=function(){return"goog-toolbar"};z.yD.prototype.ZE=function(){return z.HE};z.v(zD,ky);z.la(zD);zD.prototype.U=function(){return"goog-toolbar-button"};z.v(z.AD,z.Xp);z.Op("goog-toolbar-button",function(){return new z.AD(null)});z.v(BD,my);z.la(BD);BD.prototype.createCaption=function(a,b){return BD.o.createCaption.call(this,CD(a,b),b)};BD.prototype.Da=function(a,b){a&&DD(this.R(a),b)};BD.prototype.De=function(a){var b=a.m();this.Da(b,a.Y());z.gj(b,"goog-color-menu-button");BD.o.De.call(this,a)};z.v(ED,z.rD);ED.prototype.qt=null;ED.prototype.Os=null;ED.prototype.Kx=function(){var a=this.jf();return a?(a=Ao(a,"background-color"),GD(a)):null};ED.prototype.Fp=function(a){a=GD(a);this.qt||(this.qt=z.ob(this.fr,function(a){return GD(a)}));this.Gp(a?z.mb(this.qt,a):-1)};z.v(HD,z.oy);var JD={MW:"#000 #444 #666 #999 #ccc #eee #f3f3f3 #fff".split(" "),gX:"#f00 #f90 #ff0 #0f0 #0ff #00f #90f #f0f".split(" "),cX:"#f4cccc #fce5cd #fff2cc #d9ead3 #d0e0e3 #cfe2f3 #d9d2e9 #ead1dc #ea9999 #f9cb9c #ffe599 #b6d7a8 #a2c4c9 #9fc5e8 #b4a7d6 #d5a6bd #e06666 #f6b26b #ffd966 #93c47d #76a5af #6fa8dc #8e7cc3 #c27ba0 #cc0000 #e69138 #f1c232 #6aa84f #45818e #3d85c6 #674ea7 #a64d79 #990000 #b45f06 #bf9000 #38761d #134f5c #0b5394 #351c75 #741b47 #660000 #783f04 #7f6000 #274e13 #0c343d #073763 #20124d #4c1130".split(" ")};
z.e=HD.prototype;z.e.Kx=function(){return this.Y()};z.e.Fp=function(a){this.Da(a)};z.e.Da=function(a){for(var b=0,c;c=this.ai(b);b++)"function"==typeof c.Fp&&c.Fp(a);HD.o.Da.call(this,a)};z.e.Yn=function(a){"function"==typeof a.target.Kx?this.Da(a.target.Kx()):"none"==a.target.Y()&&this.Da(null);HD.o.Yn.call(this,a);a.stopPropagation();this.dispatchEvent("action")};z.e.Cb=function(a,b){a&&0==this.wl()&&(this.oh(ID(this.K())),this.Da(this.Y()));HD.o.Cb.call(this,a,b)};
z.Op("goog-color-menu-button",function(){return new HD(null)});z.v(KD,my);z.la(KD);KD.prototype.U=function(){return"goog-toolbar-menu-button"};z.v(LD,KD);z.la(LD);LD.prototype.createCaption=function(a,b){return ny(CD(a,b),this.U(),b)};LD.prototype.Da=function(a,b){a&&DD(this.R(a),b)};LD.prototype.De=function(a){this.Da(a.m(),a.Y());z.gj(a.m(),"goog-toolbar-color-menu-button");LD.o.De.call(this,a)};z.v(MD,HD);z.Op("goog-toolbar-color-menu-button",function(){return new MD(null)});z.v(ND,z.oy);z.Op("goog-toolbar-menu-button",function(){return new ND(null)});z.v(OD,z.oy);z.e=OD.prototype;z.e.oa=null;z.e.C=function(){OD.o.C.call(this);QD(this);TD(this)};z.e.X=function(a){OD.o.X.call(this,a);(a=this.Ng())?PD(this,a):this.jf()||this.Gp(0)};z.e.D=function(){OD.o.D.call(this);this.oa&&(this.oa.H(),this.oa=null);this.Kw=null};z.e.Yn=function(a){this.yf(a.target);OD.o.Yn.call(this,a);a.stopPropagation();this.dispatchEvent("action")};z.e.Cj=function(){var a=this.jf();OD.o.Da.call(this,a&&a.Y());QD(this)};
z.e.oh=function(a){var b=OD.o.oh.call(this,a);a!=b&&(this.oa&&this.oa.clear(),a&&(this.oa?z.ch(a,function(a){SD(a);this.oa.Fa(a)},this):RD(this,a)));return b};z.e.Fa=function(a){SD(a);OD.o.Fa.call(this,a);this.oa?this.oa.Fa(a):RD(this,this.Xa());UD(this)};z.e.Ui=function(a,b){SD(a);OD.o.Ui.call(this,a,b);this.oa?this.oa.Ui(a,b):RD(this,this.Xa())};z.e.removeItem=function(a){OD.o.removeItem.call(this,a);this.oa&&this.oa.removeItem(a)};
z.e.yf=function(a){if(this.oa){var b=this.jf();this.oa.yf(a);a!=b&&this.dispatchEvent("change")}};z.e.Gp=function(a){this.oa&&this.yf(this.oa.ai(a))};z.e.Da=function(a){if(null!=a&&this.oa)for(var b=0,c;c=this.oa.ai(b);b++)if(c&&"function"==typeof c.Y&&c.Y()==a){this.yf(c);return}this.yf(null)};z.e.Y=function(){var a=this.jf();return a?a.Y():null};z.e.jf=function(){return this.oa?this.oa.jf():null};z.e.vj=function(){return this.oa?this.oa.vj():-1};
z.e.Cb=function(a,b){OD.o.Cb.call(this,a,b);this.rb()?this.Xa().ub(this.vj()):UD(this)};z.Op("goog-select",function(){return new OD(null)});z.v(WD,OD);z.Op("goog-toolbar-select",function(){return new WD(null)});var aE=[10,10,13,16,18,24,32,48];var DF,EF,kE,jE,FF,GF,HF,IF,$D,JF,KF,LF,MF,cE,NF,OF,PF,QF,RF,SF,TF,UF,VF,WF,XF,YF,ZF,$F,aG,bG,cG,dG,eG,fG,gG,hG,iG,jG,kG,lG,mG,nG,oG,pG,rG,sG,tG;
for(DF=z.u("Normal"),EF=z.u("Normal / serif"),kE=[{caption:DF,value:"arial,sans-serif"},{caption:EF,value:"times new roman,serif"},{caption:"Courier New",value:"courier new,monospace"},{caption:"Georgia",value:"georgia,serif"},{caption:"Trebuchet",value:"trebuchet ms,sans-serif"},{caption:"Verdana",value:"verdana,sans-serif"}],jE={ja:[{caption:"ＭＳ Ｐゴシック",value:"ms pgothic,sans-serif"},{caption:"ＭＳ Ｐ明朝",value:"ms pmincho,serif"},{caption:"ＭＳ ゴシック",value:"ms gothic,monospace"}],ko:[{caption:"굴림",value:"gulim,sans-serif"},
{caption:"바탕",value:"batang,serif"},{caption:"굴림체",value:"gulimche,monospace"}],"zh-tw":[{caption:"新細明體",value:"pmingliu,serif"},{caption:"細明體",value:"mingliu,serif"}],"zh-cn":[{caption:"宋体",value:"simsun,serif"},{caption:"黑体",value:"simhei,sans-serif"},{caption:"MS Song",value:"ms song,monospace"}]},FF=z.u("Small"),GF=z.u("Normal"),HF=z.u("Large"),IF=z.u("Huge"),$D=[{caption:FF,value:1},{caption:GF,value:2},{caption:HF,value:4},{caption:IF,value:6}],JF=z.u("Heading"),KF=z.u("Subheading"),LF=z.u("Minor heading"),
MF=z.u("Normal"),cE=[{caption:JF,Aa:"H2"},{caption:KF,Aa:"H3"},{caption:LF,Aa:"H4"},{caption:MF,Aa:"P"}],NF=z.u("Format"),OF=z.u("Format"),PF=z.u("Undo"),QF=z.u("Redo"),RF=z.u("Font"),SF=z.u("Font size"),TF=z.u("Text color"),UF=z.u("Bold"),VF=z.u("Italic"),WF=z.u("Underline"),XF=z.u("Text background color"),YF=z.u("Add or remove link"),ZF=z.u("Numbered list"),$F=z.u("Bullet list"),aG=z.u("Decrease indent"),bG=z.u("Increase indent"),cG=z.u("Align left"),dG=z.u("Align center"),eG=z.u("Align right"),
fG=z.u("Justify"),gG=z.u("Remove formatting"),hG=z.u("Insert image"),iG=z.u("Strikethrough"),jG=z.u("Left-to-right"),kG=z.u("Right-to-left"),lG=z.u("Quote"),mG=z.u("Edit HTML source"),nG=z.u("Subscript"),oG=z.u("Superscript"),pG=z.u("Edit HTML"),z.qG={},rG=[{Aa:"+undo",S:PF,Na:"tr-icon tr-undo",factory:lE,hb:!0},{Aa:"+redo",S:QF,Na:"tr-icon tr-redo",factory:lE,hb:!0},{Aa:"+fontName",S:RF,Na:"tr-fontName",factory:function(a,b,c,d,f,g){var h=gE(a,b,c,d,f,g);iE(h);PD(h,DF);z.gj(h.Xa().R(),"goog-menu-noaccel");
h.Hi=function(a){var b=null;a&&0<a.length&&(b=z.$g(h.Xa(),XD(a)));b!=h.jf()&&h.yf(b)};return h},hb:!0},{Aa:"+fontSize",S:SF,Na:"tr-fontSize",factory:function(a,b,c,d,f,g){var h=gE(a,b,c,d,f,g);ZD(h);PD(h,GF);z.gj(h.Xa().R(),"goog-menu-noaccel");h.Hi=function(a){var b;if(b=z.pa(a))b=a.match(tE),b="px"==(b&&b[0]||null);b&&(b=aE,a=Array.prototype.lastIndexOf.call(b,(0,window.parseInt)(a,10),b.length-1));a=0<a?a:null;a!=h.Y()&&h.Da(a)};return h},hb:!0},{Aa:"+bold",S:UF,Na:"tr-icon tr-bold",hb:!0},{Aa:"+italic",
S:VF,Na:"tr-icon tr-italic",hb:!0},{Aa:"+underline",S:WF,Na:"tr-icon tr-underline",hb:!0},{Aa:"+foreColor",S:TF,Na:"tr-icon tr-foreColor",factory:function(a,b,c,d,f,g){a=hE(a,b,c,d,f,g);a.Fp("#000");a.Hi=z.Ba(mE,a);return a},hb:!0},{Aa:"+backColor",S:XF,Na:"tr-icon tr-backColor",factory:function(a,b,c,d,f,g){a=hE(a,b,c,d,f,g);a.Fp("#FFF");a.Hi=z.Ba(mE,a);return a},hb:!0},{Aa:"+link",S:YF,caption:BF,Na:"tr-link",hb:!0},{Aa:"+insertOrderedList",S:ZF,Na:"tr-icon tr-insertOrderedList",hb:!0},{Aa:"+insertUnorderedList",
S:$F,Na:"tr-icon tr-insertUnorderedList",hb:!0},{Aa:"+outdent",S:aG,Na:"tr-icon tr-outdent",factory:z.dE},{Aa:"+indent",S:bG,Na:"tr-icon tr-indent",factory:z.dE},{Aa:"+justifyLeft",S:cG,Na:"tr-icon tr-justifyLeft",hb:!0},{Aa:"+justifyCenter",S:dG,Na:"tr-icon tr-justifyCenter",hb:!0},{Aa:"+justifyRight",S:eG,Na:"tr-icon tr-justifyRight",hb:!0},{Aa:"+justifyFull",S:fG,Na:"tr-icon tr-justifyFull",hb:!0},{Aa:"+removeFormat",S:gG,Na:"tr-icon tr-removeFormat",factory:z.dE},{Aa:"image",S:hG,Na:"tr-icon tr-image",
factory:z.dE},{Aa:"+strikeThrough",S:iG,Na:"tr-icon tr-strikeThrough",hb:!0},{Aa:"+subscript",S:nG,Na:"tr-icon tr-subscript",hb:!0},{Aa:"+superscript",S:oG,Na:"tr-icon tr-superscript",hb:!0},{Aa:"ltr",S:jG,Na:"tr-icon tr-ltr",hb:!0},{Aa:"rtl",S:kG,Na:"tr-icon tr-rtl",factory:function(a,b,c,d,f,g){var h=z.fE(a,b,c,d,f,g);h.Hi=function(a){a=!!a;z.po(h.getParent().m(),"tr-rtl-mode",a);h.Jc(a)};return h},hb:!0},{Aa:"+BLOCKQUOTE",S:lG,Na:"tr-icon tr-BLOCKQUOTE",hb:!0},{Aa:"+formatBlock",S:NF,caption:OF,
Na:"tr-formatBlock",factory:function(a,b,c,d,f,g){var h=gE(a,b,c,d,f,g);bE(h);PD(h,MF);z.gj(h.Xa().R(),"goog-menu-noaccel");h.Hi=function(a){a=a&&0<a.length?a:null;a!=h.Y()&&h.Da(a)};return h},hb:!0},{Aa:"editHtml",S:mG,caption:pG,Na:"tr-editHtml",factory:z.dE}],sG=0,tG;tG=rG[sG];sG++)z.qG[tG.Aa]=tG;rG=null;var uG={};uG.track=Cr;z.v(z.nE,z.kz);z.Ca(z.nE.prototype,uG);z.nE.prototype.defaults={yk:null,title:"Distraction Free Mode",uM:"back",uU:"publish",Ln:"zu-editing-distraction-free",lV:"sticky-goog-scrollfloater",IV:"zm-editable-toolbar-container"};z.nE.prototype.ld=z.jb("FullScreenPlugin");z.qG.toggleFullScreen={Aa:"toggleFullScreen",S:"写作模式",Na:"tr-icon tr-max",factory:z.dE};z.e=z.nE.prototype;z.e.Ge=z.Ba(z.Tn,{lX:"toggleFullScreen",FW:"enterFullScreen",GW:"exitFullScreen"});
z.e.D=function(){this.ga.H();z.O(this.h);this.J=this.Yp=this.rc=this.Eb=this.h=null;z.nE.o.D.call(this)};
z.e.fw=function(){var a=this.J,b=window.document.createElement("div");b.id="zu-distraction-free-editor";b.innerHTML='\x3cdiv class\x3d"header"\x3e\x3cdiv class\x3d"wrapper"\x3e\x3ch1 class\x3d"title"\x3e'+a.title+'\x3c/h1\x3e\x3ca href\x3d"#" class\x3d"'+a.uM+'" name\x3d"return"\x3e返回\x3c/a\x3e\x3ca href\x3d"#" class\x3d"'+a.uU+'" name\x3d"save"\x3e发布\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"toolbar"\x3e\x3cdiv class\x3d"tools"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"content" class\x3d"grid"\x3e\x3c/div\x3e';window.document.body.appendChild(b);
this.ga.g(z.L("back",b),"click",function(a){a.preventDefault();rE(this)});this.ga.g(z.L("publish",b),"click",function(a){a.preventDefault();this.dispatchEvent("save")&&rE(this)});this.h=b;this.rc=z.L("content",b);this.Yp=z.N("div",{className:"toolbar-info"});this.J.yk||(this.J.yk=this.F.Ea)};z.e.ef=function(a){this.h||this.fw();switch(a){case "enterFullScreen":oE(this);break;case "exitFullScreen":rE(this);break;case "toggleFullScreen":z.V.has(window.document.body,this.J.Ln)?rE(this):oE(this)}};
z.e.FH=function(){z.V.has(window.document.body,this.J.Ln)?rE(this):"writing"===window.location.hash.slice(1)&&oE(this)};z.e.Wo=function(a){27===a.keyCode&&this.dispatchEvent("shouldExitFullScreenOnEscape")&&rE(this)};z.e.gJ=function(a){z.V[a?"add":"remove"](this.Eb,this.J.lV)};z.v(z.sE,z.Q);z.sE.prototype.C=function(){this.v().g(this.h,"click",this.Oa)};z.sE.prototype.Oa=function(a){var b=z.zr(this.h,a.target);this.kn&&this.kn(b);b&&b.name&&"focus"===b.name&&(0,z.kF)(b,this.vx,function(){b.getAttribute("data-followme")&&(z.V.has(b,"zg-btn-follow")?b.setAttribute("data-tip","s$b$对方已关注你"):b.setAttribute("data-tip","s$b$已互相关注"))},this.ux,{GX:"question"===this.vx?"关注问题":null})};z.sE.prototype.DA=z.l(49);}).call(this, __z_z__);
//# sourceURL=/static/revved/-/js/closure/common.7a59ca4a.js