(function(b){b.fn.turns=function(e){for(var d=0;d<this.length;d++){this.turns=new a(e,this[d])}return this};var c={inerval:3000,start:0,navigation:{active:true,effect:"slide"},pagination:{active:true,effect:"fade",interact:"hover"},effect:{slide:{speed:500},fade:{speed:1000}}};var a=function(d,e){var d=b.extend(c,d,true);this.conts=b(d.contName,e);this.tags=b(d.tagName||"jdAdPagination",e);this.options=d;this.interval=d.interval;this.gsize=d.gsize;this.pos=0;this.timer=null;this.size=this.conts.length;if(this.size<=1){this.show(0);return}this.start(d.start);this.eventBind(b(e),this.tags,this.conts)};window.exposes={};a.prototype={start:function(e){this.auto=true;var d=this;this.play(e,"next");this.timer=setInterval(function(){d.next()},d.interval)},play:function(f,d,e){if(this.options.navigation.effect=="slide"){this.slide(f,d)}else{this.fade(f,d)}},show:function(e){this.turnsReset();this.turnsInnerReset();b(this.conts[e]).addClass("current");b(this.tags[e]).addClass("select");for(var d=0;d<this.gsize;d++){this.exposal(this.conts[e])}},slide:function(k,j){var o=this.tags[k];this.turnsReset();this.turnsInnerReset();var n=this.conts[k];var f=this.conts[(k-1+this.size)%this.size];var h=this.conts[(k+1)%this.size];for(var g=0;g<this.gsize;g++){this.exposal(this.conts[k])}b(n).addClass("current");b(h).addClass("current");b(f).addClass("current");b(o).addClass("select");var m=this;var d=0;var l=n.offsetWidth;n.style.opacity=1;h.style.opacity=1;f.style.opacity=1;if(j=="prev"){change=l;d=-l;n.style.left=-l+"px";h.style.left=0;f.style.left=-2*l+"px"}else{change=-l;d=l;n.style.left=l+"px";h.style.left=2*l+"px";f.style.left=0}var e=this.options.effect.slide.speed/20;b(n).animate("left",d,change,e,"px",function(){n.style.left=d+change+"px"});b(h).animate("left",d+l,change,e,"px",function(){h.style.left=d+l+change+"px"});b(f).animate("left",d-l,change,e,"px",function(){f.style.left=d-l+change+"px";b(".jdAdPrevious").off("mousedown",m.levt).on("mousedown",m.levt);b(".jdAdNext").off("mousedown",m.revt).on("mousedown",m.revt)})},fade:function(k,h){var f=this;var e=this.conts[k];var d=this.tags[k];var j=this.options.effect.fade.speed/20;this.turnsReset();this.turnsInnerReset();b(d).addClass("select");b(e).addClass("current").addClass("jdAdShow");e.style.left=0;for(var g=0;g<this.gsize;g++){this.exposal(this.conts[k])}},next:function(){this.pos++;this.pos%=this.size;var d=this;this.play(this.pos,"next")},prev:function(){this.pos--;this.pos=(this.pos+this.size)%this.size;var d=this;this.play(this.pos,"prev")},stop:function(){clearInterval(this.timer)},turnsReset:function(){this.conts.removeClass("current").removeClass("jdAdShow");this.conts.each(function(d){d.style.left=0;d.style.opacity=1});this.tags.removeClass("select")},turnsInnerReset:function(){b(".jdAdInfo",this.conts[this.pos]).removeClass(".jdAdInfoShow")},exposal:function(d){b(".jdAdContInner",d).each(function(g,f){var e=g.getAttribute("exposal");if(window.exposes[e]===undefined){b.getScript(e);window.exposes[e]=1}})},eventBind:function(h,q,p){var n=this;h.on("mouseover",function(i){n.stop()});h.on("mouseout",function(i){n.stop();n.timer=setTimeout(function(){n.start((++n.pos)%n.size)},1000)});this.levt=function(i){b(".jdAdPrevious").off("mousedown",n.levt);var r=(i||window.event);if(r.preventDefault){r.preventDefault()}n.stop();n.prev()};this.revt=function(i){b(".jdAdNext").off("mousedown",n.revt);var r=(i||window.event);if(r.preventDefault){r.preventDefault()}n.stop();n.next()};if(this.options.navigation.active===true){this.auto=false;b(".jdAdPrevious").on("mousedown",this.levt);b(".jdAdNext").on("mousedown",this.revt)}var o=function(i){var r=this.getAttribute("index");if(n.pos==r){return false}else{n.pos=r}n.turnsReset();n.stop();if(n.options.pagination.effect=="slide"){n.slide(r)}else{n.fade(r)}return false};var m=function(i){n.stop();n.turnsReset();n.pos=this.index;n.fade(this.index)};if(this.options.pagination.active===true){if(this.options.pagination.interact==="hover"){for(var g=0;g<q.length;g++){q[g].index=g;q[g].onmouseover=m}}else{if(this.options.pagination.interact==="click"){q.on("click",o)}}}var k,j={x:0,y:0};var d=this.timer;var e=function(i){var r=i.touches[0];j={x:r.pageX,y:r.pageY};n.stop()};var f=function(i){if(i.touches.length>1||i.scale&&event.scale!==1){return}var r=i.touches[0];k={x:r.pageX-j.x,y:r.pageY-j.y}};var l=function(i){n.stop();if(!k){return}if((k.x<-10)&&(Math.abs(k.y/k.x)<1)){n.next()}else{if((k.x>10)&&(Math.abs(k.y/k.x)<1)){n.prev()}}clearTimeout(d);d=setTimeout(function(){n.stop();n.start((n.pos+1)%n.size)},n.interval);k=null};h.on("touchstart",e);h.on("touchmove",f);h.on("touchend",l);h.on("touchcancel",l)}}})(_J);