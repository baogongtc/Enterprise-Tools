<!DOCTYPE html>
<!-- saved from url=(0037)http://www.jianshu.com/p/479b8c7ec3e3 -->
<html class=" js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">
  <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta name="description" content="原文首发于我的个人博客，欢迎访问(^_^)，转载请注明出处。介绍AndFix，全称是Androidhot-fix。是阿里开源的一个Android热补丁框架，允许APP在不重新发布版本的情况下修复线上的bug。支持Android2.3到6.0。使用方式首先添加依赖compile&#39;com.alipay.euler:andfix:0.3.1@aar&#39;然后在Application.onCreate()中添加以下代码patchManager=newPatchManager(context);patchManag...">
  <meta property="wb:webmaster" content="294ec9de89e7fadb">
  <meta property="qc:admins" content="104102651453316562112116375">
  <meta property="qc:admins" content="11635613706305617">
  <meta property="qc:admins" content="1163561616621163056375">
  <meta name="google-site-verification" content="cV4-qkUJZR6gmFeajx_UyPe47GW9vY6cnCrYtCHYNh4">
  <meta name="google-site-verification" content="HF7lfF8YEGs1qtCE-kPml8Z469e2RHhGajy6JPVy5XI">
  <meta http-equiv="mobile-agent" content="format=html5; url=http://www.jianshu.com/p/479b8c7ec3e3">
    <!--  Meta for Smart App Banner -->
  <meta name="apple-itunes-app" content="app-id=888237539, app-argument=jianshu://notes/2488280">
  <!-- End -->

  <!--  Meta for Twitter Card -->
  <meta content="summary" property="twitter:card">
  <meta content="@jianshucom" property="twitter:site">
  <meta content="AndFix使用说明" property="twitter:title">
  <meta content="原文首发于我的个人博客，欢迎访问(^_^)，转载请注明出处。介绍AndFix，全称是Androidhot-fix。是阿里开源的一个Android热补丁框架，允许APP在不重新发布版本的情况下修复线上的bug。支持Android2.3到6.0。使用方式首先添加依赖compile&#39;com.alipay.euler:andfix:0.3.1@aar&#39;然后在Application.onCreate()中添加以下代码patchManager=newPatchManager(context);patchManag..." property="twitter:description">
  <meta content="http://www.jianshu.com/p/479b8c7ec3e3" property="twitter:url">
  <!-- End -->

  <!--  Meta for OpenGraph -->
  <meta property="fb:app_id" content="865829053512461">
  <meta property="og:site_name" content="简书">
  <meta property="og:title" content="AndFix使用说明">
  <meta property="og:type" content="article">
  <meta property="og:url" content="http://www.jianshu.com/p/479b8c7ec3e3">
  <meta property="og:description" content="原文首发于我的个人博客，欢迎访问(^_^)，转载请注明出处。介绍AndFix，全称是Androidhot-fix。是阿里开源的一个Android热补丁框架，允许APP在不重新发布版本的情况下修复...">

  <!-- End -->

  <!--  Meta for Facebook Applinks -->
  <meta property="al:ios:url" content="jianshu://notes/2488280">
  <meta property="al:ios:app_store_id" content="888237539">
  <meta property="al:ios:app_name" content="简书">

  <meta property="al:android:url" content="jianshu://notes/2488280">
  <meta property="al:android:package" content="com.jianshu.haruki">
  <meta property="al:android:app_name" content="简书">
  <!-- End -->

  <title>AndFix使用说明 - 简书</title>
  <meta name="csrf-param" content="authenticity_token">
<meta name="csrf-token" content="Jamy3cfo6MZYYnR+r4P1+GLOvbWB7gIToxpG8R9MgZ5KslgF1qIZjxumq0nlMv+KOw3490xYdiGuSFNxmCRpTw==">
  <!--[if lte IE 8]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <link rel="stylesheet" media="all" href="./AndFix使用说明 - 简书_files/base-28859e35d389885d08837bc971ff742c.css">

    <link rel="stylesheet" media="all" href="./AndFix使用说明 - 简书_files/reading-note-cc35f3caf1b79498ea4800b856bcf8a6.css">
  <link rel="stylesheet" media="all" href="./AndFix使用说明 - 简书_files/base-read-mode-64acccf6966299cfa3d580140a2582fe.css">
  <script src="./AndFix使用说明 - 简书_files/push.js"></script><script type="text/javascript" async="" src="./AndFix使用说明 - 简书_files/ga.js"></script><script src="./AndFix使用说明 - 简书_files/hm.js"></script><script src="./AndFix使用说明 - 简书_files/modernizr-613ea63b5aa2f0e2a1946e9c28c8eedb.js"></script>
  <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
  <!--[if IE 8]><link rel="stylesheet" media="all" href="http://cdn-qn0.jianshu.io/assets/scaffolding/for_ie-7f1c477ffedc13c11315103e8787dc6c.css" /><![endif]-->
  <!--[if lt IE 9]><link rel="stylesheet" media="all" href="http://cdn-qn0.jianshu.io/assets/scaffolding/for_ie-7f1c477ffedc13c11315103e8787dc6c.css" /><![endif]-->
  <link href="http://baijii-common.b0.upaiyun.com/icons/favicon.ico" rel="icon">
      <link rel="apple-touch-icon-precomposed" href="http://cdn-qn0.jianshu.io/assets/apple-touch-icons/57-b426758a1fcfb30486f20fd073c3b8ec.png" sizes="57x57">
      <link rel="apple-touch-icon-precomposed" href="http://cdn-qn0.jianshu.io/assets/apple-touch-icons/72-feca4b183b9d29fd188665785dc7a7f1.png" sizes="72x72">
      <link rel="apple-touch-icon-precomposed" href="http://cdn-qn0.jianshu.io/assets/apple-touch-icons/76-ba757f1ad3421192ce7192170393d2b0.png" sizes="76x76">
      <link rel="apple-touch-icon-precomposed" href="./AndFix使用说明 - 简书_files/114-8dae53b3bcea3f06bb139e329d1edab3.png" sizes="114x114">
      <link rel="apple-touch-icon-precomposed" href="http://cdn-qn0.jianshu.io/assets/apple-touch-icons/120-fa315ee0177dba4c55d4f66d4129b47f.png" sizes="120x120">
      <link rel="apple-touch-icon-precomposed" href="http://cdn-qn0.jianshu.io/assets/apple-touch-icons/152-052f5799bec8fb3aa624bdc72ef5bd1d.png" sizes="152x152">
  <!-- Baidu stats -->
  <script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?0c0e9d9b1e7d617b3e6842e85b9fb068";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
  </script>
<style type="text/css"></style></head>

<body class="post output zh cn win reader-day-mode reader-font2" data-js-module="note-show" data-locale="zh-CN" data-pinterest-extension-installed="cr1.39.1">
  
  <div class="navbar navbar-jianshu shrink hide-wrap-btn">
  <div class="dropdown">
    <a class="dropdown-toggle logo" id="dLabel" role="button" data-toggle="dropdown" data-target="#" href="javascript:void(0)">
      简
    </a>
    <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
      <li><a href="http://www.jianshu.com/"><i class="fa fa-home"></i> 首页</a></li>
      <li><a href="http://www.jianshu.com/collections"><i class="fa fa-th"></i> 专题</a></li>
      <li><a href="http://www.jianshu.com/user_invitations"><i class="fa fa-money"></i> 发钱啦</a></li>
    </ul>
  </div>
</div>
<div class="navbar-user">
    <a class="login" data-signup-link="true" data-toggle="modal" href="http://www.jianshu.com/sign_up">
      <i class="fa fa-user"></i> 注册
</a>    <a class="login" data-signin-link="true" data-toggle="modal" href="http://www.jianshu.com/sign_in">
      <i class="fa fa-sign-in"></i> 登录
</a>    <a class="daytime set-view-mode pull-right" href="javascript:void(0)"><i class="fa fa-moon-o"></i></a>
</div>
<div class="navbar navbar-jianshu expanded">
  <div class="dropdown">
      <a class="active logo" role="button" data-original-title="个人主页" data-container="div.expanded" href="http://www.jianshu.com/">
        <b>简</b><i class="fa fa-home"></i><span class="title">首页</span>
</a>      <a data-toggle="tooltip" data-placement="right" data-original-title="专题" data-container="div.expanded" href="http://www.jianshu.com/collections">
        <i class="fa fa-th"></i><span class="title">专题</span>
</a>    <a class="ad-selector" href="http://www.jianshu.com/apps">
      <i class="fa fa-mobile"></i><span class="title">下载手机应用</span>
</a>    <div class="ad-container ">
      <div class="ad-pop">
        <img class="ad-logo" src="./AndFix使用说明 - 简书_files/114-8dae53b3bcea3f06bb139e329d1edab3.png" alt="114">
        <p class="ad-title">简书</p>
        <p class="ad-subtitle">交流故事，沟通想法</p>
        <img class="ad-qrcode" src="./AndFix使用说明 - 简书_files/download-app-qrcode-053849fa25f9b44573ef8dd3c118a20f.png" alt="Download app qrcode">
        <div>
          <a class="ad-link" href="https://itunes.apple.com/cn/app/jian-shu/id888237539?ls=1&amp;mt=8">iOS</a>·
          <a class="ad-link" href="http://downloads.jianshu.io/apps/haruki/JianShu-1.11.1.apk">Android</a>
        </div>
      </div> 
    </div>
  </div>
  <div class="nav-user">
      <a href="http://www.jianshu.com/p/479b8c7ec3e3#view-mode-modal" data-toggle="modal"><i class="fa fa-font"></i><span class="title">显示模式</span></a>

      <a class="signin" data-signin-link="true" data-toggle="modal" data-placement="right" data-original-title="登录" data-container="div.expanded" href="http://www.jianshu.com/sign_in">
        <i class="fa fa-sign-in"></i><span class="title">登录</span>
</a>    </div>
  </div>

  
    <div class="fixed-btn">
    <a class="go-top" href="http://www.jianshu.com/p/479b8c7ec3e3#"> <i class="fa fa-angle-up"></i></a>
    <a class="qrcode" data-target="#bottom-qrcode" data-toggle="modal" href="javascript:void(0)"><i class="fa fa-qrcode"></i></a>
    <a class="writer" href="http://www.jianshu.com/writer#/" data-toggle="tooltip" data-placement="left" title="" data-original-title="写篇文章"><i class="fa fa-pencil"></i></a>
    <!-- qrcode modal -->
    <div id="bottom-qrcode" class="modal panel-modal hide fade" tabindex="-1" role="dialog" aria-hidden="true">
      <h4>下载简书移动应用</h4>
      <div class="panel-body"><img src="./AndFix使用说明 - 简书_files/download-app-qrcode-85008f146773a25ce86bcc4d7858af68.png" alt="Download app qrcode"></div>
    </div>
  </div>


  <div id="show-note-container">
    
<div class="post-bg" id="flag">
  <div class="wrap-btn hide-wrap-btn" style="top: -1px;">
    <!-- Notebook and collections button upper left -->
      <div class="article-related pull-left">
          <a class="collection-menu-btn" data-toggle="modal" data-target="#collection-menu" href="javascript:void(null);">
            <i class="fa fa-th"></i>
</a>          <a class="notebooks-menu-btn" data-toggle="modal" data-target="#notebooks-menu" href="javascript:void(null);"><i class="fa fa-list-ul"></i></a>
        <div class="related-avatar-group activities"></div>
      </div>
    <!-- ******* -->

      <a class="login" data-signup-link="true" data-toggle="modal" href="http://www.jianshu.com/sign_up">
    <i class="fa fa-user"></i> 注册
</a>  <a class="login" data-signin-link="true" data-toggle="modal" href="http://www.jianshu.com/sign_in">
    <i class="fa fa-sign-in"></i> 登录
</a>

    <!-- Buttons upper right -->
    <!-- ******* -->
  </div>

  <div class="container">
    <!-- Article activities for width under 768px -->
    <div class="related-avatar-group activities"></div>
      <div class="article">
        <div class="preview">
          <div class="author-info">
              <div class="btn btn-small btn-success follow">
    <a data-signin-link="true" data-toggle="modal" href="http://www.jianshu.com/sign_in"><i class="fa fa-plus"></i>  <span>添加关注</span></a>
  </div>

            <a class="avatar" href="http://www.jianshu.com/users/dab6c56dfff6">
              <img src="./AndFix使用说明 - 简书_files/73e23f33a402.png" alt="100">
</a>            <span class="label">
                作者
            </span>
            <a class="author-name blue-link" href="http://www.jianshu.com/users/dab6c56dfff6">
              <span>seewhy</span>
</a>              <span data-toggle="tooltip" data-original-title="最后编辑于 2016.01.14 16:35">2015.12.08 10:14*</span>
            <div>
              <span>写了2619字</span>，<span>被48人关注</span>，<span>获得了45个喜欢</span>
            </div>
          </div>
          <h1 class="title">AndFix使用说明</h1>
          <div class="meta-top">
            <span class="wordage">字数1238</span>
            <span class="views-count">阅读8029</span>
            <span class="comments-count">评论11</span>
            <span class="likes-count">喜欢30</span>
          </div>

          <!-- Collection/Bookmark/Share for width under 768px -->
          <div class="article-share"><a class="bookmark" data-signin-link="true" data-toggle="modal" href="http://www.jianshu.com/sign_in"> <i class="fa fa-bookmark-o"></i><span>收藏文章</span></a><span> <a href="javascript:void(null)" data-toggle="dropdown"><i class="fa fa-share-square-o"></i> 分享</a> <ul class="dropdown-menu arrow-top"> <li> <a href="javascript:void((function(s,d,e,r,l,p,t,z,c){var%20f=&#39;http://v.t.sina.com.cn/share/share.php?appkey=1881139527&#39;,u=z||d.location,p=[&#39;&amp;url=&#39;,e(u),&#39;&amp;title=&#39;,e(t||d.title),&#39;&amp;source=&#39;,e(r),&#39;&amp;sourceUrl=&#39;,e(l),&#39;&amp;content=&#39;,c||&#39;gb2312&#39;,&#39;&amp;pic=&#39;,e(p||&#39;&#39;)].join(&#39;&#39;);function%20a(){if(!window.open([f,p].join(&#39;&#39;),&#39;mb&#39;,[&#39;toolbar=0,status=0,resizable=1,width=440,height=430,left=&#39;,(s.width-440)/2,&#39;,top=&#39;,(s.height-430)/2].join(&#39;&#39;)))u.href=[f,p].join(&#39;&#39;);};if(/Firefox/.test(navigator.userAgent))setTimeout(a,0);else%20a();})(screen,document,encodeURIComponent,&#39;&#39;,&#39;&#39;,&#39;http://cwb.assets.jianshu.io/notes/images/2488280/weibo/image_75b7d0cec1c0.jpg&#39;, &#39;推荐 seewhy 的文章《AndFix使用说明》（ 分享自 @简书 ）&#39;,&#39;http://www.jianshu.com/p/479b8c7ec3e3&#39;,&#39;页面编码gb2312|utf-8默认gb2312&#39;));"> <img src="./AndFix使用说明 - 简书_files/weibo.png"> </a> </li> <li> <a href="javascript:void(function(){var d=document,e=encodeURIComponent,s1=window.getSelection,s2=d.getSelection,s3=d.selection,s=s1?s1():s2?s2():s3?s3.createRange().text:&#39;&#39;,r=&#39;http://www.douban.com/recommend/?url=&#39;+e(&#39;http://www.jianshu.com/p/479b8c7ec3e3&#39;)+&#39;&amp;title=&#39;+e(&#39;AndFix使用说明&#39;)+&#39;&amp;sel=&#39;+e(s)+&#39;&amp;v=1&#39;,x=function(){if(!window.open(r,&#39;douban&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330&#39;))location.href=r+&#39;&amp;r=1&#39;};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})()"> <img src="./AndFix使用说明 - 简书_files/douban.png"> </a> </li> <li> <a href="javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;http://share.v.t.qq.com/index.php?c=share&amp;a=index&amp;url=&#39;+e(&#39;http://www.jianshu.com/p/479b8c7ec3e3&#39;)+&#39;&amp;title=&#39;+e(&#39;推荐 seewhy 的文章《AndFix使用说明》（ 分享自 @jianshuio ）&#39;),x=function(){if(!window.open(r,&#39;tweibo&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=600,height=600&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();"> <img src="./AndFix使用说明 - 简书_files/tweibo.png"> </a> </li> <li> <a href="javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=&#39;+e(&#39;http://www.jianshu.com/p/479b8c7ec3e3&#39;)+&#39;&amp;title=&#39;+e(&#39;推荐 seewhy 的文章《AndFix使用说明》&#39;),x=function(){if(!window.open(r,&#39;qzone&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=600,height=600&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();"> <img src="./AndFix使用说明 - 简书_files/qzone.png"> </a> </li> <li> <a href="javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;https://twitter.com/share?url=&#39;+e(&#39;http://www.jianshu.com/p/479b8c7ec3e3&#39;)+&#39;&amp;text=&#39;+e(&#39;推荐 seewhy 的文章《AndFix使用说明》（ 分享自 @jianshucom ）&#39;)+&#39;&amp;related=&#39;+e(&#39;jianshucom&#39;),x=function(){if(!window.open(r,&#39;twitter&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=600,height=600&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();"> <img src="./AndFix使用说明 - 简书_files/twitter.png"> </a> </li> <li> <a href="javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;https://www.facebook.com/dialog/share?app_id=483126645039390&amp;display=popup&amp;href=http://www.jianshu.com/p/479b8c7ec3e3&#39;,x=function(){if(!window.open(r,&#39;facebook&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();"> <img src="./AndFix使用说明 - 简书_files/facebook.png"> </a> </li> <li> <a href="javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;https://plus.google.com/share?url=&#39;+e(&#39;http://www.jianshu.com/p/479b8c7ec3e3&#39;),x=function(){if(!window.open(r,&#39;google_plus&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();"> <img src="./AndFix使用说明 - 简书_files/google_plus.png"> </a> </li> <li> <a href="http://www.jianshu.com/p/479b8c7ec3e3"> <img src="./AndFix使用说明 - 简书_files/renren.png"> </a> </li> </ul></span></div>
          <!-- -->

          <div class="show-content"><blockquote><p>原文首发于我的<a href="http://seewhy.me/2015/12/15/AndFixIntroduce/" target="_blank">个人博客</a>，欢迎访问(^_^)，转载请注明出处。</p></blockquote>
<h1>介绍</h1>
<p>AndFix，全称是<strong>And</strong>roid hot-<strong>fix</strong>。是阿里开源的一个Android热补丁框架，允许APP在不重新发布版本的情况下修复线上的bug。支持Android 2.3 到 6.0。</p>
<h1>使用方式</h1>
<ol>
<li>首先添加依赖<br><code>compile 'com.alipay.euler:andfix:0.3.1@aar'</code>
</li>
<li>
<p>然后在Application.onCreate() 中添加以下代码</p>
<pre class="hljs swift"><code class="swift">patchManager = <span class="hljs-keyword">new</span> <span class="hljs-type">PatchManager</span>(context);
patchManager.<span class="hljs-keyword">init</span>(appversion);<span class="hljs-comment">//current version</span>
patchManager.loadPatch();</code></pre>
<p>可以用这句话获取appversion<br><code>String appversion= getPackageManager().getPackageInfo(getPackageName(), 0).versionName;</code><br>注意每次appversion变更都会导致所有补丁被删除,如果appversion没有改变，则会加载已经保存的所有补丁。</p>
</li>
<li>
<p>然后在需要的地方调用PatchManager的addPatch方法加载新补丁，比如可以在下载补丁文件之后调用。</p>
</li>
<li>
<p>之后就是打补丁的过程了，首先生成一个apk文件，然后更改代码，在修复bug后生成另一个apk。<br>通过官方提供的工具<a href="https://github.com/alibaba/AndFix/raw/master/tools/apkpatch-1.0.3.zip" target="_blank">apkpatch</a><br>生成一个.apatch格式的补丁文件，需要提供原apk，修复后的apk，以及一个签名文件。<br>可以直接使用命令apkpatch查看具体的使用方法。<br>使用示例：<br><code>apkpatch -o D:/Patch/ -k debug.keystore -p android-a androiddebugkey -e android f bug-fix.apk t release.apk</code></p>
</li>
<li>
<p>通过网络传输或者adb push的方式将apatch文件传到手机上，然后运行到addPatch的时候就会加载补丁。<br>加载过的补丁会被保存到data/packagename/files/apatch_opt目录下，所以下载过来的补丁用过一次就可以删除了。</p>
</li>
</ol>
<h1>大致原理</h1>
<p>apkpatch将两个apk做一次对比，然后找出不同的部分。可以看到生成的apatch了文件，后缀改成zip再解压开，里面有一个dex文件。通过jadx查看一下源码，里面就是被修复的代码所在的类文件,这些更改过的类都加上了一个_CF的后缀，并且变动的方法都被加上了一个叫@MethodReplace的annotation，通过clazz和method指定了需要替换的方法。<br>然后客户端sdk得到补丁文件后就会根据annotation来寻找需要替换的方法。最后由JNI层完成方法的替换。</p>
<h1>多次打补丁</h1>
<p>如果本地保存了多个补丁，那么AndFix会按照补丁生成的时间顺序加载补丁。具体是根据.apatch文件中的PATCH.MF的字段Created-Time。</p>
<h1>安全性</h1>
<p>readme提示开发者需要验证下载过来的apatch文件的签名是否就是在使用apkpatch工具时使用的签名，如果不验证那么任何人都可以制作自己的apatch文件来对你的APP进行修改。<br>但是我看到AndFix已经做了验证，如果补丁文件的证书和当前apk的证书不是同一个的话，就不能加载补丁。<br>官网还有一条，提示需要验证optimize file的指纹，应该是为了防止有人替换掉本地保存的补丁文件，所以要验证MD5码，然而SecurityChecker类里面也已经做了这个工作。。但是这个MD5码是保存在sharedpreference里面，如果手机已经root那么还是可以被访问的。</p>
<h1>混淆</h1>
<p><code>-printmapping proguard.map</code><br>首先需要生成mapping文件记录混淆规则，之后可以把printmapping 这句话注释掉，每次只使用applymapping。<br><code>-applymapping proguard.map</code><br>然后在下面加上</p>
<pre class="hljs scala"><code class="scala">-keep <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">*</span> <span class="hljs-keyword"><span class="hljs-keyword">extends</span></span> <span class="hljs-title">java</span>.<span class="hljs-title">lang</span>.<span class="hljs-title">annotation</span>.<span class="hljs-title">Annotation</span>
</span>-keepclasseswithmembernames <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">*</span> {</span>
    native &lt;methods&gt;;
}
-keep <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">com</span>.<span class="hljs-title">alipay</span>.<span class="hljs-title">euler</span>.<span class="hljs-title">andfix</span>.<span class="hljs-title">**</span> {</span> *; }</code></pre>
<h1>碰到的问题</h1>
<p>刚开始做的demo中，每次产生的apatch文件用的名字都是相同的，结果导致只有第一次的补丁能生效。<br>看了源码后发现只有每次名字不同才能加载，log中应该也有提示，但是没注意到。</p>
<pre class="hljs scala"><code class="scala"><span class="hljs-type">File</span> src = <span class="hljs-keyword">new</span> <span class="hljs-type">File</span>(path);
<span class="hljs-type">File</span> dest = <span class="hljs-keyword">new</span> <span class="hljs-type">File</span>(mPatchDir, src.getName());
<span class="hljs-keyword">if</span>(!src.exists()){
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-type">FileNotFoundException</span>(path);
}
<span class="hljs-keyword">if</span> (dest.exists()) {
    <span class="hljs-type">Log</span>.d(<span class="hljs-type">TAG</span>, <span class="hljs-string">"patch ["</span> + path + <span class="hljs-string">"] has be loaded."</span>);
    <span class="hljs-keyword">return</span>;
}</code></pre>
<h1>局限性</h1>
<ul>
<li>不支持YunOS</li>
<li>无法添加新类和新的字段</li>
<li>需要使用加固前的apk制作补丁，但是补丁文件很容易被反编译，也就是修改过的类源码容易泄露。</li>
<li>使用加固平台可能会使热补丁功能失效（看到有人在360加固提了这个问题，自己还未验证）。</li>
</ul>
<h1>与Nuwa对比</h1>
<p>Nuwa是另一个热补丁框架，原理是基于QQ空间团队提出的<a href="http://zhuanlan.zhihu.com/magilu/20308548" target="_blank">安卓App热补丁动态修复技术介绍</a>。<br>与Nuwa相比，AndFix有一下优点：</p>
<ul>
<li>不需要重启APP即可应用补丁。</li>
<li>安全性更好，Nuwa后面的版本应该也会加上安全方面的内容。</li>
</ul>
<p>但是也有缺点</p>
<ul>
<li>无法添加类和字段</li>
</ul>
<h1>参考</h1>
<p><a href="https://github.com/alibaba/AndFix" target="_blank">官方readme文档</a><br><a href="http://blog.zhaiyifan.cn/2015/11/20/HotPatchCompare/" target="_blank">各大热补丁方案分析和比较</a><br><a href="http://blog.csdn.net/qxs965266509/article/details/49816007" target="_blank">Alibaba-AndFix Bug热修复框架原理及源码解析</a><br><a href="http://yunair.github.io/blog/2015/09/25/AndFix-%E8%A7%A3%E6%9E%90(%E4%B8%80).html" target="_blank">AndFix解析</a></p>
</div>
        </div>
      </div>

      <div class="visitor_edit">
        <!-- further readings -->
        <div id="further-readings" data-user-slug="" data-user-nickname="">
          <div id="further-reading-line" class="hide further-reading-line"></div>
          <ul id="further-readings-list" class="reading-list unstyled"></ul>
          <div id="further-reading-new" class="reading-edit">
              <a data-signin-link="true" data-toggle="modal" href="http://www.jianshu.com/sign_in">
                <i class="fa fa-plus-circle"></i> 推荐拓展阅读
</a>            <div id="further-reading-form"></div>
          </div>
        </div>
        <div class="pull-right">
          <!-- copyright -->
          <div class="author-copyright pull-right" data-toggle="tooltip" data-html="true" title="" data-original-title="转载请联系作者获得授权，并标注“简书作者”。">
            <a><i class="fa fa-copyright"></i> 著作权归作者所有</a>
          </div>
        </div>
      </div>

      <!-- Reward / Support Author -->
        <div class="support-author">
          <p>如果觉得我的文章对您有用，请随意打赏。您的支持将鼓励我继续创作！</p>
            <a class="btn btn-pay" data-toggle="modal" href="http://www.jianshu.com/p/479b8c7ec3e3#pay-modal">¥ 打赏支持</a>
          <div class="avatar-list"></div>
        </div>

      <!-- article meta bottom -->
      <div class="meta-bottom clearfix">
        <!--  Like Button -->
        <div class="like ">
            <div class="like-button">
              <a id="like-note" class="like-content" data-signin-link="true" data-toggle="modal" href="http://www.jianshu.com/sign_in">
                <i class="fa fa-heart-o"></i>  喜欢
</a></div>          <span id="likes-count" data-toggle="tooltip" data-placement="right" title="" data-original-title="查看所有喜欢的用户">30</span>        </div>
        <!--  share group -->
        <div class="share-group pull-right">
          <a href="javascript:void((function(s,d,e,r,l,p,t,z,c){var%20f=&#39;http://v.t.sina.com.cn/share/share.php?appkey=1881139527&#39;,u=z||d.location,p=[&#39;&amp;url=&#39;,e(u),&#39;&amp;title=&#39;,e(t||d.title),&#39;&amp;source=&#39;,e(r),&#39;&amp;sourceUrl=&#39;,e(l),&#39;&amp;content=&#39;,c||&#39;gb2312&#39;,&#39;&amp;pic=&#39;,e(p||&#39;&#39;)].join(&#39;&#39;);function%20a(){if(!window.open([f,p].join(&#39;&#39;),&#39;mb&#39;,[&#39;toolbar=0,status=0,resizable=1,width=440,height=430,left=&#39;,(s.width-440)/2,&#39;,top=&#39;,(s.height-430)/2].join(&#39;&#39;)))u.href=[f,p].join(&#39;&#39;);};if(/Firefox/.test(navigator.userAgent))setTimeout(a,0);else%20a();})(screen,document,encodeURIComponent,&#39;&#39;,&#39;&#39;,&#39;http://cwb.assets.jianshu.io/notes/images/2488280/weibo/image_75b7d0cec1c0.jpg&#39;, &#39;推荐 seewhy 的文章《AndFix使用说明》（ 分享自 @简书 ）&#39;,&#39;http://www.jianshu.com/p/479b8c7ec3e3&#39;,&#39;页面编码gb2312|utf-8默认gb2312&#39;));" data-name="weibo">
            <i class="fa fa-weibo"></i><span>分享到微博</span>
          </a>
          <a data-toggle="modal" href="http://www.jianshu.com/p/479b8c7ec3e3#share-weixin-modal" data-name="weixin">
            <i class="fa fa-weixin"></i><span>分享到微信</span>
          </a>
          <div class="more">
            <a href="javascript:void(0)" data-toggle="dropdown">更多分享<i class="fa fa-caret-down"></i></a>
            <ul class="dropdown-menu arrow-top">
                <li><a href="http://cwb.assets.jianshu.io/notes/images/2488280/weibo/image_75b7d0cec1c0.jpg" target="_blank" data-name="changweibo"><i class="fa fa-arrow-circle-o-down"></i> 下载长微博图片</a></li>
                <li>
                  <a data-name="tweibo" href="javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;http://share.v.t.qq.com/index.php?c=share&amp;a=index&amp;url=&#39;+e(&#39;http://www.jianshu.com/p/479b8c7ec3e3&#39;)+&#39;&amp;title=&#39;+e(&#39;推荐 seewhy 的文章《AndFix使用说明》（ 分享自 @jianshuio ）&#39;),x=function(){if(!window.open(r,&#39;tweibo&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=600,height=600&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();">
                    <img src="./AndFix使用说明 - 简书_files/tweibo.png" alt="Tweibo"> 分享到腾讯微博
</a>                </li>
                <li>
                  <a data-name="qzone" href="javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=&#39;+e(&#39;http://www.jianshu.com/p/479b8c7ec3e3&#39;)+&#39;&amp;title=&#39;+e(&#39;推荐 seewhy 的文章《AndFix使用说明》&#39;),x=function(){if(!window.open(r,&#39;qzone&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=600,height=600&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();">
                    <img src="./AndFix使用说明 - 简书_files/qzone.png" alt="Qzone"> 分享到QQ空间
</a>                </li>
                <li>
                  <a data-name="twitter" href="javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;https://twitter.com/share?url=&#39;+e(&#39;http://www.jianshu.com/p/479b8c7ec3e3&#39;)+&#39;&amp;text=&#39;+e(&#39;推荐 seewhy 的文章《AndFix使用说明》（ 分享自 @jianshucom ）&#39;)+&#39;&amp;related=&#39;+e(&#39;jianshucom&#39;),x=function(){if(!window.open(r,&#39;twitter&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=600,height=600&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();">
                    <img src="./AndFix使用说明 - 简书_files/twitter.png" alt="Twitter"> 分享到Twitter
</a>                </li>
                <li>
                  <a data-name="facebook" href="javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;https://www.facebook.com/dialog/share?app_id=483126645039390&amp;display=popup&amp;href=http://www.jianshu.com/p/479b8c7ec3e3&#39;,x=function(){if(!window.open(r,&#39;facebook&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();">
                    <img src="./AndFix使用说明 - 简书_files/facebook.png" alt="Facebook"> 分享到Facebook
</a>                </li>
                <li>
                  <a data-name="google_plus" href="javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;https://plus.google.com/share?url=&#39;+e(&#39;http://www.jianshu.com/p/479b8c7ec3e3&#39;),x=function(){if(!window.open(r,&#39;google_plus&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();">
                    <img src="./AndFix使用说明 - 简书_files/google_plus.png" alt="Google plus"> 分享到Google+
</a>                </li>
                <li>
                  <a data-name="douban" href="javascript:void(function(){var d=document,e=encodeURIComponent,s1=window.getSelection,s2=d.getSelection,s3=d.selection,s=s1?s1():s2?s2():s3?s3.createRange().text:&#39;&#39;,r=&#39;http://www.douban.com/recommend/?url=&#39;+e(&#39;http://www.jianshu.com/p/479b8c7ec3e3&#39;)+&#39;&amp;title=&#39;+e(&#39;AndFix使用说明&#39;)+&#39;&amp;sel=&#39;+e(s)+&#39;&amp;v=1&#39;,x=function(){if(!window.open(r,&#39;douban&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330&#39;))location.href=r+&#39;&amp;r=1&#39;};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})()">
                    <img src="./AndFix使用说明 - 简书_files/douban.png" alt="Douban"> 分享到豆瓣
</a>                </li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Modals -->
      <div id="share-weixin-modal" class="modal hide fade share-weixin-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
  </div>
  <div class="modal-body" title="http://www.jianshu.com/p/479b8c7ec3e3?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=weixin">
    <h5>打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮</h5>
  <canvas width="170" height="170" style="display: none;"></canvas><img src="data:image/png;base64,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" style="display: block;"></div>
</div>

      
      <div id="notebooks-menu" class="panel notebooks-menu arrow-top modal hide fade"><img class="loader-tiny" src="./AndFix使用说明 - 简书_files/tiny.gif" alt="Tiny"></div>
      <div id="collection-menu" class="panel collection-menu arrow-top modal hide fade"><img class="loader-tiny" src="./AndFix使用说明 - 简书_files/tiny.gif" alt="Tiny"></div>
      
      <div id="likes-modal" class="modal modal_new support_list-modal fullscreen hide fade" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h3>喜欢的用户</h3>
      </div>
      <div class="modal-body">
        <ul class="unstyled users">
        <li data-user-id="1156168"> <a class="avatar" href="http://www.jianshu.com/users/dee2aad829fc"> <img src="./AndFix使用说明 - 简书_files/5-7cb2e7ce742a5c05b1a4fbebace48f1a.jpg"> </a> <a class="blue-link" href="http://www.jianshu.com/users/dee2aad829fc">JackyLong</a> <span class="time">2016.07.12 18:29</span></li><li data-user-id="2053083"> <a class="avatar" href="http://www.jianshu.com/users/03e5e9f7aef3"> <img src="./AndFix使用说明 - 简书_files/a0ee87209eaf.jpg"> </a> <a class="blue-link" href="http://www.jianshu.com/users/03e5e9f7aef3">sage61</a> <span class="time">2016.07.03 02:32</span></li><li data-user-id="1865598"> <a class="avatar" href="http://www.jianshu.com/users/c945251a6833"> <img src="./AndFix使用说明 - 简书_files/7-a82e998966cef5ab3eeda59b4297b619.jpg"> </a> <a class="blue-link" href="http://www.jianshu.com/users/c945251a6833">灵魂已失控</a> <span class="time">2016.07.01 17:08</span></li><li data-user-id="1752470"> <a class="avatar" href="http://www.jianshu.com/users/b92236614b0f"> <img src="./AndFix使用说明 - 简书_files/ae6823c67b22.jpg"> </a> <a class="blue-link" href="http://www.jianshu.com/users/b92236614b0f">阳翟后生</a> <span class="time">2016.06.30 10:18</span></li><li data-user-id="807284"> <a class="avatar" href="http://www.jianshu.com/users/37797a1dbc84"> <img src="./AndFix使用说明 - 简书_files/15-57a3e97082943073824a3529187f31f9.jpg"> </a> <a class="blue-link" href="http://www.jianshu.com/users/37797a1dbc84">luck_fc</a> <span class="time">2016.06.17 17:09</span></li><li data-user-id="928522"> <a class="avatar" href="http://www.jianshu.com/users/6605024f3cc0"> <img src="./AndFix使用说明 - 简书_files/76cb13e5e6ee.jpeg"> </a> <a class="blue-link" href="http://www.jianshu.com/users/6605024f3cc0">WKB</a> <span class="time">2016.06.17 12:58</span></li><li data-user-id="1971356"> <a class="avatar" href="http://www.jianshu.com/users/3de330007792"> <img src="./AndFix使用说明 - 简书_files/3fbab2fdb4a9.jpeg"> </a> <a class="blue-link" href="http://www.jianshu.com/users/3de330007792">IT_牛牛</a> <span class="time">2016.06.14 08:27</span></li><li data-user-id="1358924"> <a class="avatar" href="http://www.jianshu.com/users/3939b3e0914c"> <img src="./AndFix使用说明 - 简书_files/0546bd9f85da.jpeg"> </a> <a class="blue-link" href="http://www.jianshu.com/users/3939b3e0914c">南汇老帅虎</a> <span class="time">2016.05.25 09:36</span></li><li data-user-id="1767486"> <a class="avatar" href="http://www.jianshu.com/users/ce875feffc90"> <img src="./AndFix使用说明 - 简书_files/12-07a584b5038a24cbb23b81dc673c18fd.jpg"> </a> <a class="blue-link" href="http://www.jianshu.com/users/ce875feffc90">kafka_tang</a> <span class="time">2016.05.25 09:33</span></li><li data-user-id="1712783"> <a class="avatar" href="http://www.jianshu.com/users/0eff36c2bfe7"> <img src="./AndFix使用说明 - 简书_files/d12ea870a33f"> </a> <a class="blue-link" href="http://www.jianshu.com/users/0eff36c2bfe7">XingHang</a> <span class="time">2016.05.18 18:36</span></li><li data-user-id="1155840"> <a class="avatar" href="http://www.jianshu.com/users/89d498284ef9"> <img src="./AndFix使用说明 - 简书_files/14-75d944a989bbbd5b92a639698c9b4a3c.jpg"> </a> <a class="blue-link" href="http://www.jianshu.com/users/89d498284ef9">LLhon</a> <span class="time">2016.05.09 17:34</span></li><li data-user-id="1282239"> <a class="avatar" href="http://www.jianshu.com/users/f2e8890ff3c1"> <img src="./AndFix使用说明 - 简书_files/134f11bbf9f7.png"> </a> <a class="blue-link" href="http://www.jianshu.com/users/f2e8890ff3c1">RoFF</a> <span class="time">2016.04.18 20:33</span></li><li data-user-id="1376176"> <a class="avatar" href="http://www.jianshu.com/users/e0a0d32748b8"> <img src="./AndFix使用说明 - 简书_files/94c2890dee6f"> </a> <a class="blue-link" href="http://www.jianshu.com/users/e0a0d32748b8">阿呆少爷</a> <span class="time">2016.04.16 13:41</span></li><li data-user-id="1782650"> <a class="avatar" href="http://www.jianshu.com/users/7910d78c6861"> <img src="./AndFix使用说明 - 简书_files/b6face81f0ef"> </a> <a class="blue-link" href="http://www.jianshu.com/users/7910d78c6861">程序狮</a> <span class="time">2016.03.21 19:01</span></li><li data-user-id="718073"> <a class="avatar" href="http://www.jianshu.com/users/9d53f97acd61"> <img src="./AndFix使用说明 - 简书_files/bb6ce77c1503"> </a> <a class="blue-link" href="http://www.jianshu.com/users/9d53f97acd61">乔伯</a> <span class="time">2016.03.11 16:07</span></li><a class="more hidden" data-max-id="14374670" href="javascript:void(null);"><i class="fa fa-ellipsis-h"></i></a></ul>
      </div>
    </div>
  </div>
</div>



    <!-- Comments -->
    <div id="comments" class="comment-list clearfix">
        <div class="comment-head clearfix">
          11条评论
          <span class="order">
            （
            <a data-order="asc" class="active" href="javascript:void(0)">按时间正序</a>·
            <a data-order="desc" href="javascript:void(0)">按时间倒序</a>·
            <a data-order="likes_count" href="javascript:void(0)">按喜欢排序</a>
            ）
          </span>
            <a class="goto-comment pull-right" data-signin-link="true" data-toggle="modal" href="http://www.jianshu.com/sign_in">
              <i class="fa fa-pencil"></i>添加新评论
</a>        </div>
        <div id="comment-list">


<div class="note-comment clearfix" id="comment-1465146">
  <div class="content">
      <div class="meta-top">
        <a class="avatar" href="http://www.jianshu.com/users/ef92f120f712">
          <img src="./AndFix使用说明 - 简书_files/c990bd10d560.JPG" alt="100">
</a>        <p>
          <a class="author-name" href="http://www.jianshu.com/users/ef92f120f712">胡髭蛤蟆</a>
        </p>
        <span class="reply-time">
          <small>2 楼 · </small>
          <a href="http://www.jianshu.com/p/479b8c7ec3e3/comments/1465146#comment-1465146">2016.02.16 15:46</a></span>
      </div>
      <p>感谢楼主分享。</p>
      <div class="comment-footer clearfix text-right">
        <a data-id="1465146" class="like pull-left" href="javascript:void(0)">
          <i class="fa fa-heart-o"></i>喜欢<span>(0)</span>
</a>        

        <a data-id="1465146" data-nickname="胡髭蛤蟆" class="reply" href="javascript:void(0)">回复</a>
        
        
      </div>
    <div class="child-comment-list hide">
      
      <div data-state="remaining-child-comments"></div>
    </div>
  </div>
</div>

<div class="note-comment clearfix" id="comment-1518676">
  <div class="content">
      <div class="meta-top">
        <a class="avatar" href="http://www.jianshu.com/users/14f01fa4bf94">
          <img src="./AndFix使用说明 - 简书_files/4-ba9d62f772acabf0df353d9ce8b96ccb.jpg" alt="4">
</a>        <p>
          <a class="author-name" href="http://www.jianshu.com/users/14f01fa4bf94">弦小杰</a>
        </p>
        <span class="reply-time">
          <small>3 楼 · </small>
          <a href="http://www.jianshu.com/p/479b8c7ec3e3/comments/1518676#comment-1518676">2016.02.23 11:42</a></span>
      </div>
      <p>赞赞赞，照着你的终于完成了，哈哈</p>
      <div class="comment-footer clearfix text-right">
        <a data-id="1518676" class="like pull-left" href="javascript:void(0)">
          <i class="fa fa-heart-o"></i>喜欢<span>(0)</span>
</a>        

        <a data-id="1518676" data-nickname="弦小杰" class="reply" href="javascript:void(0)">回复</a>
        
        
      </div>
    <div class="child-comment-list hide">
      
      <div data-state="remaining-child-comments"></div>
    </div>
  </div>
</div>

<div class="note-comment clearfix" id="comment-1786760">
  <div class="content">
      <div class="meta-top">
        <a class="avatar" href="http://www.jianshu.com/users/7910d78c6861">
          <img src="./AndFix使用说明 - 简书_files/b6face81f0ef" alt="100">
</a>        <p>
          <a class="author-name" href="http://www.jianshu.com/users/7910d78c6861">程序狮</a>
        </p>
        <span class="reply-time">
          <small>4 楼 · </small>
          <a href="http://www.jianshu.com/p/479b8c7ec3e3/comments/1786760#comment-1786760">2016.03.21 18:58</a></span>
      </div>
      <p>“验证apatch文件的签名是否就是在使用apkpatch工具时使用的签名（如果不验证那么任何人都可以制作自己的apatch文件来对你的APP进行修改）<br>验证optimize file的指纹（防止有人替换掉本地保存的补丁文件，所以要验证MD5码”<br><br>这个怎么验证呢？？</p>
      <div class="comment-footer clearfix text-right">
        <a data-id="1786760" class="like pull-left" href="javascript:void(0)">
          <i class="fa fa-heart-o"></i>喜欢<span>(0)</span>
</a>        

        <a data-id="1786760" data-nickname="程序狮" class="reply" href="javascript:void(0)">回复</a>
        
        
      </div>
    <div class="child-comment-list hide">
      
      <div data-state="remaining-child-comments"></div>
    </div>
  </div>
</div>

<div class="note-comment clearfix" id="comment-2310601">
  <div class="content">
      <div class="meta-top">
        <a class="avatar" href="http://www.jianshu.com/users/a837a7b038bc">
          <img src="./AndFix使用说明 - 简书_files/2-65a6e6d032559f3c53475eb61d7ea573.jpg" alt="2">
</a>        <p>
          <a class="author-name" href="http://www.jianshu.com/users/a837a7b038bc">lg500235</a>
        </p>
        <span class="reply-time">
          <small>5 楼 · </small>
          <a href="http://www.jianshu.com/p/479b8c7ec3e3/comments/2310601#comment-2310601">2016.05.09 16:18</a></span>
      </div>
      <p>我在模拟器上2.3.3的环境下运行就crash了，这个支持到那些版本？</p>
      <div class="comment-footer clearfix text-right">
        <a data-id="2310601" class="like pull-left" href="javascript:void(0)">
          <i class="fa fa-heart-o"></i>喜欢<span>(0)</span>
</a>        

        <a data-id="2310601" data-nickname="lg500235" class="reply" href="javascript:void(0)">回复</a>
        
        
      </div>
    <div class="child-comment-list ">
        <div class="child-comment" id="comment-2313731" data-id="2313731">
    <p>
      <a class="blue-link" href="http://www.jianshu.com/users/dab6c56dfff6">seewhy</a>：
      <a href="http://www.jianshu.com/users/a837a7b038bc" class="maleskine-author" target="_blank" data-user-slug="a837a7b038bc">@lg500235</a> 官方说是支持2.3 到 6.0，我估计在模拟器上可能兼容性会差一点。
    </p>
    <div class="child-comment-footer text-right clearfix">
      
      <a data-id="2310601" data-nickname="seewhy" class="reply" href="javascript:void(null)">回复</a>
      
      
      <span class="reply-time pull-left">
        <a href="http://www.jianshu.com/p/479b8c7ec3e3/comments/2313731#comment-2313731">2016.05.09 20:44</a></span>
      
    </div>
  </div>

      <div data-state="remaining-child-comments"></div>
        <div class="comment-toolbar clearfix">
          <span class="pull-right">
            <a data-id="2310601" class="reply" href="javascript:void(null)"><i class="fa fa-pencil"></i> 添加新回复</a>
          </span>
        </div>
    </div>
  </div>
</div>

<div class="note-comment clearfix" id="comment-2345140">
  <div class="content">
      <div class="meta-top">
        <a class="avatar" href="http://www.jianshu.com/users/fb7a8c8a5541">
          <img src="./AndFix使用说明 - 简书_files/13-8072fce67829ce128ba5df823205516c.jpg" alt="13">
</a>        <p>
          <a class="author-name" href="http://www.jianshu.com/users/fb7a8c8a5541">weareshare</a>
        </p>
        <span class="reply-time">
          <small>6 楼 · </small>
          <a href="http://www.jianshu.com/p/479b8c7ec3e3/comments/2345140#comment-2345140">2016.05.12 11:34</a></span>
      </div>
      <p>楼主，你好，我想问一下如何打多个补丁？多个补丁的话，补丁的名字是一样的吗</p>
      <div class="comment-footer clearfix text-right">
        <a data-id="2345140" class="like pull-left" href="javascript:void(0)">
          <i class="fa fa-heart-o"></i>喜欢<span>(0)</span>
</a>        

        <a data-id="2345140" data-nickname="weareshare" class="reply" href="javascript:void(0)">回复</a>
        
        
      </div>
    <div class="child-comment-list ">
        <div class="child-comment" id="comment-2348160" data-id="2348160">
    <p>
      <a class="blue-link" href="http://www.jianshu.com/users/dab6c56dfff6">seewhy</a>：
      <a href="http://www.jianshu.com/users/fb7a8c8a5541" class="maleskine-author" target="_blank" data-user-slug="fb7a8c8a5541">@weareshare</a> 运行过程中多次调用addPatch方法就可以加载多个补丁，补丁的名字需要和之前的都不一样才能被加载。重新启动app后，如果有多个补丁，加载的顺序是按照补丁生成的时间顺序~
    </p>
    <div class="child-comment-footer text-right clearfix">
      
      <a data-id="2345140" data-nickname="seewhy" class="reply" href="javascript:void(null)">回复</a>
      
      
      <span class="reply-time pull-left">
        <a href="http://www.jianshu.com/p/479b8c7ec3e3/comments/2348160#comment-2348160">2016.05.12 15:27</a></span>
      
    </div>
  </div>
  <div class="child-comment" id="comment-2527163" data-id="2527163">
    <p>
      <a class="blue-link" href="http://www.jianshu.com/users/fb7a8c8a5541">weareshare</a>：
      <a href="http://www.jianshu.com/users/dab6c56dfff6" class="maleskine-author" target="_blank" data-user-slug="dab6c56dfff6">@seewhy</a> 那如果名字都不一样，是如何通过代码去动态加载不同名字的补丁文件的？
    </p>
    <div class="child-comment-footer text-right clearfix">
      
      <a data-id="2345140" data-nickname="weareshare" class="reply" href="javascript:void(null)">回复</a>
      
      
      <span class="reply-time pull-left">
        <a href="http://www.jianshu.com/p/479b8c7ec3e3/comments/2527163#comment-2527163">2016.05.25 17:51</a></span>
      
    </div>
  </div>

      <div data-state="remaining-child-comments"></div>
        <div class="comment-toolbar clearfix">
          <span class="pull-right">
            <a data-id="2345140" class="reply" href="javascript:void(null)"><i class="fa fa-pencil"></i> 添加新回复</a>
          </span>
        </div>
    </div>
  </div>
</div>

<div class="note-comment clearfix" id="comment-2510263">
  <div class="content">
      <div class="meta-top">
        <a class="avatar" href="http://www.jianshu.com/users/114a53745cc2">
          <img src="./AndFix使用说明 - 简书_files/c796a739e3c0" alt="100">
</a>        <p>
          <a class="author-name" href="http://www.jianshu.com/users/114a53745cc2">刖2恒</a>
        </p>
        <span class="reply-time">
          <small>7 楼 · </small>
          <a href="http://www.jianshu.com/p/479b8c7ec3e3/comments/2510263#comment-2510263">2016.05.24 11:02</a></span>
      </div>
      <p>楼主，我第一次补丁成功了，可是怎么打第二个补丁啊？在吗   在线等啊，方便的话留个QQ哈  谢谢啦</p>
      <div class="comment-footer clearfix text-right">
        <a data-id="2510263" class="like pull-left" href="javascript:void(0)">
          <i class="fa fa-heart-o"></i>喜欢<span>(0)</span>
</a>        

        <a data-id="2510263" data-nickname="刖2恒" class="reply" href="javascript:void(0)">回复</a>
        
        
      </div>
    <div class="child-comment-list hide">
      
      <div data-state="remaining-child-comments"></div>
    </div>
  </div>
</div>

<div class="note-comment clearfix" id="comment-2527141">
  <div class="content">
      <div class="meta-top">
        <a class="avatar" href="http://www.jianshu.com/users/fb7a8c8a5541">
          <img src="./AndFix使用说明 - 简书_files/13-8072fce67829ce128ba5df823205516c.jpg" alt="13">
</a>        <p>
          <a class="author-name" href="http://www.jianshu.com/users/fb7a8c8a5541">weareshare</a>
        </p>
        <span class="reply-time">
          <small>8 楼 · </small>
          <a href="http://www.jianshu.com/p/479b8c7ec3e3/comments/2527141#comment-2527141">2016.05.25 17:48</a></span>
      </div>
      <p>我是修改了一下加载补丁的顺序。<br> try {<br>                    String apkVersion = PackageInfoUtil.getVersion(getApplicationContext());<br>                    mPatchManager = new PatchManager(this);<br>                    //先去更新补丁文件<br>                    String patchFilePath = Environment.getExternalStorageDirectory().getAbsolutePath() + APATCH_PATCH;<br>                    File patchFile = new File(patchFilePath);<br>                    if (patchFile.exists()) {<br>                        mPatchManager.addPatch(patchFilePath);<br>                        //复制且加载补丁成功后，删除下载的补丁<br>                        File f = new File(this.getFilesDir(), DIR + APATCH_PATCH);<br>                        if (f.exists()) {<br>                            boolean result = new File(patchFilePath).delete();<br>                            if (!result) {<br>                                Log.e(TAG, patchFilePath + "删除补丁失败");<br>                            }<br>                        }<br>                    } else {<br>                        L.d(TAG, "补丁文件不存在");<br>                    }<br>                    //然后再去加载补丁或者删除补丁<br>                    mPatchManager.init(apkVersion);<br>                    mPatchManager.loadPatch();<br>                } catch (IOException e) {<br>                    e.printStackTrace();<br>                } catch (PackageManager.NameNotFoundException e) {<br>                    e.printStackTrace();<br>                }</p>
      <div class="comment-footer clearfix text-right">
        <a data-id="2527141" class="like pull-left" href="javascript:void(0)">
          <i class="fa fa-heart-o"></i>喜欢<span>(0)</span>
</a>        

        <a data-id="2527141" data-nickname="weareshare" class="reply" href="javascript:void(0)">回复</a>
        
        
      </div>
    <div class="child-comment-list hide">
      
      <div data-state="remaining-child-comments"></div>
    </div>
  </div>
</div>

<div class="note-comment clearfix" id="comment-2939240">
  <div class="content">
      <div class="meta-top">
        <a class="avatar" href="http://www.jianshu.com/users/b92236614b0f">
          <img src="./AndFix使用说明 - 简书_files/ae6823c67b22.jpg" alt="100">
</a>        <p>
          <a class="author-name" href="http://www.jianshu.com/users/b92236614b0f">阳翟后生</a>
        </p>
        <span class="reply-time">
          <small>9 楼 · </small>
          <a href="http://www.jianshu.com/p/479b8c7ec3e3/comments/2939240#comment-2939240">2016.06.30 10:14</a></span>
      </div>
      <p>博主，你好，我在写应用的时候没有用过extends Application，请问这个Application这个入口应该怎么写呢？谢谢</p>
      <div class="comment-footer clearfix text-right">
        <a data-id="2939240" class="like pull-left" href="javascript:void(0)">
          <i class="fa fa-heart-o"></i>喜欢<span>(0)</span>
</a>        

        <a data-id="2939240" data-nickname="阳翟后生" class="reply" href="javascript:void(0)">回复</a>
        
        
      </div>
    <div class="child-comment-list hide">
      
      <div data-state="remaining-child-comments"></div>
    </div>
  </div>
</div>


</div>
          <p class="signout-comment">
    <a class="btn btn-info" data-signin-link="true" data-toggle="modal" href="http://www.jianshu.com/sign_in">
      登录后发表评论
</a>  </p>

    </div>
    <!-- -->

  </div>

  <script type="application/json" data-name="note">
    {"id":2488280,"abbr":"原文首发于我的个人博客，欢迎访问(^_^)，转载请注明出处。介绍AndFix，全称是Androidhot-fix。是阿里开源的一个Android热补丁框架，允许APP在不重新发布版本的情况下修复线上的bug。支持Android2.3到6.0。使用方式首先添加依赖compile'com.alipay.euler:andfix:0.3.1@aar'然后在Application.onCreate()中添加以下代码patchManager=newPatchManager(context);patchManag...","slug":"479b8c7ec3e3","url":"http://www.jianshu.com/p/479b8c7ec3e3","image_url":"http://cwb.assets.jianshu.io/notes/images/2488280/weibo/image_75b7d0cec1c0.jpg","wordage":1238,"has_further_readings":false,"views_count":8029,"likes_count":30,"comments_count":11,"rewards_total_count":0}
  </script>

  <script type="application/json" data-name="uuid">
    {"uuid":"79a68787-0eea-417c-839c-c70f0260cfbe"}
  </script>

  <script type="application/json" data-name="author">
    {"id":444956,"nickname":"seewhy","slug":"dab6c56dfff6","public_notes_count":2,"followers_count":48,"total_likes_count":45,"is_current_user":false,"is_signed_author":false}
  </script>


    <div class="include-collection">
      <div class="content">
        <h5>被以下专题收入，发现更多相似内容：</h5>
        <ul id="all-collections" class="unstyled collections-list">
            <li>
              <a class="avatar" href="http://www.jianshu.com/collection/3fde3b545a35"><img src="./AndFix使用说明 - 简书_files/android.graphics.Bitmap_3d178cba.jpeg" alt="180"></a>              <div class="collections-info">
                <h5>
                  <a href="http://www.jianshu.com/collection/3fde3b545a35">Android知识</a>
                </h5>
                
  <div class="btn btn-success follow">
    <a data-signin-link="true" data-toggle="modal" href="http://www.jianshu.com/sign_in"><i class="fa fa-fw fa-plus"></i>  <span>添加关注</span></a>
    <span>17.4K</span>
  </div>

                <p class="description">分享Android开发的知识，教程，解析，前沿信息，都可以，欢迎大家投稿~
内容可搞笑，可逗比，另外欢迎申请管理员
</p>
                <p>
                  <a class="blue-link" href="http://www.jianshu.com/collection/3fde3b545a35">2972篇文章</a> · 17488人关注
                </p>
              </div>
            </li>
            <li>
              <a class="avatar" href="http://www.jianshu.com/collection/58b4c20abf2f"><img src="./AndFix使用说明 - 简书_files/android.graphics.Bitmap_1329dce8.jpeg" alt="180"></a>              <div class="collections-info">
                <h5>
                  <a href="http://www.jianshu.com/collection/58b4c20abf2f">Android技术知识</a>
                </h5>
                
  <div class="btn btn-success follow">
    <a data-signin-link="true" data-toggle="modal" href="http://www.jianshu.com/sign_in"><i class="fa fa-fw fa-plus"></i>  <span>添加关注</span></a>
    <span>2.5K</span>
  </div>

                <p class="description">Android深入理解、基础详解及各种Library使用介绍。认真做技术，好好享受人生。。</p>
                <p>
                  <a class="blue-link" href="http://www.jianshu.com/collection/58b4c20abf2f">1975篇文章</a> · 2553人关注
                </p>
              </div>
            </li>
            <li>
              <a class="avatar" href="http://www.jianshu.com/collection/0dc880a2c73c"><img src="./AndFix使用说明 - 简书_files/ff55916a6a0c2db84ebb1ffdcef539dd.png" alt="180"></a>              <div class="collections-info">
                <h5>
                  <a href="http://www.jianshu.com/collection/0dc880a2c73c">Android开发</a>
                </h5>
                
  <div class="btn btn-success follow">
    <a data-signin-link="true" data-toggle="modal" href="http://www.jianshu.com/sign_in"><i class="fa fa-fw fa-plus"></i>  <span>添加关注</span></a>
    <span>1.6K</span>
  </div>

                <p class="description">Android开发相关知识和技巧，欢迎大家积极投稿~</p>
                <p>
                  <a class="blue-link" href="http://www.jianshu.com/collection/0dc880a2c73c">1463篇文章</a> · 1698人关注
                </p>
              </div>
            </li>
        </ul>
      </div>
    </div>

  <!-- Modal -->
    <div class="modal pay-modal text-center hide fade" id="pay-modal">
  <div class="modal-header clearfix">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
  </div>
  <form id="new_reward" class="new_reward" target="_blank" action="http://www.jianshu.com/notes/2488280/rewards" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="✓"><input type="hidden" name="authenticity_token" value="Jamy3cfo6MZYYnR+r4P1+GLOvbWB7gIToxpG8R9MgZ5KslgF1qIZjxumq0nlMv+KOw3490xYdiGuSFNxmCRpTw==">
    <div class="modal-body">
      <a href="http://www.jianshu.com/users/dab6c56dfff6">
        <div class="avatar"><img src="./AndFix使用说明 - 简书_files/73e23f33a402.png" alt="100"></div>
</a>      <p><i class="fa fa-quote-left pull-left"></i>如果觉得我的文章对您有用，请随意打赏。您的支持将鼓励我继续创作！<i class="fa fa-quote-right pull-right"></i></p>
      <div class="main-inputs text-left">
        <div class="control-group">
          <label for="reward_amount">打赏金额</label><i class="fa fa-yen"></i>
          <input value="2.00" type="text" name="reward[amount_in_yuan]" id="reward_amount_in_yuan">
        </div>
        <div class="control-group message">
          <textarea placeholder="给Ta留言" name="reward[message]" id="reward_message"></textarea>
        </div>
      </div>
      <div class="choose-pay text-left">
        <h5>选择支付方式：</h5>
        <div>
          <label for="reward_channel_alipay">
            <div class="iradio_minimal checked" style="position: relative;"><input type="radio" value="alipay" checked="checked" name="reward[channel]" id="reward_channel_alipay" style="position: absolute; opacity: 0;"><ins class="iCheck-helper" style="position: absolute; top: 0%; left: 0%; display: block; width: 100%; height: 100%; margin: 0px; padding: 0px; border: 0px; opacity: 0; background: rgb(255, 255, 255);"></ins></div>
            <span class="alipay-bg"></span>
</label>
          
          <label for="reward_channel_wx_pub_qr">
            <div class="iradio_minimal" style="position: relative;"><input type="radio" value="wx_pub_qr" name="reward[channel]" id="reward_channel_wx_pub_qr" style="position: absolute; opacity: 0;"><ins class="iCheck-helper" style="position: absolute; top: 0%; left: 0%; display: block; width: 100%; height: 100%; margin: 0px; padding: 0px; border: 0px; opacity: 0; background: rgb(255, 255, 255);"></ins></div>
            微信支付
</label>        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button name="button" type="submit" class="btn btn-large btn-pay">立即支付</button>
    </div>
</form></div>

    <div class="modal success-pay text-center hide fade" id="success-pay">
  <div class="modal-header clearfix">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
  </div>
  <div class="modal-body">
    <h3><i class="icon-ok"></i>打赏成功</h3>
    <img src="./AndFix使用说明 - 简书_files/complete-pay-25426877089eb23bd76d9d0e6aad89c1.png" alt="Complete pay">
  </div>
  <div class="modal-footer">
    
  </div>
</div>

</div>

  </div>
  <div id="flash" class="hide"></div>
  
  <div id="view-mode-modal" tabindex="-1" class="modal hide read-modal" aria-hidden="false" data-js-module="view-mode-modal">
    <div class="btn-group change-background" data-toggle="buttons-radio">
      <a class="btn btn-daytime active" data-mode="day" href="javascript:void(null);">
        <i class="fa fa-sun-o"></i>
</a>      <a class="btn btn-nighttime " data-mode="night" href="javascript:void(null);">
        <i class="fa fa-moon-o"></i>
</a>    </div>
    <div class="btn-group change-font" data-toggle="buttons-radio">
      <a class="btn font " data-font="font1" href="javascript:void(null);">宋体</a>
      <a class="btn font hei active" data-font="font2" href="javascript:void(null);">黑体</a>
    </div>
    <div class="btn-group change-locale" data-toggle="buttons-radio">
      <a class="btn font active" data-locale="zh-CN" href="javascript:void(null);">简</a>
      <a class="btn font hei " data-locale="zh-TW" href="javascript:void(null);">繁</a>
    </div>
  </div>

  

  <script src="./AndFix使用说明 - 简书_files/base-ded41764c207f7ff545c28c670922d25.js"></script>
  
  <script src="./AndFix使用说明 - 简书_files/reading-base-7fc5fa7c6a3993128e61499f23be276d.js"></script>
  <script src="./AndFix使用说明 - 简书_files/note_show-1805bf39f59948b52870922039360dbb.js"></script>
  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-35169517-1']);
  _gaq.push(['_setCustomVar', 2, 'User Type', 'Visitor', 1 ]);
  _gaq.push(['_trackPageview']);

  

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

<script>
(function(){
    var bp = document.createElement('script');
    bp.src = '//push.zhanzhang.baidu.com/push.js';
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


<span style="border-radius: 2px; text-indent: 20px; width: auto; padding: 0px 4px 0px 0px; text-align: center; font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 11px; line-height: 20px; font-family: &quot;Helvetica Neue&quot;, Helvetica, sans-serif; color: rgb(255, 255, 255); position: absolute; opacity: 1; z-index: 8675309; display: none; cursor: pointer; border: none; -webkit-font-smoothing: antialiased; background: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzBweCIgd2lkdGg9IjMwcHgiIHZpZXdCb3g9Ii0xIC0xIDMxIDMxIj48Zz48cGF0aCBkPSJNMjkuNDQ5LDE0LjY2MiBDMjkuNDQ5LDIyLjcyMiAyMi44NjgsMjkuMjU2IDE0Ljc1LDI5LjI1NiBDNi42MzIsMjkuMjU2IDAuMDUxLDIyLjcyMiAwLjA1MSwxNC42NjIgQzAuMDUxLDYuNjAxIDYuNjMyLDAuMDY3IDE0Ljc1LDAuMDY3IEMyMi44NjgsMC4wNjcgMjkuNDQ5LDYuNjAxIDI5LjQ0OSwxNC42NjIiIGZpbGw9IiNmZmYiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIxIj48L3BhdGg+PHBhdGggZD0iTTE0LjczMywxLjY4NiBDNy41MTYsMS42ODYgMS42NjUsNy40OTUgMS42NjUsMTQuNjYyIEMxLjY2NSwyMC4xNTkgNS4xMDksMjQuODU0IDkuOTcsMjYuNzQ0IEM5Ljg1NiwyNS43MTggOS43NTMsMjQuMTQzIDEwLjAxNiwyMy4wMjIgQzEwLjI1MywyMi4wMSAxMS41NDgsMTYuNTcyIDExLjU0OCwxNi41NzIgQzExLjU0OCwxNi41NzIgMTEuMTU3LDE1Ljc5NSAxMS4xNTcsMTQuNjQ2IEMxMS4xNTcsMTIuODQyIDEyLjIxMSwxMS40OTUgMTMuNTIyLDExLjQ5NSBDMTQuNjM3LDExLjQ5NSAxNS4xNzUsMTIuMzI2IDE1LjE3NSwxMy4zMjMgQzE1LjE3NSwxNC40MzYgMTQuNDYyLDE2LjEgMTQuMDkzLDE3LjY0MyBDMTMuNzg1LDE4LjkzNSAxNC43NDUsMTkuOTg4IDE2LjAyOCwxOS45ODggQzE4LjM1MSwxOS45ODggMjAuMTM2LDE3LjU1NiAyMC4xMzYsMTQuMDQ2IEMyMC4xMzYsMTAuOTM5IDE3Ljg4OCw4Ljc2NyAxNC42NzgsOC43NjcgQzEwLjk1OSw4Ljc2NyA4Ljc3NywxMS41MzYgOC43NzcsMTQuMzk4IEM4Ljc3NywxNS41MTMgOS4yMSwxNi43MDkgOS43NDksMTcuMzU5IEM5Ljg1NiwxNy40ODggOS44NzIsMTcuNiA5Ljg0LDE3LjczMSBDOS43NDEsMTguMTQxIDkuNTIsMTkuMDIzIDkuNDc3LDE5LjIwMyBDOS40MiwxOS40NCA5LjI4OCwxOS40OTEgOS4wNCwxOS4zNzYgQzcuNDA4LDE4LjYyMiA2LjM4NywxNi4yNTIgNi4zODcsMTQuMzQ5IEM2LjM4NywxMC4yNTYgOS4zODMsNi40OTcgMTUuMDIyLDYuNDk3IEMxOS41NTUsNi40OTcgMjMuMDc4LDkuNzA1IDIzLjA3OCwxMy45OTEgQzIzLjA3OCwxOC40NjMgMjAuMjM5LDIyLjA2MiAxNi4yOTcsMjIuMDYyIEMxNC45NzMsMjIuMDYyIDEzLjcyOCwyMS4zNzkgMTMuMzAyLDIwLjU3MiBDMTMuMzAyLDIwLjU3MiAxMi42NDcsMjMuMDUgMTIuNDg4LDIzLjY1NyBDMTIuMTkzLDI0Ljc4NCAxMS4zOTYsMjYuMTk2IDEwLjg2MywyNy4wNTggQzEyLjA4NiwyNy40MzQgMTMuMzg2LDI3LjYzNyAxNC43MzMsMjcuNjM3IEMyMS45NSwyNy42MzcgMjcuODAxLDIxLjgyOCAyNy44MDEsMTQuNjYyIEMyNy44MDEsNy40OTUgMjEuOTUsMS42ODYgMTQuNzMzLDEuNjg2IiBmaWxsPSIjYmQwODFjIj48L3BhdGg+PC9nPjwvc3ZnPg==&quot;) 3px 50% / 14px 14px no-repeat rgb(189, 8, 28);">Save</span></body></html>