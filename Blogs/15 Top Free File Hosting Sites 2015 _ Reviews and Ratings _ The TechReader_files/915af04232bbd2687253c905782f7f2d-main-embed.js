function start_modalLoginSignup(){setMode_loginSignupModal("signup"),document.getElementById("submit_loginSignupModal")&&(document.getElementById("submit_loginSignupModal").disabled=!1,document.getElementById("loginSignup").onsubmit=validateForm_loginSignupModal)}function close_loginModal(){$(".fade , .popupbox").fadeOut()}function set_login_signup(e){document.getElementById("displayResponse_loginSignupModal").innerHTML="",document.getElementById("userNameError").innerHTML="",document.getElementById("emailError").innerHTML="",document.getElementById("passwordError").innerHTML="",$("#loginSignupModal .validation").hide(),"signup"===e?(insticator_LoginSignup_mode="signup",$("#signorlogin").val("signup"),document.getElementById("div_userName").style.display="block",$(".ss-submit").attr("value","SIGN UP"),$(".ss-login").show(),$(".ss-sign").hide()):(insticator_LoginSignup_mode="login",$("#signorlogin").val("login"),document.getElementById("div_userName").style.display="none",$(".ss-submit").attr("value","LOGIN"),$(".ss-login").hide(),$(".ss-sign").show())}function facebookLogin(){var e;return e=getFacebookAuthURL("login")}function openUrl(e){console.log(e);{var t=600,n=500,r=($(window).width()-t)/2,a=($(window).height()-n)/2;window.open(e,"LoginWindow","location=1,scrollbars=no,width="+t+",height="+n+",left="+r+",top="+a)}close_loginModal()}function toggle_loginSignupModal(){var e=getMode_loginSignupModal();"signup"===e?setMode_loginSignupModal("login"):"login"===e&&setMode_loginSignupModal("signup")}function validateForm_loginSignupModal(){document.getElementById("submit_loginSignupModal").disabled=!0;var e="",t="",n=document.getElementById("email").value,r=document.getElementById("password").value,a=/^[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[a-zA-Z0-9](?:[\w-]*[\w])?$/,i=/^\S{5,16}$/;0===n.length?(e+="Please specify a valid e-mail",$("#emailError").show()):n.length<4?(e+="E-mail must contain at least 4 characters",$("#emailError").show()):a.test(n)||(e+="Please provide a valid e-mail address",$("#emailError").show()),0===r.length?(t+="Please enter the password<br/>",$("#passwordError").show()):r.length<5?(t+="Password length must exceed 5 characters.",$("#passwordError").show()):i.test(r)||(t+="Password requires a valid string of input.",$("#passwordError").show());var o="";if("signup"===getMode_loginSignupModal()){var l=document.getElementById("userName").value,s=/^[A-Za-z0-9 ]{2,20}$/;if(0===l.length)o+="Please enter a username",$("#userNameError").show();else if(l.length>20)o+="Username cannot exceed 20 characters.",$("#userNameError").show();else if(l.length<2)o+="Username must contain at least 3 characters.",$("#userNameError").show();else if(s.test(l)){var u=evertest.userNameCheck(l);u.success(function(e){"false"==e&&(o+="Already exsits, please use a another username.<br/>",$("#userNameError").show())})}else o+="Please provide a valid username<br/>",$("#userNameError").show()}return 0===o.length&&0===e.length&&0===t.length?(evertest.loginSignupModal(getMode_loginSignupModal()),document.getElementById("submit_loginSignupModal").disabled=!1,!1):("signup"===getMode_loginSignupModal()&&(document.getElementById("userNameError").innerHTML=""+o),document.getElementById("emailError").innerHTML=""+e,document.getElementById("passwordError").innerHTML=""+t,document.getElementById("submit_loginSignupModal").disabled=!1,!1)}function handleGetResponse(e,t){if("success"===e)$(".signinClass").fadeOut("fast"),refreshPage();else{var n=t;"Facebook User Exist"==n?(setMode_loginSignupModal("login"),$("#facebookUserValidation").html("Hi it appears you already have an Insticator account <br>connected to your Facebook Profile. <br>Please login with Facebook to access your account."),$("#facebookUserValidation").show()):"Invalid Email"==n?(setMode_loginSignupModal("signup"),$("#emailError").html("Please use a valid email address."),$("#emailError").show()):(document.getElementById("displayResponse_loginSignupModal").innerHTML="Sorry, wrong email or password: ",$("#displayResponse_loginSignupModal").show())}return!1}function createDataObj_loginSignupModal(){var e,t=["userName","email","password","widgetSettingUUID"],n=getMode_loginSignupModal();return"signup"===n?e="type="+n+"&userName="+document.getElementById(t[0]).value+"&email="+document.getElementById(t[1]).value+"&password="+document.getElementById(t[2]).value+"&widgetSettingUUID="+document.getElementById(t[3]).value+"&redirectURL="+document.URL:"login"===n&&(e="type="+n+"&email="+document.getElementById(t[1]).value+"&password="+document.getElementById(t[2]).value+"&redirectURL"+document.URL),e}function parseJSON(e){try{return JSON.parse(e)}catch(t){return e}}function isJSON(e){var t="false";try{return JSON.parse(e),"true"}catch(n){return"false"}return t}function getMode_loginSignupModal(){return"signup"===insticator_LoginSignup_mode?"signup":"login"===insticator_LoginSignup_mode?"login":"error"}function setMode_loginSignupModal(e){document.getElementById("displayResponse_loginSignupModal").innerHTML="",document.getElementById("userNameError").innerHTML="",document.getElementById("emailError").innerHTML="",document.getElementById("passwordError").innerHTML="",$("#loginSignupModal .validation").hide(),"signup"===e&&"signup"!=$("#signorlogin").val()?(insticator_LoginSignup_mode="signup",$("#signorlogin").val("signup"),document.getElementById("div_userName").style.display="block",$(".ss-submit").attr("value","SIGN UP"),$(".ss-sign").hide(),$(".ss-login").show()):"login"===e&&"login"!=$("#signorlogin").val()&&(insticator_LoginSignup_mode="login",$("#signorlogin").val("login"),document.getElementById("div_userName").style.display="none",$(".ss-submit").attr("value","LOGIN"),$(".ss-sign").show(),$(".ss-login").hide())}function setFocus(){$(document).keyup(function(e){27==e.keyCode})}function setBlur(){var e=document.getElementById("email").value.trim(),t=/^[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[a-zA-Z0-9](?:[\w-]*[\w])?$/;t.test(e)&&e&&evertest.isEmailExists(e)}function contactValidation(){$(".section-text .valid-alert").removeClass("valid-alert"),$(".section-text .alert").remove(),$(".contactVal").each(function(){""==$(this).val().trim()&&($(this).addClass("valid-alert"),$(this).after('<div class="validation alert">'+$(this).attr("emptyVal")+"</div>"))});var e=$("#businussemail").val().trim(),t=/^[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[a-zA-Z0-9](?:[\w-]*[\w])?$/;return t.test(e)||""==e||($("#businussemail").addClass("valid-alert"),$("#businussemail").after('<div class="validation alert">Please type a valid email address</div>')),0==$(".section-text .alert").length?!0:!1}function validatePassword_VerifyPassword(){var e="",t=$("#newPassword1").val(),n=$("#newPassword2").val();if(0===t.length?(e+="Please enter your password<br/>",$("#passwordError1").show()):t.length<5?(e+="password less than five characters <br/>",$("#passwordError1").show()):"string"!=typeof t&&(e+="password requires a valid String input<br/>",$("#passwordError1").show()),0==e.length){if(t==n){var r=getUniqueCode();return CheckNewPassword(n,r),!1}return $("#passwordError2").html("Passwords don't match"),$("#passwordError1").html(""),$("#passwordError2").show(),$("#passwordError1").hide(),!1}return $("#passwordError1").html(""+e),$("#passwordError2").html(""),$("#passwordError1").show(),$("#passwordError2").hide(),!1}function getUniqueCode(){var e=$(location).attr("href"),t=e.split("checkCode=")[1],n=t.substring(0,32);return n}function getFacebookAuthURL(e){var t="",n=$("#evertestURL").val()+"/oauth/facebook?embedUUID="+$("#widgetSettingUUID").val();return"login"==e?t="https://www.facebook.com/v2.0/dialog/oauth?client_id="+Insticator_FaceBook_ConsumerKey+"&redirect_uri="+encodeURI(n):"inviteFriends"==e&&(t="https://www.facebook.com/v2.0/dialog/oauth?client_id="+Insticator_FaceBook_ConsumerKey+"&redirect_uri="+encodeURI($("#evertestURL").val())+"%2Foauth%2FfacebookInviteFriends&scope=email%2Cuser_likes&display=popup"),t}function App42Album(){App42Service.call(this);var e=this;this.createAlbum=function(t,n,r,a){var i=App42.URL("gallery/album/"+t);if(null!=t&&null!=n&&null!=r&&(t=t.trim(),n=n.trim(),r=r.trim()),""==t||""==n||""==r||null==t||null==n||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),App42Fault.throwExceptionIfNullOrBlank(n,"albumName"),void App42Fault.throwExceptionIfNullOrBlank(r,"albumDescription");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l),u='{"app42":{"album":{"name":"'+n+'","description":"'+r+'"}}}';o.body=u,App42Connection.post(i,o,u,a,s)},this.getAlbums=function(t,n){if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"userName");var r=App42.URL("gallery/album/"+t),a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.userName=t,App42Connection.get(r,a,n,null,o)},this.getAlbumsByPaging=function(t,n,r,a){var i=App42.URL("gallery/album/"+t+"/"+n+"/"+r);if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"userName");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l);o.userName=t,o.offset=r,o.max=n,App42Connection.get(i,o,a,null,s)},this.getAlbumsCount=function(t,n){var r=App42.URL("gallery/album/"+t+"/count");if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"userName");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.userName=t,App42Connection.get(r,a,n,null,o)},this.getAlbumByName=function(t,n,r){var a=App42.URL("gallery/album/"+t+"/"+n);if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),void App42Fault.throwExceptionIfNullOrBlank(n,"albumName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.userName=t,i.albumName=n,App42Connection.get(a,i,r,null,l)},this.removeAlbum=function(t,n,r){var a=App42.URL("gallery/"+t+"/"+n);if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),void App42Fault.throwExceptionIfNullOrBlank(n,"albumName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.userName=t,i.albumName=n,App42Connection.del(a,i,r,l)}}function App42Achievement(){App42Service.call(this);var e=this;this.createAchievement=function(t,n,r){var a=App42.URL("achievement");if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"name"),void App42Fault.throwExceptionIfNullOrBlank(n,"description");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o),s='{"app42":{"achievement":{"name":"'+t+'","description":"'+n+'"}}}';i.body=s,App42Connection.post(a,i,s,r,l)},this.earnAchievement=function(t,n,r,a,i){var o=App42.URL("achievement/earn");if(null!=t&&null!=n&&null!=r&&null!=a&&(t=t.trim(),n=n.trim(),r=r.trim(),a=a.trim()),""==t||""==n||null==t||null==n||""==r||null==r||""==a||null==a)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),App42Fault.throwExceptionIfNullOrBlank(n,"achievementName"),App42Fault.throwExceptionIfNullOrBlank(r,"gameName"),void App42Fault.throwExceptionIfNullOrBlank(a,"description");var l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s),p='{"app42":{"achievement":{"userName":"'+t+'","name":"'+n+'","gameName":"'+r+'","description":"'+a+'"}}}';l.body=p,App42Connection.post(o,l,p,i,u)},this.getAllAchievementsForUser=function(t,n){if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"userName");var r=App42.URL("achievement/"+t),a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.userName=t,App42Connection.get(r,a,n,null,o)},this.getAllAchievementsForUserInGame=function(t,n,r){if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||null==t||""==n||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),void App42Fault.throwExceptionIfNullOrBlank(n,"gameName");var a=App42.URL("achievement/"+t+"/"+n),i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.userName=t,i.gameName=n,App42Connection.get(a,i,r,null,l)},this.getAllAchievements=function(t){var n=App42.URL("achievement/all"),r=e.populateSignParams(),a=e.populateMetaHeaderParams(),i=__merge(r,a);App42Connection.get(n,r,t,null,i)},this.getAchievementByName=function(t,n){if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"achievementName");var r=App42.URL("achievement/achievementName/"+t),a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.achievementName=t,App42Connection.get(r,a,n,null,o)},this.getUsersAchievement=function(t,n,r){if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||null==t||""==n||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"achievementName"),void App42Fault.throwExceptionIfNullOrBlank(n,"gameName");var a=App42.URL("achievement/users/"+t+"/"+n),i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.achievementName=t,i.game=n,App42Connection.get(a,i,r,null,l)}}function App42ABTest(){App42Service.call(this);var e=this;this.goalAchieved=function(t,n,r){var a=App42.URL("abtest/goal-achieved");if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"testName"),void App42Fault.throwExceptionIfNullOrBlank(n,"variantName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o),s='{"app42":{"abtest":{"name":"'+t+'","variantName":"'+n+'"}}}';i.body=s,App42Connection.post(a,i,s,r,l)},this.executeDataDriven=function(t,n){var r=App42.URL("abtest/execute/data-driven");if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"testName");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i),l='{"app42":{"abtest":{"name":"'+t+'"}}}';a.body=l,App42Connection.post(r,a,l,n,o)},this.execute=function(t,n){var r=App42.URL("abtest/execute");if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"testName");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i),l='{"app42":{"abtest":{"name":"'+t+'"}}}';a.body=l,App42Connection.post(r,a,l,n,o)},this.isActive=function(t,n){var r=App42.URL("abtest/isActive/"+t);if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"testName");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.testName=t,App42Connection.get(r,a,n,null,o)}}function checkPermissionType(e){return Permission.READ==e?"R":Permission.WRITE==e?"W":null}function App42Exception(e,t){this.name="App42Exception";var n;""==e?n=t+" parameter can not be blank":null==e?n=t+" parameter can not be null":"PaymentStatus"==e?n="Invalid Status ("+t+"). Could be either AUTHORIZED or UNAUTHORIZED or DECLINED":"DeviceType"==e?n="Invalid device ("+t+"). Could be either ANDROID or WP7 or iOS":"FileType"==e?n="Invalid fileType ("+t+").Could be either AUDIO or VIDEO or IMAGE or BINARY or TXT or XML or CSV or JSON or OTHER":e!=t&&(n=t+" address is not valid"),n=n,this.message=n||""}function getODataUTCDateFilter(e){var t,n=(e.getUTCMonth()+1).toString();t=1==n.length?"0"+n:n;var r,a=e.getUTCDate().toString();r=1==a.length?"0"+a:a;var i="";return i+=e.getUTCFullYear()+"-",i+=t+"-",i+=r,i+="T"+e.getUTCHours()+":",i+=e.getUTCMinutes()+":",i+=e.getUTCSeconds()+".",i+=e.getUTCMilliseconds(),i+="Z"}function sortAssoc(e){var t=[];for(var n in e)t.push([n,e[n]]);t.sort(function(e,t){return e[0]>t[0]?-1:e[0]<t[0]?1:0});for(var r="",a=[],i=t.length-1;i>=0;i--)a[t[i][0]]=t[i][1],r+=t[i][0]+t[i][1];return r}function createCORSRequest(e,t,n,r,a,i,o,l,s,u,p,c){var d=createXMLHTTPObject();d.open(e,t,!0),d.setRequestHeader("Accept","application/json"),d.setRequestHeader("signature",r),("POST"==e||"PUT"==e)&&d.setRequestHeader("Content-Type","application/json");for(var f in c){var m=c[f];d.setRequestHeader(f.toString(),m)}d.onreadystatechange=function(){if(4==d.readyState)if(200==d.status){if(1==sessionRequest){sessionRequest=!1;var e=JSON.parse(d.responseText);if(void 0!=e.app42.response.users){var t=e.app42.response.users.user.sessionId;void 0!=localStorage&&localStorage.setItem("_App42_SessionId",t)}}if(1==sessionInvalidate){sessionInvalidate=!1;var n=JSON.parse(d.responseText),r=n.app42.response.success;r&&localStorage.removeItem("_App42_SessionId")}o.success(d.responseText)}else 200!=d.status&&o.error(d.responseText)},d.send(i)}function multipartCORSRequest(e,t,n,r,a,i,o,l,s,u,p,c,d){var f=new FormData;null!=i.userName&&f.append("userName",i.userName),null!=i.type?(f.append("uploadFile",o),f.append("name",i.name),f.append("type",i.type),f.append("description",i.description)):null!=i.itemId?(f.append("imageFile",o),f.append("name",i.name),f.append("itemId",i.itemId),f.append("description",i.description),f.append("price",i.price)):null!=i.avatarName?(f.append("createAvatar",o),f.append("avatarName",i.avatarName),f.append("userName",i.userName),f.append("description",i.description)):null!=i.accessToken?null!=i.userId?(f.append("uploadFile",o),f.append("name",i.name),f.append("accessToken",i.accessToken),f.append("userId",i.userId),f.append("message",i.message)):(f.append("uploadFile",o),f.append("name",i.name),f.append("accessToken",i.accessToken),f.append("message",i.message)):(f.append("imageFile",o),f.append("name",i.name),f.append("height",i.height),f.append("width",i.width),f.append("x",i.x),f.append("y",i.y),f.append("percentage",i.percentage),f.append("formatToConvert",i.formatToConvert)),__createMultipartCORSRequest(e,t,r,f,l,d)}function multipartCORSRequestForPhoto(e,t,n,r,a,i,o,l,s,u,p,c,d){var f=new FormData;f.append("imageFile",o),f.append("userName",i.userName),f.append("albumName",i.albumName),f.append("name",i.name),f.append("description",i.description),__createMultipartCORSRequest(e,t,r,f,l,d)}function __createMultipartCORSRequest(e,t,n,r,a,i){var o=createXMLHTTPObject();o.open(e,t,!0),o.setRequestHeader("Accept","application/json"),o.setRequestHeader("signature",n);for(var l in i){var s=i[l];o.setRequestHeader(l.toString(),s)}o.onreadystatechange=function(){4==o.readyState&&(200==o.status?a.success(o.responseText):200!=o.status&&a.error(o.responseText))},o.send(r)}function createXMLHTTPObject(){for(var e=!1,t=0;t<XMLHttpFactories.length;t++){try{e=XMLHttpFactories[t]()}catch(n){continue}break}return e}function pair(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function guid(){return pair()+pair()+"-"+pair()+"-"+pair()+"-"+pair()+"-"+pair()+pair()+pair()}function checkOperatorType(e){return myObject.EQUALS==e?"$eq":myObject.NOT_EQUALS==e?"$ne":myObject.GREATER_THAN==e?"$gt":myObject.LESS_THAN==e?"$lt":myObject.GREATER_THAN_EQUALTO==e?"$gte":myObject.LESS_THAN_EQUALTO==e?"$lte":myObject.LIKE==e?"$lk":myObject.AND==e?"$and":myObject.OR==e?"$or":null}function checkGeoOperatorType(e){return GeoOperator.NEAR==e?"$near":GeoOperator.WITHIN==e?"$within":null}function getStr(e){var t=JSON.stringify(e);return t}function QueryBuilder(){this.build=function(e,t,n){if(null!=e&&null!=t&&null!=t&&(e=e.trim(),n=n.trim()),""==e||""==n||null==e||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(e,"key"),App42Fault.throwExceptionIfNullOrBlank(t,"value"),void App42Fault.throwExceptionIfNullOrBlank(n,"operator");var r=[],a={key:e,operator:n,value:t};return r.push(a),r},this.buildGeoQuery=function(e,t,n){checkGeoOperatorType(t);var r=[],a={lat:e.getLat(),lng:e.getLng(),operator:t,maxDistance:n};return r.push(a),r},this.compoundOperator=function(e,t,n){for(var r=[],a={compoundOpt:t},i=0;i<e.length;i++)r.push(e[i]);r.push(a);for(var o=0;o<n.length;o++)r.push(n[o]);return r}}function App42User(){function e(e){var t={};return t.dateOfBirth=e.dateOfBirth,t.lastName=e.lastName,t.sex=e.sex,t.officeLandLine=e.officeLandLine,t.homeLandLine=e.homeLandLine,t.state=e.state,t.firstName=e.firstName,t.country=e.country,t.city=e.city,t.mobile=e.mobile,JSON.stringify(t)}n={},App42Service.call(this);var t=this;this.createUser=function(e,n,r,a){var i=App42.URL("user");if(null!=e&&null!=n&&null!=r&&(e=e.trim(),n=n.trim(),r=r.trim()),""==e||""==n||""==r||null==e||null==n||null==r)return App42Fault.throwExceptionIfNullOrBlank(n,"pwd"),App42Fault.throwExceptionIfNullOrBlank(e,"userName"),void App42Fault.throwExceptionIfNullOrBlank(r,"email");var o=t.populateSignParams(),l=t.populateMetaHeaderParams(),s=__merge(o,l),u='{"app42":{"user":{"userName":"'+e+'","password":"'+n+'","email":"'+r+'"}}}';o.body=u,sessionRequest=!0,App42Connection.post(i,o,u,a,s)},this.createOrUpdateProfile=function(r,a){var i=App42.URL("user/profile");if(null!=r&&(r=r.trim()),""==r||null==r)return void App42Fault.throwExceptionIfNullOrBlank(r,"userName");var o=t.populateSignParams(),l=t.populateMetaHeaderParams(),s=__merge(o,l),u=e(n),p='{"app42":{"user":{"userName":"'+r+'","profileData":'+u+"}}}";o.body=p,App42Connection.put(i,o,p,a,s)},this.getUser=function(e,n){if(null!=e&&(e=e.trim()),""==e||null==e)return void App42Fault.throwExceptionIfNullOrBlank(e,"userName");var r=App42.URL("user/"+e),a=t.populateSignParams(),i=t.populateMetaHeaderParams(),o=__merge(a,i);a.userName=e,App42Connection.get(r,a,n,null,o)},this.getUserByEmailId=function(e,n){if(null!=e&&(e=e.trim()),""==e||null==e)return void App42Fault.throwExceptionIfNullOrBlank(e,"emailId");var r=App42.URL("user/email/"+e),a=t.populateSignParams(),i=t.populateMetaHeaderParams(),o=__merge(a,i);a.emailId=e,App42Connection.get(r,a,n,null,o)},this.getAllUsers=function(e){var n=App42.URL("user"),r=t.populateSignParams(),a=t.populateMetaHeaderParams(),i=__merge(r,a);App42Connection.get(n,r,e,null,i)},this.changeUserPassword=function(e,n,r,a){if(null!=e&&null!=n&&null!=r&&(e=e.trim(),n=n.trim(),r=r.trim()),""==e||""==n||""==r||null==e||null==n||null==r)return App42Fault.throwExceptionIfNullOrBlank(e,"userName"),App42Fault.throwExceptionIfNullOrBlank(n,"oldPwd"),void App42Fault.throwExceptionIfNullOrBlank(r,"newPwd");var i=App42.URL("user/changeUserPassword"),o=t.populateSignParams(),l=t.populateMetaHeaderParams(),s=__merge(o,l),u='{"app42":{"user":{"userName":"'+e+'","newPassword":"'+r+'","oldPassword":"'+n+'"}}}';o.body=u,App42Connection.put(i,o,u,a,s)},this.authenticate=function(e,n,r){if(null!=e&&null!=n&&(e=e.trim(),n=n.trim()),""==e||""==n||null==e||null==n)return App42Fault.throwExceptionIfNullOrBlank(e,"uName"),void App42Fault.throwExceptionIfNullOrBlank(n,"pwd");var a=App42.URL("user/authenticate"),i=t.populateSignParams(),o=t.populateMetaHeaderParams(),l=__merge(i,o),s='{"app42":{"user":{"userName":"'+e+'","password":"'+n+'"}}}';i.body=s,sessionRequest=!0,App42Connection.post(a,i,s,r,l)},this.deleteUser=function(e,n){if(null!=e&&(e=e.trim()),null==e||""==e)return void App42Fault.throwExceptionIfNullOrBlank(e,"userName");var r=App42.URL("user/"+e),a=t.populateSignParams(),i=t.populateMetaHeaderParams(),o=__merge(a,i);a.userName=e,App42Connection.del(r,a,n,o)},this.resetUserPassword=function(e,n){var r=App42.URL("user/resetAppUserPassword");if(null!=e&&(e=e.trim()),null==e||""==e)return void App42Fault.throwExceptionIfNullOrBlank(e,"userName");var a=t.populateSignParams(),i=t.populateMetaHeaderParams(),o=__merge(a,i),l='{"app42":{"user":{"userName":"'+e+'"}}}';a.body=l,App42Connection.put(r,a,l,n,o)},this.logout=function(e,n){var r=App42.URL("session"),a=t.populateSignParams(),i=t.populateMetaHeaderParams(),o=__merge(a,i),l='{"app42":{"session":{"id":"'+e+'"}}}';a.body=l,sessionInvalidate=!0,App42Connection.put(r,a,l,n,o)},this.setFirstName=function(e){n.firstName=e},this.setLastName=function(e){n.lastName=e},this.setSex=function(e){n.sex=e},this.setState=function(e){n.state=e},this.setDateOfBirth=function(e){n.dateOfBirth=getODataUTCDateFilter(e)},this.setOfficeLandLine=function(e){n.officeLandLine=e},this.setCountry=function(e){n.country=e},this.setCity=function(e){n.city=e},this.setMobile=function(e){n.mobile=e},this.setHomeLandLine=function(e){n.homeLandLine=e};var n={}}function checkFileType(e){if(myObject.AUDIO==e||myObject.VIDEO==e||myObject.IMAGE==e||myObject.BINARY==e||myObject.TXT==e||myObject.XML==e||myObject.CSV==e||myObject.JSON==e||myObject.OTHER==e)return e;throw new App42Exception("FileType",e)}function App42Upload(){App42Service.call(this);var e=this;this.uploadFile=function(t,n,r,a,i){var o=App42.URL("upload");if(checkFileType(r),null!=t&&null!=r&&null!=a&&(t=t.trim(),r=r.trim(),a=a.trim()),""==t||null==t||null==a||""==a||null==n||""==n||""==r||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"name"),App42Fault.throwExceptionIfNullOrBlank(r,"fileType"),void App42Fault.throwExceptionIfNullOrBlank(a,"description");var l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s);l.name=t,l.type=r,l.description=a,App42Connection.multipart(o,l,n,i,u)},this.uploadFileForUser=function(t,n,r,a,i,o){var l=App42.URL("upload/"+n);if(checkFileType(a),null!=t&&null!=n&&null!=a&&null!=i&&(t=t.trim(),n=n.trim(),a=a.trim(),i=i.trim()),""==t||null==t||""==n||null==n||null==i||""==i||null==r||""==r||""==a||null==a)return App42Fault.throwExceptionIfNullOrBlank(t,"name"),App42Fault.throwExceptionIfNullOrBlank(n,"userName"),App42Fault.throwExceptionIfNullOrBlank(a,"fileType"),void App42Fault.throwExceptionIfNullOrBlank(i,"description");var s=e.populateSignParams(),u=e.populateMetaHeaderParams(),p=__merge(s,u);s.name=t,s.userName=n,s.type=a,s.description=i,App42Connection.multipart(l,s,r,o,p)},this.getAllFiles=function(t){var n=App42.URL("upload"),r=e.populateSignParams(),a=e.populateMetaHeaderParams(),i=__merge(r,a);App42Connection.get(n,r,t,null,i)},this.getAllFilesByPaging=function(t,n,r){var a=App42.URL("upload/paging/"+t+"/"+n),i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.max=t,i.offset=n,App42Connection.get(a,i,r,null,l)},this.getFileByUser=function(t,n,r){var a=App42.URL("upload/"+n+"/"+t);if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||null==t||null==n||""==n)return App42Fault.throwExceptionIfNullOrBlank(t,"fileName"),void App42Fault.throwExceptionIfNullOrBlank(n,"userName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.name=t,i.userName=n,App42Connection.get(a,i,r,null,l)},this.getFileByName=function(t,n){var r=App42.URL("upload/"+t);if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"fileName");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.name=t,App42Connection.get(r,a,n,null,o)},this.getFilesByType=function(t,n){var r=App42.URL("upload/type/"+checkFileType(t));if(checkFileType(t),null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"fileType");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.type=checkFileType(t),App42Connection.get(r,a,n,null,o)},this.getFilesCountByType=function(t,n){checkFileType(t);var r=App42.URL("upload/type/"+checkFileType(t)+"/count");if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"fileType");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.type=checkFileType(t),App42Connection.get(r,a,n,null,o)},this.getFilesByTypeByPaging=function(t,n,r,a){var i=App42.URL("upload/type/"+checkFileType(t)+"/"+n+"/"+r);if(null!=t&&null!=n&&null!=r&&(t=t.trim()),""==t||null==t||""==n||null==n||""==r||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"fileType"),App42Fault.throwExceptionIfNullOrBlank(n,"max"),void App42Fault.throwExceptionIfNullOrBlank(r,"offset");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l);o.type=checkFileType(t),o.max=n,o.offset=r,App42Connection.get(i,o,a,null,s)},this.getAllFilesCountByUser=function(t,n){var r=App42.URL("upload/user/"+t+"/count");if(null!=t&&(t=t.trim()),null==t||""==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"userName");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.userName=t,App42Connection.get(r,a,n,null,o)},this.removeAllFiles=function(t){var n=App42.URL("upload"),r=e.populateSignParams(),a=e.populateMetaHeaderParams(),i=__merge(r,a);App42Connection.del(n,r,t,i)},this.removeFileByName=function(t,n){var r=App42.URL("upload/"+t);if(null!=t&&(t=t.trim()),null==t||""==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"file Name");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.name=t,App42Connection.del(r,a,n,o)},this.removeAllFilesByUser=function(t,n){var r=App42.URL("upload/user/"+t);if(null!=t&&(t=t.trim()),null==t||""==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"userName");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.userName=t,App42Connection.del(r,a,n,o)},this.removeFileByUser=function(t,n,r){var a=App42.URL("upload/"+n+"/"+t);if(null!=n&&null!=t&&(t=t.trim(),n=n.trim()),null==t||""==t||null==n||""==n)return App42Fault.throwExceptionIfNullOrBlank(t,"fileName"),void App42Fault.throwExceptionIfNullOrBlank(n,"userName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.name=t,i.userName=n,App42Connection.del(a,i,r,l)},this.getAllFilesByUser=function(t,n){var r=App42.URL("upload/user/"+t);if(null!=t&&(t=t.trim()),null==t||""==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"userName");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.userName=t,App42Connection.get(r,a,n,null,o)},this.getAllFilesCount=function(t){var n=App42.URL("upload/count"),r=e.populateSignParams(),a=e.populateMetaHeaderParams(),i=__merge(r,a);App42Connection.get(n,r,t,null,i)},this.getAllFilesByUserWithPaging=function(t,n,r,a){var i=App42.URL("upload/user/"+t+"/"+n+"/"+r);if(null!=t&&(t=t.trim()),null==t||""==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"userName");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l);o.userName=t,o.max=n,o.offset=r,App42Connection.get(i,o,a,null,s)},this.grantAccess=function(t,n,r,a){var i=App42.URL("upload/grantAccess/"+n+"/"+t);if(null!=n&&null!=t&&(n=n.trim(),t=t.trim()),""==n||""==t||null==n||null==t)return App42Fault.throwExceptionIfNullOrBlank(n,"userName"),void App42Fault.throwExceptionIfNullOrBlank(t,"fileName");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l);o.fileName=t,o.userName=n;var u=new Array;if(r instanceof Array)for(var p=0;p<r.length;p++){var c,d=r[p].user;checkPermissionType(c),c=r[p].permission;var f={user:d,permission:c};u.push(f)}else{var m,h=r.user;checkPermissionType(m),m=r.permission;var g={user:h,permission:m};u.push(g)}var v=JSON.stringify(u),y='{"acl":'+v+"}",b=JSON.stringify(y),w='{"app42":{"upload":{"acls":'+b+"}}}}";o.body=w,App42Connection.put(i,o,w,a,s)},this.revokeAccess=function(t,n,r,a){var i=App42.URL("upload/revokeAccess/"+n+"/"+t);if(null!=n&&null!=t&&(n=n.trim(),t=t.trim()),""==n||""==t||null==n||null==t)return App42Fault.throwExceptionIfNullOrBlank(n,"userName"),void App42Fault.throwExceptionIfNullOrBlank(t,"fileName");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l);o.fileName=t,o.userName=n;var u=new Array;if(r instanceof Array)for(var p=0;p<r.length;p++){var c,d=r[p].user;checkPermissionType(c),c=r[p].permission;var f={user:d,permission:c};u.push(f)}else{var m,h=r.user;checkPermissionType(m),m=r.permission;var g={user:h,permission:m};u.push(g)}var v=JSON.stringify(u),y='{"acl":'+v+"}",b=JSON.stringify(y),w='{"app42":{"upload":{"acls":'+b+"}}}}";o.body=w,App42Connection.put(i,o,w,a,s)},this.uploadFileForGroup=function(t,n,r,a,i,o,l,s){checkFileType(o);var u=App42.URL("upload/group/"+n);if(null!=t&&null!=n&&null!=r&&null!=a&&null!=o&&null!=l&&(t=t.trim(),n=n.trim(),r=r.trim(),a=a.trim(),o=o.trim(),l=l.trim()),""==n||null==n||""==r||null==r||null==a||""==a||""==t||null==t||null==l||""==l||null==i||""==i||""==o||null==o)return App42Fault.throwExceptionIfNullOrBlank(t,"name"),App42Fault.throwExceptionIfNullOrBlank(o,"fileType"),App42Fault.throwExceptionIfNullOrBlank(l,"description"),App42Fault.throwExceptionIfNullOrBlank(n,"userName"),App42Fault.throwExceptionIfNullOrBlank(r,"ownerName"),void App42Fault.throwExceptionIfNullOrBlank(a,"groupName");
var p=e.populateSignParams(),c=e.populateMetaHeaderParams(),d=__merge(p,c);p.name=t,p.userName=n,p.ownerName=r,p.groupName=a,checkFileType(o),p.type=o,p.description=l,App42Connection.multipart(u,p,i,s,d)},this.uploadFileForFriend=function(t,n,r,a,i,o,l){var s=App42.URL("upload/friend/"+n);if(checkFileType(i),null!=t&&null!=n&&null!=r&&null!=i&&null!=o&&(t=t.trim(),n=n.trim(),r=r.trim(),i=i.trim(),o=o.trim()),""==n||null==n||""==r||null==r||""==t||null==t||null==o||""==o||null==a||""==a||""==i||null==i)return App42Fault.throwExceptionIfNullOrBlank(t,"name"),App42Fault.throwExceptionIfNullOrBlank(i,"fileType"),App42Fault.throwExceptionIfNullOrBlank(o,"description"),App42Fault.throwExceptionIfNullOrBlank(n,"userName"),void App42Fault.throwExceptionIfNullOrBlank(r,"buddyName");var u=e.populateSignParams(),p=e.populateMetaHeaderParams(),c=__merge(u,p);u.name=t,u.userName=n,u.buddyName=r,checkFileType(i),u.type=i,u.description=o,App42Connection.multipart(s,u,a,l,c)},this.uploadFileForFriends=function(t,n,r,a,i,o){var l=App42.URL("upload/friend/"+n);if(checkFileType(a),null!=t&&null!=n&&null!=a&&null!=i&&(t=t.trim(),n=n.trim(),a=a.trim(),i=i.trim()),""==n||null==n||""==t||null==t||null==i||""==i||null==r||""==r||""==a||null==a)return App42Fault.throwExceptionIfNullOrBlank(t,"name"),App42Fault.throwExceptionIfNullOrBlank(a,"fileType"),App42Fault.throwExceptionIfNullOrBlank(i,"description"),void App42Fault.throwExceptionIfNullOrBlank(n,"userName");var s=e.populateSignParams(),u=e.populateMetaHeaderParams(),p=__merge(s,u);s.name=t,s.userName=n,checkFileType(a),s.type=a,s.description=i,App42Connection.multipart(l,s,r,o,p)}}function checkOrderByType(e){return OrderByType.ASCENDING==e?"ASCENDING":OrderByType.DESCENDING==e?"DESCENDING":App42Exception}function App42Storage(){App42Service.call(this);var e=this;this.insertJSONDocument=function(t,n,r,a){var i=App42.URL("storage/insert/dbName/"+t+"/collectionName/"+n);if(null!=t&&null!=n&&null!=r&&(t=t.trim(),n=n.trim()),""==t||""==n||""==r||null==t||null==n||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"dbName"),App42Fault.throwExceptionIfNullOrBlank(n,"collectionName"),void App42Fault.throwExceptionIfNullOrBlank(r,"json");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l);o.dbName=t,o.collectionName=n,r instanceof Object&&(r=JSON.stringify(r));var u='{"app42":{"storage":{"jsonDoc":'+r+"}}}";o.body=u,App42Connection.post(i,o,u,a,s)},this.findAllDocuments=function(t,n,r){if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"dbName"),void App42Fault.throwExceptionIfNullOrBlank(n,"collectionName");var a=App42.URL("storage/findAll/dbName/"+t+"/collectionName/"+n),i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.dbName=t,i.collectionName=n,App42Connection.get(a,i,r,null,l)},this.findAllCollections=function(t,n){var r=App42.URL("storage/findCollections/dbName/"+t);if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"dbName");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.dbName=t,App42Connection.get(r,a,n,null,o)},this.findAllDocumentsCount=function(t,n,r){var a=App42.URL("storage/findAll/count/dbName/"+t+"/collectionName/"+n);if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||null==t||""==n||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"dbName"),void App42Fault.throwExceptionIfNullOrBlank(n,"collectionName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.dbName=t,i.collectionName=n,App42Connection.get(a,i,r,null,l)},this.findAllDocumentsByPaging=function(t,n,r,a,i){if(null!=t&&null!=n&&null!=r&&null!=a&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"dbName"),void App42Fault.throwExceptionIfNullOrBlank(n,"collectionName");var o=App42.URL("storage/findAll/dbName/"+t+"/collectionName/"+n+"/"+r+"/"+a),l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s);l.dbName=t,l.collectionName=n,l.max=r,l.offset=a,App42Connection.get(o,l,i,null,u)},this.findDocumentById=function(t,n,r,a){var i=App42.URL("storage/findDocById/dbName/"+t+"/collectionName/"+n+"/docId/"+r);if(null!=t&&null!=n&&null!=r&&(t=t.trim(),n=n.trim(),r=r.trim()),""==t||""==n||""==r||null==t||null==n||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"dbName"),App42Fault.throwExceptionIfNullOrBlank(n,"collectionName"),void App42Fault.throwExceptionIfNullOrBlank(r,"docId");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l);o.dbName=t,o.collectionName=n,o.docId=r,App42Connection.get(i,o,a,null,s)},this.findDocumentsByQuery=function(t,n,r,a){var i=App42.URL("storage/findDocsByQuery/dbName/"+t+"/collectionName/"+n);if(null!=t&&null!=n&&null!=r&&(n=n.trim()),""==t||""==n||""==r||null==t||null==n||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"dbName"),App42Fault.throwExceptionIfNullOrBlank(n,"collectionName"),void App42Fault.throwExceptionIfNullOrBlank(r,"query");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l);o.jsonQuery=getStr(r),o.dbName=t,o.collectionName=n,App42Connection.get(i,o,a,null,s)},this.findDocumentsByQueryWithPaging=function(t,n,r,a,i,o){var l=App42.URL("storage/findDocsByQuery/dbName/"+t+"/collectionName/"+n+"/"+a+"/"+i);if(null!=t&&null!=n&&null!=r&&(t=t.trim(),n=n.trim()),""==t||""==n||""==r||null==t||null==n||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"dbName"),App42Fault.throwExceptionIfNullOrBlank(n,"collectionName"),void App42Fault.throwExceptionIfNullOrBlank(r,"query");var s=e.populateSignParams(),u=e.populateMetaHeaderParams(),p=__merge(s,u);s.jsonQuery=getStr(r),s.dbName=t,s.collectionName=n,s.max=a,s.offset=i,App42Connection.get(l,s,o,null,p)},this.findDocsWithQueryPagingOrderBy=function(t,n,r,a,i,o,l,s){var u=App42.URL("storage/findDocsByQuery/dbName/"+t+"/collectionName/"+n+"/"+a+"/"+i);if(null!=t&&null!=n&&null!=r&&(t=t.trim(),n=n.trim()),""==t||""==n||""==r||null==t||null==n||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"dbName"),App42Fault.throwExceptionIfNullOrBlank(n,"collectionName"),void App42Fault.throwExceptionIfNullOrBlank(r,"query");var p={};c.apiKey=apiKey;var c=e.populateSignParams(),d=e.populateMetaHeaderParams(),f=__merge(c,d);c.jsonQuery=getStr(r),null!=o&&(p.orderByKey=o),null!=l&&(p.orderByType=l),null!=fbAccessToken&&(c.fbAccessToken=fbAccessToken),c.dbName=t,c.collectionName=n,c.max=a,c.offset=i,App42Connection.get(u,c,s,p,f)},this.findDocumentByKeyValue=function(t,n,r,a,i){var o=App42.URL("storage/findDocByKV/dbName/"+t+"/collectionName/"+n+"/"+r+"/"+a);if(null!=t&&null!=n&&null!=r&&null!=a&&(t=t.trim(),n=n.trim(),r=r.trim(),a=a.trim()),""==t||""==n||""==r||""==a||null==t||null==n||null==r||null==a)return App42Fault.throwExceptionIfNullOrBlank(t,"dbName"),App42Fault.throwExceptionIfNullOrBlank(n,"collectionName"),App42Fault.throwExceptionIfNullOrBlank(r,"key"),void App42Fault.throwExceptionIfNullOrBlank(a,"value");var l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s);l.dbName=t,l.collectionName=n,l.key=r,l.value=a,App42Connection.get(o,l,i,null,u)},this.updateDocumentByKeyValue=function(t,n,r,a,i,o){var l=App42.URL("storage/update/dbName/"+t+"/collectionName/"+n+"/"+r+"/"+a);if(null!=t&&null!=n&&null!=r&&null!=a&&null!=i&&(t=t.trim(),n=n.trim(),r=r.trim(),a=a.trim()),""==t||""==n||""==r||""==a||""==i||null==t||null==n||null==r||null==a||null==i)return App42Fault.throwExceptionIfNullOrBlank(t,"dbName"),App42Fault.throwExceptionIfNullOrBlank(n,"collectionName"),App42Fault.throwExceptionIfNullOrBlank(r,"key"),App42Fault.throwExceptionIfNullOrBlank(a,"value"),void App42Fault.throwExceptionIfNullOrBlank(i,"newJsonDoc");var s=e.populateSignParams(),u=e.populateMetaHeaderParams(),p=__merge(s,u);s.dbName=t,s.collectionName=n,s.key=r,s.value=a,i instanceof Object&&(i=JSON.stringify(i));var c='{"app42":{"storage":{"jsonDoc":'+i+"}}}}";s.body=c,App42Connection.put(l,s,c,o,p)},this.updateDocumentByDocId=function(t,n,r,a,i){var o=App42.URL("storage/updateByDocId/dbName/"+t+"/collectionName/"+n+"/docId/"+r);if(null!=t&&null!=n&&null!=r&&null!=a&&(t=t.trim(),n=n.trim(),r=r.trim()),""==t||""==n||""==r||""==a||null==t||null==n||null==r||null==a)return App42Fault.throwExceptionIfNullOrBlank(t,"dbName"),App42Fault.throwExceptionIfNullOrBlank(n,"collectionName"),App42Fault.throwExceptionIfNullOrBlank(r,"docId"),void App42Fault.throwExceptionIfNullOrBlank(a,"newJsonDoc");var l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s);l.dbName=t,l.collectionName=n,l.docId=r,a instanceof Object&&(a=JSON.stringify(a));var p='{"app42":{"storage":{"jsonDoc":'+a+"}}}}";l.body=p,App42Connection.put(o,l,p,i,u)},this.deleteDocumentById=function(t,n,r,a){var i=App42.URL("storage/deleteDocById/dbName/"+t+"/collectionName/"+n+"/docId/"+r);if(null!=t&&null!=n&&null!=r&&(t=t.trim(),n=n.trim(),r=r.trim()),""==t||""==n||null==r||""==r||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"dbName"),App42Fault.throwExceptionIfNullOrBlank(n,"collectionName"),void App42Fault.throwExceptionIfNullOrBlank(r,"docId");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l);o.dbName=t,o.collectionName=n,o.docId=r,App42Connection.del(i,o,a,s)},this.grantAccessOnDoc=function(t,n,r,a,i){var o=App42.URL("storage/grantAccessOnDoc/"+t+"/"+n+"/"+r);if(null!=t&&null!=n&&null!=r&&(t=t.trim(),n=n.trim(),r=r.trim()),""==t||""==n||null==r||""==r||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"dbName"),App42Fault.throwExceptionIfNullOrBlank(n,"collectionName"),void App42Fault.throwExceptionIfNullOrBlank(r,"docId");var l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s);l.dbName=t,l.collectionName=n,l.docId=r;var p=new Array;if(a instanceof Array)for(var c=0;c<a.length;c++){var d,f=a[c].user;checkPermissionType(d),d=a[c].permission;var m={user:f,permission:d};p.push(m)}else{var h,g=a.user;checkPermissionType(h),h=a.permission;var v={user:g,permission:h};p.push(v)}var y=JSON.stringify(p),b='{"acl":'+y+"}",w=JSON.stringify(b),A='{"app42":{"storage":{"acls":'+w+"}}}";l.body=A,App42Connection.put(o,l,A,i,u)},this.revokeAccessOnDoc=function(t,n,r,a,i){var o=App42.URL("storage/revokeAccessOnDoc/"+t+"/"+n+"/"+r);if(null!=t&&null!=n&&null!=r&&(t=t.trim(),n=n.trim(),r=r.trim()),""==t||""==n||null==r||""==r||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"dbName"),App42Fault.throwExceptionIfNullOrBlank(n,"collectionName"),void App42Fault.throwExceptionIfNullOrBlank(r,"docId");var l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s);l.dbName=t,l.collectionName=n,l.docId=r;var p=new Array;if(a instanceof Array)for(var c=0;c<a.length;c++){var d,f=a[c].user;checkPermissionType(d),d=a[c].permission;var m={user:f,permission:d};p.push(m)}else{var h,g=a.user;checkPermissionType(h),h=a.permission;var v={user:g,permission:h};p.push(v)}var y=JSON.stringify(p),b='{"acl":'+y+"}",w=JSON.stringify(b),A='{"app42":{"storage":{"acls":'+w+"}}}}";l.body=A,App42Connection.put(o,l,A,i,u)},this.deleteDocumentsByKeyValue=function(t,n,r,a,i){var o=App42.URL("storage/deletebykey/dbName/"+t+"/collectionName/"+n+"/"+r),l='{"key":"'+a+'"}';if(null!=t&&null!=n&&null!=r&&null!=a&&(t=t.trim(),n=n.trim(),r=r.trim(),a=a.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"dbName"),void App42Fault.throwExceptionIfNullOrBlank(n,"collectionName");var s=e.populateSignParams(),u=e.populateMetaHeaderParams(),p=__merge(s,u);s.value=l,s.dbName=t,s.collectionName=n,s.key=r,App42Connection.del(o,s,i,p)},this.deleteAllDocuments=function(t,n,r){var a=App42.URL("storage/deleteAll/dbName/"+t+"/collectionName/"+n);if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"dbName"),void App42Fault.throwExceptionIfNullOrBlank(n,"collectionName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.dbName=t,i.collectionName=n,App42Connection.del(a,i,r,l)},this.findDocumentsByLocation=function(t,n,r,a){var i=App42.URL("storage/findDocsBylocation/dbName/"+t+"/collectionName/"+n);if(null!=t&&null!=n&&null!=r&&(n=n.trim()),""==t||""==n||""==r||null==t||null==n||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"dbName"),App42Fault.throwExceptionIfNullOrBlank(n,"collectionName"),void App42Fault.throwExceptionIfNullOrBlank(r,"query");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l);o.jsonQuery=getStr(r),o.dbName=t,o.collectionName=n,App42Connection.get(i,o,a,null,s)},this.saveOrUpdateDocumentByKeyValue=function(t,n,r,a,i,o){var l=App42.URL("storage/saveorupdate/dbName/"+t+"/collectionName/"+n+"/"+r+"/"+a);if(null!=t&&null!=n&&null!=r&&null!=a&&null!=i&&(t=t.trim(),n=n.trim(),r=r.trim(),a=a.trim()),""==t||""==n||""==r||""==a||""==i||null==t||null==n||null==r||null==a||null==i)return App42Fault.throwExceptionIfNullOrBlank(t,"dbName"),App42Fault.throwExceptionIfNullOrBlank(n,"collectionName"),App42Fault.throwExceptionIfNullOrBlank(r,"key"),App42Fault.throwExceptionIfNullOrBlank(a,"value"),void App42Fault.throwExceptionIfNullOrBlank(i,"newJsonDoc");var s=e.populateSignParams(),u=e.populateMetaHeaderParams(),p=__merge(s,u);s.dbName=t,s.collectionName=n,s.key=r,s.value=a,i instanceof Object&&(i=JSON.stringify(i));var c='{"app42":{"storage":{"jsonDoc":'+i+"}}}}";s.body=c,App42Connection.put(l,s,c,o,p)}}function App42Social(){App42Service.call(this);var e=this;this.linkUserFacebookAccount=function(t,n,r){if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),void App42Fault.throwExceptionIfNullOrBlank(n,"accessToken");var a=App42.URL("social/facebook/linkuser/accesscredentials"),i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o),s='{"app42":{"social":{"userName":"'+t+'","accessToken":"'+n+'"}}}';i.body=s,void 0!=localStorage?(localStorage.removeItem("_App42_SessionId"),localStorage.setItem("_App42_FbAccessToken",n),fbAccessToken=n):(localStorage=void 0)&&(localStorage.setItem("_App42_FbAccessToken",n),fbAccessToken=n),App42Connection.post(a,i,s,r,l)},this.linkUserFacebookAccountWithCredentials=function(t,n,r,a,i){if(null!=t&&null!=n&&null!=r&&null!=a&&(t=t.trim(),n=n.trim(),r=r.trim(),a=a.trim()),""==t||""==n||""==r||""==a||null==t||null==n||null==r||null==a)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),App42Fault.throwExceptionIfNullOrBlank(n,"accessToken"),App42Fault.throwExceptionIfNullOrBlank(r,"appId"),void App42Fault.throwExceptionIfNullOrBlank(a,"appSecret");var o=App42.URL("social/facebook/linkuser"),l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s),p='{"app42":{"social":{"userName":"'+t+'","accessToken":"'+n+'","appId":"'+r+'","appSecret":"'+a+'"}}}';l.body=p,void 0!=localStorage?(localStorage.removeItem("_App42_SessionId"),localStorage.setItem("_App42_FbAccessToken",n),fbAccessToken=n):(localStorage=void 0)&&(localStorage.setItem("_App42_FbAccessToken",n),fbAccessToken=n,console.log("here")),App42Connection.post(o,l,p,i,u)},this.updateFacebookStatus=function(t,n,r){if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),void App42Fault.throwExceptionIfNullOrBlank(n,"status");var a=App42.URL("social/facebook/updatestatus"),i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o),s='{"app42":{"social":{"userName":"'+t+'","status":"'+n+'"}}}';i.body=s,App42Connection.post(a,i,s,r,l)},this.linkUserTwitterAccount=function(t,n,r,a){if(null!=t&&null!=n&&null!=r&&(t=t.trim(),n=n.trim(),r=r.trim()),""==t||""==n||""==r||null==t||null==n||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),App42Fault.throwExceptionIfNullOrBlank(n,"accessToken"),void App42Fault.throwExceptionIfNullOrBlank(r,"accessTokenSecret");var i=App42.URL("social/twitter/linkuser/accesscredentials"),o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l),u='{"app42":{"social":{"userName":"'+t+'","accessToken":"'+n+'" ,"accessTokenSecret":"'+r+'"}}}';o.body=u,App42Connection.post(i,o,u,a,s)},this.linkUserTwitterAccountWithCredentials=function(t,n,r,a,i,o){if(null!=t&&null!=n&&null!=r&&null!=a&&null!=i&&(t=t.trim(),n=n.trim(),r=r.trim(),a=a.trim(),i=i.trim()),""==t||""==n||""==a||""==i||""==r||null==t||null==n||null==a||null==i||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),App42Fault.throwExceptionIfNullOrBlank(n,"accessToken"),App42Fault.throwExceptionIfNullOrBlank(a,"consumerKey"),App42Fault.throwExceptionIfNullOrBlank(i,"consumerSecret"),void App42Fault.throwExceptionIfNullOrBlank(r,"accessTokenSecret");var l=App42.URL("social/twitter/linkuser"),s=e.populateSignParams(),u=e.populateMetaHeaderParams(),p=__merge(s,u),c='{"app42":{"social":{"userName":"'+t+'","consumerKey":"'+a+'" ,"consumerSecret":"'+i+'","accessToken":"'+n+'" ,"accessTokenSecret":"'+r+'"}}}';s.body=c,App42Connection.post(l,s,c,o,p)},this.updateTwitterStatus=function(t,n,r){if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),void App42Fault.throwExceptionIfNullOrBlank(n,"status");var a=App42.URL("social/twitter/updatestatus"),i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o),s='{"app42":{"social":{"userName":"'+t+'","status":"'+n+'"}}}';i.body=s,App42Connection.post(a,i,s,r,l)},this.linkUserLinkedInAccountWithCredentials=function(t,n,r,a,i,o){if(null!=t&&null!=n&&null!=r&&null!=a&&null!=i&&(t=t.trim(),n=n.trim(),r=r.trim(),a=a.trim(),i=i.trim()),""==t||""==n||""==r||""==a||""==i||null==t||null==n||null==r||null==a||null==i)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),App42Fault.throwExceptionIfNullOrBlank(n,"accessToken"),App42Fault.throwExceptionIfNullOrBlank(r,"accessTokenSecret"),App42Fault.throwExceptionIfNullOrBlank(a,"apiKey"),void App42Fault.throwExceptionIfNullOrBlank(i,"secretKey");var l=App42.URL("social/linkedin/linkuser"),s=e.populateSignParams(),u=e.populateMetaHeaderParams(),p=__merge(s,u),c='{"app42":{"social":{"userName":"'+t+'","apiKey":"'+a+'" ,"secretKey":"'+i+'","accessToken":"'+n+'" ,"accessTokenSecret":"'+r+'"}}}';s.body=c,App42Connection.post(l,s,c,o,p)},this.linkUserLinkedInAccount=function(t,n,r,a){if(null!=t&&null!=n&&null!=r&&(t=t.trim(),n=n.trim(),r=r.trim()),""==t||""==n||""==r||null==t||null==n||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),App42Fault.throwExceptionIfNullOrBlank(n,"accessToken"),void App42Fault.throwExceptionIfNullOrBlank(r,"accessTokenSecret");var i=App42.URL("social/linkedin/linkuser/accesscredentials"),o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l),u='{"app42":{"social":{"userName":"'+t+'","accessToken":"'+n+'" ,"accessTokenSecret":"'+r+'"}}}';o.body=u,App42Connection.post(i,o,u,a,s)},this.updateLinkedInStatus=function(t,n,r){if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),void App42Fault.throwExceptionIfNullOrBlank(n,"status");var a=App42.URL("social/linkedin/updatestatus"),i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o),s='{"app42":{"social":{"userName":"'+t+'","status":"'+n+'"}}}';i.body=s,App42Connection.post(a,i,s,r,l)},this.updateSocialStatusForAll=function(t,n,r){if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),void App42Fault.throwExceptionIfNullOrBlank(n,"status");var a=App42.URL("social/social/updatestatus/all"),i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o),s='{"app42":{"social":{"userName":"'+t+'","status":"'+n+'"}}}';i.body=s,App42Connection.post(a,i,s,r,l)},this.getFacebookFriendsFromLinkUser=function(t,n){if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"userName");var r=App42.URL("social/facebook/friends/"+t),a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.userName=t,App42Connection.get(r,a,n,null,o)},this.getFacebookFriendsFromAccessToken=function(t,n){if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"accessToken");var r=App42.URL("social/facebook/friends/OAuth/"+t),a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.accessToken=t,App42Connection.get(r,a,n,null,o)},this.facebookPublishStream=function(t,n,r,a,i){if(null!=t&&null!=n&&null!=a&&(t=t.trim(),n=n.trim(),a=a.trim()),""==t||null==t||""==n||null==n||""==r||null==r||""==a||null==a)return App42Fault.throwExceptionIfNullOrBlank(t,"accessToken"),App42Fault.throwExceptionIfNullOrBlank(n,"name"),App42Fault.throwExceptionIfNullOrBlank(r,"filePath"),void App42Fault.throwExceptionIfNullOrBlank(a,"message");var o=App42.URL("social/facebook/wallpost"),l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s);l.name=n,l.accessToken=t,l.message=a,App42Connection.multipart(o,l,r,i,u)},this.facebookLinkPost=function(t,n,r,a){if(null!=t&&null!=r&&(t=t.trim(),r=r.trim()),""==t||null==t||""==n||null==n||""==r||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"accessToken"),App42Fault.throwExceptionIfNullOrBlank(n,"link"),void App42Fault.throwExceptionIfNullOrBlank(r,"message");var i=App42.URL("social/facebook/publishstream"),o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l),u='{"app42":{"social":{"link":"'+n+'","accessToken":"'+t+'","message":"'+r+'"}}}';o.body=u,App42Connection.post(i,o,u,a,s)},this.facebookLinkPostWithCustomThumbnail=function(t,n,r,a,i,o,l){if(null!=t&&null!=n&&null!=r&&null!=i&&null!=o&&(t=t.trim(),n=n.trim(),i=i.trim(),r=r.trim(),o=o.trim()),""==t||null==t||""==n||null==n||""==i||null==i||""==filePath||null==filePath||""==r||null==r||""==a||null==a||""==o||null==o)return App42Fault.throwExceptionIfNullOrBlank(t,"accessToken"),App42Fault.throwExceptionIfNullOrBlank(friendFacebookId,"friendFacebookId"),App42Fault.throwExceptionIfNullOrBlank(i,"name"),App42Fault.throwExceptionIfNullOrBlank(filePath,"filePath"),void App42Fault.throwExceptionIfNullOrBlank(r,"message");var s=App42.URL("social/facebook/publishstream"),u=e.populateSignParams(),p=e.populateMetaHeaderParams(),c=__merge(u,p),d='{"app42":{"social":{"link":"'+n+'","accessToken":"'+t+'","message":"'+r+'","picture":"'+a+'","name":"'+i+'","description":"'+o+'"}}}';u.body=d,App42Connection.post(s,u,d,l,c)},this.getFacebookProfile=function(t,n){if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"accessToken");var r=App42.URL("social/facebook/me/OAuth/"+t),a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.accessToken=t,App42Connection.get(r,a,n,null,o)},this.getFacebookProfilesFromIds=function(t,n){if(""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"facebookIds");var r=App42.URL("social/facebook/ids"),a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);o.userList="["+t+"]",App42Connection.get(r,a,n,null,o)}}function App42Session(){App42Service.call(this);var e=this;this.getSession=function(t,n){var r=App42.URL("session");if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"userName");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i),l='{"app42":{"session":{"userName":"'+t+'"}}}';a.body=l,App42Connection.post(r,a,l,n,o)},this.invalidate=function(t,n){var r=App42.URL("session");if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"sessionId");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i),l='{"app42":{"session":{"id":"'+t+'"}}}';a.body=l,sessionInvalidate=!0,App42Connection.put(r,a,l,n,o)},this.setAttribute=function(t,n,r,a){var i=App42.URL("session/id/"+t);if(null!=t&&null!=n&&null!=r&&(t=t.trim(),n=n.trim(),r=r.trim()),""==t||""==n||""==r||null==t||null==n||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"sessionId"),App42Fault.throwExceptionIfNullOrBlank(n,"attributeName"),void App42Fault.throwExceptionIfNullOrBlank(r,"attributeValue");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l);o.sessionId=t;var u='{"app42":{"session":{"name":"'+n+'","value":"'+r+'"}}}';o.body=u,App42Connection.post(i,o,u,a,s)},this.getAttribute=function(t,n,r){var a=App42.URL("session/id/"+t+"/"+n);if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"sessionId"),void App42Fault.throwExceptionIfNullOrBlank(n,"attributeName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.sessionId=t,i.name=n,App42Connection.get(a,i,r,null,l)},this.getAllAttributes=function(t,n){var r=App42.URL("session/id/"+t);if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"sessionId");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.sessionId=t,App42Connection.get(r,a,n,null,o)},this.removeAttribute=function(t,n,r){var a=App42.URL("session/id/"+t+"/"+n);if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"sessionId"),void App42Fault.throwExceptionIfNullOrBlank(n,"attributeName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.sessionId=t,i.name=n,App42Connection.del(a,i,r,l)},this.removeAllAttributes=function(t,n){var r=App42.URL("session/id/"+t);if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"sessionId");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.sessionId=t,App42Connection.del(r,a,n,o)}}function App42Service(){var e=null,t=null,n=null,r=null,a=null,i=[],o=-1,l=-1,s={},u=null;this.setPageOffset=function(e){o=e},this.getPageOffset=function(){return o},this.setPageMaxRecords=function(e){l=e},this.getPageMaxRecords=function(){return l},this.setOtherMetaHeaders=function(e){s=e},this.getOtherMetaHeaders=function(){return s},this.setSessionId=function(t){e=t},this.getSessionId=function(){return e},this.setModuleEvent=function(e){e=e},this.getEvent=function(){return u},this.setAdminKey=function(e){t=e},this.getAdminKey=function(){return t},this.setFbAccessToken=function(e){n=e},this.getFbAccessToken=function(){return n},this.setGeoTag=function(e){if(e instanceof GeoTag){var t={};null!=e.getLat()&&null!=e.getLng()&&(t.lat=e.getLat(),t.lng=e.getLng(),r=t)}},this.getGeoTag=function(){return r},this.setAclList=function(e){var t,n=new Array;if(e instanceof Array)for(var r=0;r<e.length;r++){var i,o=e[r].user;t={},i=e[r].permission,t[o]=i,n.push(t)}else{t={};var l,s=e.user;l=e.permission,t[s]=l,n.push(t)}a=n},this.getAclList=function(){return a},this.setSelectKeys=function(e){i=e},this.getSelectKeys=function(){return i},this.populateSignParams=function(){var r={};r.apiKey=apiKey,r.version=version;var a=new Date;if(r.timeStamp=getODataUTCDateFilter(a),null!=e&&(r.sessionId=e),null!=t&&(r.adminKey=t),null!=n&&(r.fbAccessToken=n),void 0!=localStorage&&null==e&&void 0!=localStorage.getItem("_App42_SessionId")){var i=localStorage.getItem("_App42_SessionId");r.sessionId=i}if(void 0!=localStorage&&null==n&&void 0!=localStorage.getItem("_App42_FbAccessToken")){var o=localStorage.getItem("_App42_FbAccessToken");r.fbAccessToken=o}return null!=u&&""!=u&&(r.event=u),r},this.populateMetaHeaderParams=function(){var e={};if(null!=a){var t=JSON.stringify(a);e.dataACL=t}if(-1==o||isNaN(l)||(e.pageOffset=o),-1==l||isNaN(l)||(e.pageMaxRecords=l),null!=r&&"[object Object]"==Object.prototype.toString.call(r)){var n=JSON.stringify(r);e.geoTag=n}if(i.length>0){for(var u={},p=0;p<i.length;p++)u[i[p]]="1";var c=JSON.stringify(u);e.selectKeys=c}if(s.length>0)for(var d in s){var f=s[d];null!=d&&""!=d&&null!=f&&""!=f&&(e.key=f)}if(void 0!=localStorage&&void 0!=localStorage.getItem("_App42_DeviceId")){var m=localStorage.getItem("_App42_DeviceId");e.deviceId=m}return null!=App42.getLoggedInUser()&&""!=App42.getLoggedInUser()&&(e.loggedInUser=App42.getLoggedInUser()),e.SDKName="javascript",e}}function GeoTag(){var e=null,t=null;this.setLat=function(t){e=t},this.getLat=function(){return e},this.setLng=function(e){t=e},this.getLng=function(){return t}}function ItemData(){var e=null,t=null,n=null,r=null,a=null,i=null;this.getItemId=function(){return e},this.setItemId=function(t){e=t},this.getName=function(){return t},this.setName=function(e){t=e},this.getDescription=function(){return n},this.setDescription=function(e){n=e},this.getImage=function(){return r},this.setImage=function(e){r=e},this.getPrice=function(){return a},this.setPrice=function(e){a=e},this.getImageName=function(){return i},this.setImageName=function(e){i=e}}function __merge(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}function App42ScoreBoard(){App42Service.call(this);var e=this;this.saveUserScore=function(t,n,r,a){var i=App42.URL("game/scoreboard");if(null!=t&&null!=n&&null!=r&&(t=t.trim(),n=n.trim()),""==t||""==n||""==r||null==t||null==n||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"gameName"),App42Fault.throwExceptionIfNullOrBlank(n,"userName"),void App42Fault.throwExceptionIfNullOrBlank(r,"gameScore");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l),u='{"app42":{"game":{"name":"'+t+'", "scores":{"score":{"value":"'+r+'","userName":"'+n+'"}}}}}';o.body=u,App42Connection.post(i,o,u,a,s)},this.getScoresByUser=function(t,n,r){var a=App42.URL("game/scoreboard/"+t+"/"+n);if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"gameName"),void App42Fault.throwExceptionIfNullOrBlank(n,"userName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.name=t,i.userName=n,App42Connection.get(a,i,r,null,l)},this.getHighestScoreByUser=function(t,n,r){var a=App42.URL("game/scoreboard/"+t+"/"+n+"/highest");if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"gameName"),void App42Fault.throwExceptionIfNullOrBlank(n,"userName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.name=t,i.userName=n,App42Connection.get(a,i,r,null,l)},this.getLowestScoreByUser=function(t,n,r){var a=App42.URL("game/scoreboard/"+t+"/"+n+"/lowest");if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"gameName"),void App42Fault.throwExceptionIfNullOrBlank(n,"userName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.name=t,i.userName=n,App42Connection.get(a,i,r,null,l)},this.getTopRankings=function(t,n){var r=App42.URL("game/scoreboard/"+t+"/ranking");null!=t&&(t=t.trim()),(""==t||null==t)&&App42Fault.throwExceptionIfNullOrBlank(t,"gameName");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.name=t,App42Connection.get(r,a,n,null,o)},this.getTopRankingsByDate=function(t,n,r,a){strStartDate=getODataUTCDateFilter(n),strEndDate=getODataUTCDateFilter(r),null!=t&&null!=n&&null!=r&&(t=t.trim()),(""==t||null==t||""==n||null==n||""==r||null==r)&&(App42Fault.throwExceptionIfNullOrBlank(t,"gameName"),App42Fault.throwExceptionIfNullOrBlank(n,"startDate"),App42Fault.throwExceptionIfNullOrBlank(r,"endDate"));var i=App42.URL("game/scoreboard/"+t+"/ranking/"+strStartDate+"/"+strEndDate),o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l);o.name=t,o.startDate=strStartDate,o.endDate=strEndDate,App42Connection.get(i,o,a,null,s)},this.getTopNRankings=function(t,n,r){var a=App42.URL("game/scoreboard/"+t+"/ranking/"+n);if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"gameName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.name=t,i.max=n,App42Connection.get(a,i,r,null,l)},this.getTopNRankersBetweenDate=function(t,n,r,a,i){strStartDate=getODataUTCDateFilter(n),strEndDate=getODataUTCDateFilter(r);var o=App42.URL("game/scoreboard/"+t+"/rankers/"+strStartDate+"/"+strEndDate+"/"+a);null!=t&&null!=n&&null!=r&&null!=a&&(t=t.trim()),(""==t||null==t||""==n||null==n||""==r||null==r||null==a||""==a)&&(App42Fault.throwExceptionIfNullOrBlank(t,"gameName"),App42Fault.throwExceptionIfNullOrBlank(n,"startDate"),App42Fault.throwExceptionIfNullOrBlank(r,"endDate"),App42Fault.throwExceptionIfNullOrBlank(a,"max"));var l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s);l.name=t,l.startDate=strStartDate,l.endDate=strEndDate,l.max=a,App42Connection.get(o,l,i,null,u)},this.getTopNRankers=function(t,n,r){var a=App42.URL("game/scoreboard/"+t+"/rankers/"+n);null!=t&&null!=n&&(t=t.trim()),(""==t||null==t||null==n||""==n)&&(App42Fault.throwExceptionIfNullOrBlank(t,"gameName"),App42Fault.throwExceptionIfNullOrBlank(n,"max"));var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.name=t,i.max=n,App42Connection.get(a,i,r,null,l)},this.getUserRanking=function(t,n,r){var a=App42.URL("game/scoreboard/"+t+"/"+n+"/ranking");if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"gameName"),void App42Fault.throwExceptionIfNullOrBlank(n,"userName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.name=t,i.userName=n,App42Connection.get(a,i,r,null,l)},this.getAverageScoreByUser=function(t,n,r){var a=App42.URL("game/scoreboard/"+t+"/"+n+"/average");if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"gameName"),void App42Fault.throwExceptionIfNullOrBlank(n,"userName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.name=t,i.userName=n,App42Connection.get(a,i,r,null,l)},this.getLastScoreByUser=function(t,n,r){var a=App42.URL("game/scoreboard/"+t+"/"+n+"/lastscore");if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"gameName"),void App42Fault.throwExceptionIfNullOrBlank(n,"userName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.name=t,i.userName=n,App42Connection.get(a,i,r,null,l)},this.getLastGameScore=function(t,n){var r=App42.URL("game/scoreboard/"+t+"/lastgame");if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"userName");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.userName=t,App42Connection.get(r,a,n,null,o)},this.editScoreValueById=function(t,n,r){var a=App42.URL("game/scoreboard/editscore");if(""==t||null==t||""==n||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"scoreId"),void App42Fault.throwExceptionIfNullOrBlank(n,"gameScore");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o),s='{"app42":{"game":{"scores":{"score":{"scoreId":"'+t+'","value":"'+n+'"}}}}}';i.body=s,App42Connection.put(a,i,s,r,l)},this.getTopRankingsByGroup=function(t,n,r){var a=App42.URL("game/scoreboard/"+t+"/group");if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"gameName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.userList="["+n.toString()+"]",i.name=t,App42Connection.get(a,i,r,null,l)},this.getTopNRankersByGroup=function(t,n,r){var a=App42.URL("game/scoreboard/"+t+"/rankers/group");if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"gameName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.userList="["+n.toString()+"]",i.name=t,App42Connection.get(a,i,r,null,l)},this.getTopRankersFromBuddyGroup=function(t,n,r,a,i){var o=App42.URL("game/scoreboard/"+t+"/rankers/"+n+"/group/"+r+"/"+a);if(null!=t&&null!=n&&null!=r&&null!=a&&(t=t.trim(),n=n.trim(),r=r.trim(),a=a.trim()),""==t||null==t||""==n||null==n||""==r||null==r||""==a||null==a)return App42Fault.throwExceptionIfNullOrBlank(t,"gameName"),App42Fault.throwExceptionIfNullOrBlank(n,"userName"),App42Fault.throwExceptionIfNullOrBlank(r,"ownerName"),void App42Fault.throwExceptionIfNullOrBlank(a,"groupName");var l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s);l.name=t,l.userName=n,l.ownerName=r,l.groupName=a,App42Connection.get(o,l,i,null,u)},this.getTopNRankersFromFacebook=function(t,n,r,a){localStorage.setItem("_App42_FbAccessToken",n);var i=App42.URL("game/scoreboard/"+t+"/rankers/facebook/"+r);if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||null==t||""==n||null==n||""==r||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"gameName"),App42Fault.throwExceptionIfNullOrBlank(n,"fbAccessToken"),void App42Fault.throwExceptionIfNullOrBlank(r,"max");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l);o.name=t,o.max=r,App42Connection.get(i,o,a,null,s)}}function App42Score(){App42Service.call(this);var e=this;this.addScore=function(t,n,r,a){var i=App42.URL("game/score/add");if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||""==r||null==t||null==n||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"gameName"),App42Fault.throwExceptionIfNullOrBlank(n,"userName"),void App42Fault.throwExceptionIfNullOrBlank(r,"gameScore");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l),u='{"app42":{"game":{"name":"'+t+'","scores":{"score":{"userName":"'+n+'","value":"'+r+'"}}}}}';o.body=u,App42Connection.post(i,o,u,a,s)},this.deductScore=function(t,n,r,a){var i=App42.URL("game/score/deduct");if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||""==r||null==t||null==n||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"gameName"),App42Fault.throwExceptionIfNullOrBlank(n,"userName"),void App42Fault.throwExceptionIfNullOrBlank(r,"gameScore");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l),u='{"app42":{"game":{"name":"'+t+'", "scores":{"score":{"userName":"'+n+'","value":"'+r+'"}}}}}';o.body=u,App42Connection.post(i,o,u,a,s)}}function App42Reward(){App42Service.call(this);var e=this;this.createReward=function(t,n,r){var a=App42.URL("game/reward");if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"rewardName"),void App42Fault.throwExceptionIfNullOrBlank(n,"rewardDescription");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o),s='{"app42":{"rewards":{"reward":{"name":"'+t+'","description":"'+n+'"}}}}';i.body=s,App42Connection.post(a,i,s,r,l)},this.getAllRewards=function(t){var n=App42.URL("game/reward"),r=e.populateSignParams(),a=e.populateMetaHeaderParams(),i=__merge(r,a);App42Connection.get(n,r,t,null,i)},this.getAllRewardsWithPaging=function(t,n,r){var a=App42.URL("game/reward/paging/"+t+"/"+n),i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.max=t,i.offset=n,App42Connection.get(a,i,r,null,l)},this.getAllRewardsCount=function(t){var n=App42.URL("game/reward/count"),r=e.populateSignParams(),a=e.populateMetaHeaderParams(),i=__merge(r,a);App42Connection.get(n,r,t,null,i)},this.getRewardByName=function(t,n){var r=App42.URL("game/reward/"+t);if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"rewardName");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.name=t,App42Connection.get(r,a,n,null,o)},this.earnRewards=function(t,n,r,a,i){var o=App42.URL("game/reward/earn");if(null!=t&&null!=n&&null!=r&&null!=a&&(t=t.trim(),n=n.trim(),r=r.trim()),""==t||""==n||""==r||""==a||null==t||null==n||null==r||null==a)return App42Fault.throwExceptionIfNullOrBlank(t,"gameName"),App42Fault.throwExceptionIfNullOrBlank(n,"userName"),App42Fault.throwExceptionIfNullOrBlank(r,"rewardName"),void App42Fault.throwExceptionIfNullOrBlank(a,"rewardPoints");var l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s),p='{"app42":{"rewards":{"reward":{"gameName":"'+t+'","userName":"'+n+'","name":"'+r+'","points":"'+a+'"}}}}';l.body=p,App42Connection.post(o,l,p,i,u)},this.redeemRewards=function(t,n,r,a,i){var o=App42.URL("game/reward/redeem");if(null!=t&&null!=n&&null!=r&&null!=a&&(t=t.trim(),n=n.trim(),r=r.trim()),""==t||""==n||""==r||""==a||null==t||null==n||null==r||null==a)return App42Fault.throwExceptionIfNullOrBlank(t,"gameName"),App42Fault.throwExceptionIfNullOrBlank(n,"userName"),App42Fault.throwExceptionIfNullOrBlank(r,"rewardName"),void App42Fault.throwExceptionIfNullOrBlank(a,"rewardPoints");var l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s),p='{"app42":{"rewards":{"reward":{"gameName":"'+t+'","userName":"'+n+'","name":"'+r+'","points":"'+a+'"}}}}';l.body=p,App42Connection.post(o,l,p,i,u)},this.getGameRewardPointsForUser=function(t,n,r){var a=App42.URL("game/reward/"+t+"/"+n);if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"gameName"),void App42Fault.throwExceptionIfNullOrBlank(n,"userName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.gameName=t,i.userName=n,App42Connection.get(a,i,r,null,l)},this.getTopNRewardEarners=function(t,n,r,a){var i=App42.URL("game/reward/"+t+"/"+n+"/"+r);if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||null==t||""==n||null==n||null==r||""==r)return App42Fault.throwExceptionIfNullOrBlank(t,"gameName"),App42Fault.throwExceptionIfNullOrBlank(n,"rewardName"),void App42Fault.throwExceptionIfNullOrBlank(r,"max");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l);o.gameName=t,o.rewardName=n,o.max=r,App42Connection.get(i,o,a,null,s)},this.getAllRewardsByUser=function(t,n,r){var a=App42.URL("game/reward/"+t+"/points/"+n);if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||null==t||""==n||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),void App42Fault.throwExceptionIfNullOrBlank(n,"rewardName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.userName=t,i.rewardName=n,App42Connection.get(a,i,r,null,l)},this.getUserRankingOnReward=function(t,n,r,a){var i=App42.URL("game/reward/"+t+"/"+n+"/rank/"+r);if(null!=t&&null!=n&&null!=r&&(t=t.trim(),n=n.trim(),r=r.trim()),""==t||null==t||""==n||null==n||null==r||""==r)return App42Fault.throwExceptionIfNullOrBlank(t,"gameName"),App42Fault.throwExceptionIfNullOrBlank(n,"rewardName"),void App42Fault.throwExceptionIfNullOrBlank(r,"userName");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l);o.gameName=t,o.rewardName=n,o.userName=r,App42Connection.get(i,o,a,null,s)},this.getTopNRewardEarnersByGroup=function(t,n,r,a){var i=App42.URL("game/reward/"+t+"/"+n+"/group/points");if(null!=t&&null!=n&&null!=r&&(t=t.trim(),n=n.trim()),""==t||null==t||""==n||null==n||null==r||""==r)return App42Fault.throwExceptionIfNullOrBlank(t,"gameName"),App42Fault.throwExceptionIfNullOrBlank(n,"rewardName"),void App42Fault.throwExceptionIfNullOrBlank(r,"userList");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l);o.userList="["+r.toString()+"]",o.gameName=t,o.rewardName=n,App42Connection.get(i,o,a,null,s)}}function App42Review(){App42Service.call(this);var e=this;this.createReview=function(t,n,r,a,i){var o=App42.URL("review");if(null!=t&&null!=n&&null!=r&&(t=t.trim(),n=n.trim(),r=r.trim()),""==t||""==n||""==r||null==t||null==n||null==r)return App42Fault.throwExceptionIfNullOrBlank(n,"itemID"),App42Fault.throwExceptionIfNullOrBlank(t,"userID"),void App42Fault.throwExceptionIfNullOrBlank(r,"reviewComment");var l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s),p='{"app42":{"review":{"userId":"'+t+'","itemId":"'+n+'","comment":"'+r+'","rating":"'+a+'"}}}';l.body=p,App42Connection.post(o,l,p,i,u)},this.addComment=function(t,n,r,a){var i=App42.URL("review/comment");if(null!=t&&null!=n&&null!=r&&(t=t.trim(),n=n.trim(),r=r.trim()),""==t||""==n||""==r||null==t||null==n||null==r)return App42Fault.throwExceptionIfNullOrBlank(n,"itemID"),App42Fault.throwExceptionIfNullOrBlank(t,"userID"),void App42Fault.throwExceptionIfNullOrBlank(r,"comment");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l),u='{"app42":{"review":{"userId":"'+t+'","itemId":"'+n+'","comment":"'+r+'"}}}';o.body=u,App42Connection.post(i,o,u,a,s)},this.getAllReviewsByPaging=function(t,n,r){var a=App42.URL("review/paging/"+t+"/"+n),i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.max=t,i.offset=n,App42Connection.get(a,i,r,null,l)},this.getAllReviews=function(t){var n=App42.URL("review"),r=e.populateSignParams(),a=e.populateMetaHeaderParams(),i=__merge(r,a);App42Connection.get(n,r,t,null,i)},this.getAllReviewsCount=function(t){var n=App42.URL("review/count"),r=e.populateSignParams(),a=e.populateMetaHeaderParams(),i=__merge(r,a);App42Connection.get(n,r,t,null,i)},this.getReviewsByItem=function(t,n){var r=App42.URL("review/item/"+t);if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"itemID");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.itemId=t,App42Connection.get(r,a,n,null,o)},this.getReviewsByItemByPaging=function(t,n,r,a){var i=App42.URL("review/item/"+t+"/"+n+"/"+r);if(null!=t&&null!=n&&null!=r&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"itemID");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l);o.itemId=t,o.max=n,o.offset=r,App42Connection.get(i,o,a,null,s)},this.getCommentsByItem=function(t,n){var r=App42.URL("review/comment/item/"+t);if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"itemId");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.itemId=t,App42Connection.get(r,a,n,null,o)},this.getReviewsCountByItem=function(t,n){var r=App42.URL("review/item/"+t+"/count");if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"itemID");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.itemId=t,App42Connection.get(r,a,n,null,o)},this.getHighestReviewByItem=function(t,n){var r=App42.URL("review/"+t+"/highest");if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"itemID");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.itemId=t,App42Connection.get(r,a,n,null,o)},this.getLowestReviewByItem=function(t,n){var r=App42.URL("review/"+t+"/lowest");if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"itemID");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.itemId=t,App42Connection.get(r,a,n,null,o)},this.getAverageReviewByItem=function(t,n){var r=App42.URL("review/"+t+"/average");if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"itemID");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.itemId=t,App42Connection.get(r,a,n,null,o)},this.mute=function(t,n){var r=App42.URL("review/mute");if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"reviewId");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i),l='{"app42":{"review":{"id":"'+t+'"}}}';a.body=l,App42Connection.put(r,a,l,n,o)},this.unmute=function(t,n){var r=App42.URL("review/unmute");if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"reviewId");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i),l='{"app42":{"review":{"id":"'+t+'"}}}';a.body=l,App42Connection.put(r,a,l,n,o)},this.getReviewsCountByItemAndRating=function(t,n,r){var a=App42.URL("review/item/"+t+"/rating/"+n);if(null!=t&&null!=n&&(t=t.trim()),""==t||null==t||null==n||""==n)return App42Fault.throwExceptionIfNullOrBlank(t,"itemID"),void App42Fault.throwExceptionIfNullOrBlank(n,"rating");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.itemId=t,i.rating=n,App42Connection.get(a,i,r,null,l)}}function App42Photo(){App42Service.call(this);var e=this;this.addPhoto=function(t,n,r,a,i,o){var l=App42.URL("gallery/"+t);if(null!=t&&null!=n&&null!=a&&null!=r&&null!=i&&(t=t.trim(),n=n.trim(),r=r.trim(),a=a.trim()),""==t||""==n||""==a||null==i||""==i||null==t||null==n||null==a||null==r||""==r)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),App42Fault.throwExceptionIfNullOrBlank(n,"albumName"),App42Fault.throwExceptionIfNullOrBlank(r,"photoName"),App42Fault.throwExceptionIfNullOrBlank(a,"photoDescription"),void App42Fault.throwExceptionIfNullOrBlank(i,"filePath");var s=e.populateSignParams(),u=e.populateMetaHeaderParams(),p=__merge(s,u);s.userName=t,s.albumName=n,s.name=r,s.description=a,App42Connection.multipart(l,s,i,o,p)},this.addTagToPhoto=function(t,n,r,a,i){var o=App42.URL("gallery/tag");if(null!=t&&null!=n&&null!=r&&null!=a&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n||null==r||""==r)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),App42Fault.throwExceptionIfNullOrBlank(n,"albumName"),void App42Fault.throwExceptionIfNullOrBlank(r,"photoName");var l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s),p=JSON.stringify(a),c='{"tag":'+p+"}",d=JSON.stringify(c),f='{"app42":{"photo":{"userName":"'+t+'","albumName":"'+n+'","photoName":"'+r+'","tags":'+d+"}}}";l.body=f,App42Connection.post(o,l,f,i,u)},this.getPhotos=function(t,n){var r=App42.URL("gallery/"+t);if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"userName");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.userName=t,App42Connection.get(r,a,n,null,o)},this.getPhotosByAlbumName=function(t,n,r){var a=App42.URL("gallery/"+t+"/"+n);if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),void App42Fault.throwExceptionIfNullOrBlank(n,"albumName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.userName=t,i.albumName=n,App42Connection.get(a,i,r,null,l)},this.getPhotosCountByAlbumName=function(t,n,r){var a=App42.URL("gallery/"+t+"/"+n+"/count");if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),void App42Fault.throwExceptionIfNullOrBlank(n,"albumName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.userName=t,i.albumName=n,App42Connection.get(a,i,r,null,l)},this.getPhotosByAlbumNameByPaging=function(t,n,r,a,i){var o=App42.URL("gallery/album/"+t+"/"+n+"/paging/"+r+"/"+a);if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),void App42Fault.throwExceptionIfNullOrBlank(n,"albumName");var l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s);l.userName=t,l.albumName=n,l.max=r,l.offset=a,App42Connection.get(o,l,i,null,u)},this.getTaggedPhotos=function(t,n,r){var a=App42.URL("gallery/tag/"+n+"/userName/"+t);if(null!=t&&null!=n&&(t=t.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),void App42Fault.throwExceptionIfNullOrBlank(albumName,"albumName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.userName=t,i.tag=n,App42Connection.get(a,i,r,null,l)},this.getPhotosByAlbumAndPhotoName=function(t,n,r,a){var i=App42.URL("gallery/"+t+"/"+n+"/"+r);if(null!=t&&null!=n&&null!=r&&(t=t.trim(),n=n.trim(),r=r.trim()),""==t||""==n||""==r||null==t||null==n||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),App42Fault.throwExceptionIfNullOrBlank(n,"albumName"),void App42Fault.throwExceptionIfNullOrBlank(r,"photoName");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l);o.userName=t,o.albumName=n,o.name=r,App42Connection.get(i,o,a,null,s)},this.removePhoto=function(t,n,r,a){var i=App42.URL("gallery/"+t+"/"+n+"/"+r);if(null!=t&&null!=n&&null!=r&&(t=t.trim(),n=n.trim(),r=r.trim()),""==t||""==n||""==r||null==t||null==n||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),App42Fault.throwExceptionIfNullOrBlank(n,"albumName"),void App42Fault.throwExceptionIfNullOrBlank(r,"photoName");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l);o.userName=t,o.albumName=n,o.name=r,App42Connection.del(i,o,a,s)},this.grantAccess=function(t,n,r,a,i){var o=App42.URL("gallery/grantAccess/"+r+"/"+t+"/"+n);if(null!=t&&null!=n&&null!=r&&(t=t.trim()),""==t||""==n||""==r||null==t||null==n||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"albumName"),App42Fault.throwExceptionIfNullOrBlank(n,"photoName"),void App42Fault.throwExceptionIfNullOrBlank(r,"userName");var l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s);l.albumName=t,l.photoName=n,l.userName=r;var p=new Array;if(a instanceof Array)for(var c=0;c<a.length;c++){var d,f=a[c].user;checkPermissionType(d),d=a[c].permission;var m={user:f,permission:d};p.push(m)}else{var h,g=a.user;checkPermissionType(h),h=a.permission;var v={user:g,permission:h};p.push(v)}var y=JSON.stringify(p),b='{"acl":'+y+"}",w=JSON.stringify(b),A='{"app42":{"photo":{"acls":'+w+"}}}}";l.body=A,App42Connection.put(o,l,A,i,u)},this.revokeAccess=function(t,n,r,a,i){var o=App42.URL("gallery/revokeAccess/"+r+"/"+t+"/"+n);if(null!=t&&null!=n&&null!=r&&(t=t.trim()),""==t||""==n||""==r||null==t||null==n||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"albumName"),App42Fault.throwExceptionIfNullOrBlank(n,"photoName"),void App42Fault.throwExceptionIfNullOrBlank(r,"userName");var l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s);l.albumName=t,l.photoName=n,l.userName=r;var p=new Array;if(a instanceof Array)for(var c=0;c<a.length;c++){var d,f=a[c].user;checkPermissionType(d),d=a[c].permission;var m={user:f,permission:d};p.push(m)}else{var h,g=a.user;checkPermissionType(h),h=a.permission;var v={user:g,permission:h};p.push(v)}var y=JSON.stringify(p),b='{"acl":'+y+"}",w=JSON.stringify(b),A='{"app42":{"photo":{"acls":'+w+"}}}}";l.body=A,App42Connection.put(o,l,A,i,u)}}function buildAndSend(e,t,n,r){App42Service.call(this);var a=this,i=App42.URL("log/"+n);if(null!=e&&null!=t&&null!=n&&(e=e.trim(),t=t.trim(),n=n.trim()),""==e||""==t||""==n||null==e||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(e,"msg"),App42Fault.throwExceptionIfNullOrBlank(t,"module"),void App42Fault.throwExceptionIfNullOrBlank(n,"level");var o=a.populateSignParams(),l=a.populateMetaHeaderParams(),s=__merge(o,l),u='{"app42":{"log":{"message":"'+e+'","appModule":"'+t+'"}}}';o.body=u,App42Connection.post(i,o,u,r,s)}function fetchLogsByLevel(e,t){App42Service.call(this);var n=this;if(null!=e&&(e=e.trim()),""==e||null==e)return void App42Fault.throwExceptionIfNullOrBlank(e,"level");var r=App42.URL("log/type/"+e),a=n.populateSignParams(),i=n.populateMetaHeaderParams(),o=__merge(a,i);a.type=e,App42Connection.get(r,a,t,null,o)}function fetchLogsByLevelByPaging(e,t,n,r){App42Service.call(this);var a=this;if(null!=e&&(e=e.trim()),""==e||null==e)return void App42Fault.throwExceptionIfNullOrBlank(e,"level");var i=App42.URL("log/paging/type/"+e+"/"+t+"/"+n),o=a.populateSignParams(),l=a.populateMetaHeaderParams(),s=__merge(o,l);o.type=e,o.max=t,o.offset=n,App42Connection.get(i,o,r,null,s)}function fetchLogsCountByLevel(e,t){App42Service.call(this);var n=this;if(null!=e&&(e=e.trim()),""==e||null==e)return void App42Fault.throwExceptionIfNullOrBlank(e,"level");var r=App42.URL("log/type/"+e+"/count"),a=n.populateSignParams(),i=n.populateMetaHeaderParams(),o=__merge(a,i);a.type=e,App42Connection.get(r,a,t,null,o)}function App42Log(){App42Service.call(this);var e=this;this.info=function(e,t,n){return buildAndSend(e,t,"info",n)},this.debug=function(e,t,n){return buildAndSend(e,t,"debug",n)},this.fatal=function(e,t,n){return buildAndSend(e,t,"fatal",n)},this.error=function(e,t,n){return buildAndSend(e,t,"error",n)},this.fetchLogsByModule=function(t,n){if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"moduleName");var r=App42.URL("log/module/"+t),a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.moduleName=t,App42Connection.get(r,a,n,null,o)},this.fetchLogsByModuleByPaging=function(t,n,r,a){if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"moduleName");var i=App42.URL("log/paging/module/"+t+"/"+n+"/"+r),o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l);o.moduleName=t,o.max=n,o.offset=r,App42Connection.get(i,o,a,null,s)},this.fetchLogsCountByModule=function(t,n){if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"moduleName");var r=App42.URL("log/module/"+t+"/count"),a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.moduleName=t,App42Connection.get(r,a,n,null,o)},this.fetchLogsByModuleAndText=function(t,n,r){if((null!=t||null!=t)&&(t=t.trim(),n=n.trim()),""==t||null==t||""==n||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"moduleName"),void App42Fault.throwExceptionIfNullOrBlank(n,"text");var a=App42.URL("log/module/"+t+"/text/"+n),i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.moduleName=t,i.text=n,App42Connection.get(a,i,r,null,l)},this.fetchLogsByModuleAndTextByPaging=function(t,n,r,a,i){if((null!=t||null!=t)&&(t=t.trim(),n=n.trim()),""==t||null==t||""==n||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"moduleName"),void App42Fault.throwExceptionIfNullOrBlank(n,"text");var o=App42.URL("log/paging/module/"+t+"/text/"+n+"/"+r+"/"+a),l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s);l.moduleName=t,l.text=n,l.max=r,l.offset=a,App42Connection.get(o,l,i,null,u)},this.fetchLogsCountByModuleAndText=function(t,n,r){if((null!=t||null!=t)&&(t=t.trim(),n=n.trim()),""==t||null==t||""==n||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"moduleName"),void App42Fault.throwExceptionIfNullOrBlank(n,"text");var a=App42.URL("log/module/"+t+"/text/"+n+"/count"),i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.moduleName=t,i.text=n,App42Connection.get(a,i,r,null,l)},this.fetchLogsCountByInfo=function(e){return fetchLogsCountByLevel("INFO",e)},this.fetchLogsCountByDebug=function(e){return fetchLogsCountByLevel("DEBUG",e)},this.fetchLogsCountByError=function(e){return fetchLogsCountByLevel("ERROR",e)},this.fetchLogsCountByFatal=function(e){return fetchLogsCountByLevel("FATAL",e)},this.fetchLogsByInfo=function(e){return fetchLogsByLevel("INFO",e)},this.fetchLogsByInfoByPaging=function(e,t,n){return fetchLogsByLevelByPaging("INFO",e,t,n)},this.fetchLogsByDebug=function(e){return fetchLogsByLevel("DEBUG",e)},this.fetchLogsByDebugByPaging=function(e,t,n){return fetchLogsByLevelByPaging("DEBUG",e,t,n)},this.fetchLogsByError=function(e){return fetchLogsByLevel("ERROR",e)},this.fetchLogsByErrorByPaging=function(e,t,n){return fetchLogsByLevelByPaging("ERROR",e,t,n)},this.fetchLogsByFatal=function(e){return fetchLogsByLevel("FATAL",e)},this.fetchLogsByFatalByPaging=function(e,t,n){return fetchLogsByLevelByPaging("FATAL",e,t,n)},this.fetchLogByDateRange=function(t,n,r){if(""==t||null==t||""==n||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"startDate"),void App42Fault.throwExceptionIfNullOrBlank(n,"endDate");strStartDate=getODataUTCDateFilter(t),strEndDate=getODataUTCDateFilter(n);var a=App42.URL("log/startDate/"+strStartDate+"/endDate/"+strEndDate),i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.startDate=strStartDate,i.endDate=strEndDate,App42Connection.get(a,i,r,null,l)},this.fetchLogByDateRangeByPaging=function(t,n,r,a,i){if(""==t||null==t||""==n||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"startDate"),void App42Fault.throwExceptionIfNullOrBlank(n,"endDate");strStartDate=getODataUTCDateFilter(t),strEndDate=getODataUTCDateFilter(n);var o=App42.URL("log/paging/startDate/"+strStartDate+"/endDate/"+strEndDate+"/"+r+"/"+a),l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s);l.startDate=strStartDate,l.endDate=strEndDate,l.max=r,l.offset=a,App42Connection.get(o,l,i,null,u)},this.fetchLogCountByDateRange=function(t,n,r){if(""==t||null==t||""==n||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"startDate"),void App42Fault.throwExceptionIfNullOrBlank(n,"endDate");strStartDate=getODataUTCDateFilter(t),strEndDate=getODataUTCDateFilter(n);var a=App42.URL("log/startDate/"+strStartDate+"/endDate/"+strEndDate+"/count"),i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.startDate=strStartDate,i.endDate=strEndDate,App42Connection.get(a,i,r,null,l)},this.setEventWithModuleName=function(t,n,r){return null!=n&&(n=n.trim()),""==n||null==n?void App42Fault.throwExceptionIfNullOrBlank(n,"eventName"):(e.setModuleEvent(n),this.info("EventMessage",t,r))},this.setEvent=function(e,t){return this.info(e,"_App42_Event",t)}}function App42ImageProcessor(){App42Service.call(this);var e=this;this.resize=function(t,n,r,a,i){var o=App42.URL("image/resize");if(null!=t&&null!=n&&null!=r&&null!=a&&(t=t.trim()),""==t||""==n||""==r||null==a||""==a||null==t||null==n||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"name"),App42Fault.throwExceptionIfNullOrBlank(n,"imagePath"),App42Fault.throwExceptionIfNullOrBlank(r,"width"),void App42Fault.throwExceptionIfNullOrBlank(a,"height");var l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s);l.name=t,l.width=r,l.height=a,App42Connection.multipart(o,l,n,i,u)},this.thumbnail=function(t,n,r,a,i){var o=App42.URL("image/thumbnail");if(null!=t&&null!=n&&null!=r&&null!=a&&(t=t.trim()),""==t||""==n||""==r||null==a||""==a||null==t||null==n||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"name"),App42Fault.throwExceptionIfNullOrBlank(n,"imagePath"),App42Fault.throwExceptionIfNullOrBlank(r,"width"),void App42Fault.throwExceptionIfNullOrBlank(a,"height");var l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s);l.name=t,l.width=r,l.height=a,App42Connection.multipart(o,l,n,i,u)},this.scale=function(t,n,r,a,i){var o=App42.URL("image/scale");if(null!=t&&null!=n&&null!=r&&null!=a&&(t=t.trim()),""==t||""==n||""==r||null==a||""==a||null==t||null==n||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"name"),App42Fault.throwExceptionIfNullOrBlank(n,"imagePath"),App42Fault.throwExceptionIfNullOrBlank(r,"width"),void App42Fault.throwExceptionIfNullOrBlank(a,"height");var l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s);l.name=t,l.width=r,l.height=a,App42Connection.multipart(o,l,n,i,u)},this.crop=function(t,n,r,a,i,o,l){var s=App42.URL("image/crop");if(null!=t&&null!=n&&null!=r&&null!=a&&(t=t.trim()),""==t||""==n||""==r||null==a||""==a||null==t||null==n||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"name"),App42Fault.throwExceptionIfNullOrBlank(n,"imagePath"),App42Fault.throwExceptionIfNullOrBlank(r,"width"),void App42Fault.throwExceptionIfNullOrBlank(a,"height");var u=e.populateSignParams(),p=e.populateMetaHeaderParams(),c=__merge(u,p);u.name=t,u.width=r,u.height=a,u.x=i,u.y=o,App42Connection.multipart(s,u,n,l,c)},this.resizeByPercentage=function(t,n,r,a){var i=App42.URL("image/resizePercentage");if(null!=t&&null!=n&&null!=r&&(t=t.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"name"),App42Fault.throwExceptionIfNullOrBlank(n,"imagePath"),void App42Fault.throwExceptionIfNullOrBlank(r,"percentage");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l);o.name=t,o.percentage=r,App42Connection.multipart(i,o,n,a,s)},this.thumbnailByPercentage=function(t,n,r,a){var i=App42.URL("image/thumbnailPercentage");if(null!=t&&null!=n&&null!=r&&(t=t.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"name"),App42Fault.throwExceptionIfNullOrBlank(n,"imagePath"),void App42Fault.throwExceptionIfNullOrBlank(r,"percentage");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l);o.name=t,o.percentage=r,App42Connection.multipart(i,o,n,a,s)},this.scaleByPercentage=function(t,n,r,a){var i=App42.URL("image/scalePercentage");if(null!=t&&null!=n&&null!=r&&(t=t.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"name"),App42Fault.throwExceptionIfNullOrBlank(n,"imagePath"),void App42Fault.throwExceptionIfNullOrBlank(r,"percentage");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l);o.name=t,o.percentage=r,App42Connection.multipart(i,o,n,a,s)},this.convertFormat=function(t,n,r,a){var i=App42.URL("image/convertformat");if(null!=t&&null!=n&&null!=r&&(t=t.trim()),""==t||""==n||""==r||null==r||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"name"),App42Fault.throwExceptionIfNullOrBlank(n,"imagePath"),void App42Fault.throwExceptionIfNullOrBlank(r,"formatToConvert");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l);o.name=t,o.formatToConvert=r,App42Connection.multipart(i,o,n,a,s)}}function clean_hex(e,t){e=e.toUpperCase(),t&&(e=e.replace(/0x/gi,""));var n=e;return e=e.replace(/[^A-Fa-f0-9]/g,""),n!=e&&alert("Warning! Non-hex characters in input string ignored."),e}function binary_to_base64(e){for(var t=new Array,n=0,r=0,a=new Array(3),i=new Array(4),o=e.length,l=0;o--;)if(a[n++]=e[l++],3==n){for(i[0]=(252&a[0])>>2,i[1]=((3&a[0])<<4)+((240&a[1])>>4),i[2]=((15&a[1])<<2)+((192&a[2])>>6),i[3]=63&a[2],n=0;4>n;n++)t+=base64_chars.charAt(i[n]);n=0}if(n){for(r=n;3>r;r++)a[r]=0;for(i[0]=(252&a[0])>>2,i[1]=((3&a[0])<<4)+((240&a[1])>>4),i[2]=((15&a[1])<<2)+((192&a[2])>>6),i[3]=63&a[2],r=0;n+1>r;r++)t+=base64_chars.charAt(i[r]);for(;n++<3;)t+="="}return t}function Convert(e){var t=clean_hex(e,!1);if(t.length%2)return alert("Error: cleaned hex string length is odd."),document.frmConvert.base64.value="",!1;for(var n=new Array,r=0;r<t.length/2;r++){var a=t.substr(2*r,2);n[r]=parseInt(a,16)}return binary_to_base64(n)}function App42Geo(){App42Service.call(this);var e=this;this.createGeoPoints=function(t,n,r){var a=App42.URL("geo/createGeoPoints");if(null!=t&&(t=t.trim()),""==t||null==t||null==n||""==n)return App42Fault.throwExceptionIfNullOrBlank(t,"geoStorageName"),void App42Fault.throwExceptionIfNullOrBlank(n,"geoPointsList");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o),s=new Array;if(n instanceof Array)for(var u=0;u<n.length;u++){var p=n[u].lat,c=n[u].lng,d=n[u].marker,f={lat:p,lng:c,marker:d};s.push(f)}else{var m=n.lat,h=n.lng,g=n.marker,v={lat:m,lng:h,marker:g};s.push(v)}var y=JSON.stringify(s),b='{"app42":{ "geo": {"storage":{"storageName":"'+t+'" , "points": { "point": '+y+"}}}}}";i.body=b,App42Connection.post(a,i,b,r,l)},this.getNearByPointsByMaxDistance=function(t,n,r,a,i){var o=App42.URL("geo/getNearByPoints/storageName/"+t+"/lat/"+n+"/lng/"+r+"/distanceInKM/"+a);if(null!=t&&null!=n&&null!=r&&null!=a&&(t=t.trim()),""==t||null==t||null==n||""==n||null==r||""==r||""==a||null==a)return App42Fault.throwExceptionIfNullOrBlank(t,"storageName"),App42Fault.throwExceptionIfNullOrBlank(n,"lat"),App42Fault.throwExceptionIfNullOrBlank(r,"lng"),void App42Fault.throwExceptionIfNullOrBlank(a,"distanceInKM");var l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s);l.storageName=t,l.lat=n,l.lng=r,l.distanceInKM=a,App42Connection.get(o,l,i,null,u)},this.getNearByPoint=function(t,n,r,a,i){var o=App42.URL("geo/getNearByPoint/storageName/"+t+"/lat/"+n+"/lng/"+r+"/limit/"+a);if(null!=t&&null!=n&&null!=r&&null!=a&&(t=t.trim()),""==t||null==t||null==n||""==n||null==r||""==r||""==a||null==a)return App42Fault.throwExceptionIfNullOrBlank(t,"storageName"),App42Fault.throwExceptionIfNullOrBlank(n,"lat"),App42Fault.throwExceptionIfNullOrBlank(r,"lng"),void App42Fault.throwExceptionIfNullOrBlank(a,"resultLimit");var l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s);l.storageName=t,l.lat=n,l.lng=r,l.resultLimit=a,App42Connection.get(o,l,i,null,u)},this.getPointsWithInCircle=function(t,n,r,a,i,o){var l=App42.URL("geo/getPointsWithInCircle/storageName/"+t+"/lat/"+n+"/lng/"+r+"/radiusInKM/"+a+"/limit/"+i);if(null!=t&&null!=n&&null!=r&&null!=a&&null!=i&&(t=t.trim()),""==t||null==t||null==n||""==n||null==r||""==r||""==a||null==a||""==i||null==i)return App42Fault.throwExceptionIfNullOrBlank(t,"storageName"),App42Fault.throwExceptionIfNullOrBlank(n,"lat"),App42Fault.throwExceptionIfNullOrBlank(r,"lng"),App42Fault.throwExceptionIfNullOrBlank(a,"radiusInKM"),void App42Fault.throwExceptionIfNullOrBlank(i,"resultLimit");var s=e.populateSignParams(),u=e.populateMetaHeaderParams(),p=__merge(s,u);s.storageName=t,s.lat=n,s.lng=r,s.resultLimit=i,s.radiusInKM=a,App42Connection.get(l,s,o,null,p)},this.getAllPoints=function(t,n){var r=App42.URL("geo/points/"+t);if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"storageName");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.storageName=t,App42Connection.get(r,a,n,null,o)},this.getAllStorage=function(t){var n=App42.URL("geo/storage"),r=e.populateSignParams(),a=e.populateMetaHeaderParams(),i=__merge(r,a);App42Connection.get(n,r,t,null,i)},this.getAllStorageByPaging=function(t,n,r){var a=App42.URL("geo/paging/"+t+"/"+n),i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.max=t,i.offset=n,App42Connection.get(a,i,r,null,l)},this.deleteStorage=function(t,n){var r=App42.URL("geo/storage/"+t);if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"storageName");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.storageName=t,App42Connection.del(r,a,n,o)},this.deleteGeoPoints=function(t,n,r){var a=App42.URL("geo/points/"+t);if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"storageName");var i=new Array;if(n instanceof Array)for(var o=0;o<n.length;o++){var l=n[o].lat,s=n[o].lng,u=n[o].marker,p={lat:l,lng:s,marker:u};i.push(p)}else{var c=n.lat,d=n.lng,f=n.marker,m={lat:c,lng:d,marker:f};i.push(m)}var h=JSON.stringify(i),g='{ "point": '+h+"}",v=JSON.stringify(g),y='{"app42":{ "geo": {"storage":{"points": '+v+"}}}}",b=e.populateSignParams(),w=e.populateMetaHeaderParams(),A=__merge(b,w);b.geoPoints=y,App42Connection.del(a,b,r,A)}}function App42Game(){App42Service.call(this);var e=this;this.createGame=function(t,n,r){var a=App42.URL("game");if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"gameName"),void App42Fault.throwExceptionIfNullOrBlank(n,"gameDescription");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o),s='{"app42":{"game":{"name":"'+t+'","description":"'+n+'"}}}';i.body=s,App42Connection.post(a,i,s,r,l)},this.getAllGames=function(t){var n=App42.URL("game"),r=e.populateSignParams(),a=e.populateMetaHeaderParams(),i=__merge(r,a);App42Connection.get(n,r,t,null,i)},this.getAllGamesWithPaging=function(t,n,r){var a=App42.URL("game/paging/"+t+"/"+n),i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.max=t,i.offset=n,App42Connection.get(a,i,r,null,l)},this.getGameByName=function(t,n){var r=App42.URL("game/"+t);if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"gameName");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.name=t,App42Connection.get(r,a,n,null,o)},this.getAllGamesCount=function(t){var n=App42.URL("game/count"),r=e.populateSignParams(),a=e.populateMetaHeaderParams(),i=__merge(r,a);App42Connection.get(n,r,t,null,i)}}function App42Catalogue(){App42Service.call(this);var e=this;this.createCatalogue=function(t,n,r){var a=App42.URL("catalogue");if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"catalogueName"),void App42Fault.throwExceptionIfNullOrBlank(n,"catalogueDescription");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o),s='{"app42":{"catalogue":{"name":"'+t+'","description":"'+n+'"}}}';i.body=s,App42Connection.post(a,i,s,r,l)},this.createCategory=function(t,n,r,a){var i=App42.URL("catalogue/"+t+"/category");if(null!=t&&null!=n&&null!=r&&(t=t.trim(),n=n.trim(),r=r.trim()),""==t||""==r||""==n||null==t||null==r||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"catalogueName"),App42Fault.throwExceptionIfNullOrBlank(r,"categoryDescription"),void App42Fault.throwExceptionIfNullOrBlank(n,"categoryName");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l),u='{"app42":{"catalogue":{"categories":{"category":{"name":"'+n+'","description":"'+r+'"}}}}}';o.catalogueName=t,o.body=u,App42Connection.post(i,o,u,a,s)},this.addItem=function(t,n,r,a){var i=App42.URL("catalogue/"+t+"/"+n+"/item");if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"catalogueName"),void App42Fault.throwExceptionIfNullOrBlank(n,"categoryName");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l);o.catalogueName=t,o.categoryName=n,o.itemId=r.getItemId(),o.name=r.getName(),o.description=r.getDescription(),o.price=r.getPrice();var u=r.getImage();App42Connection.multipart(i,o,u,a,s)},this.getItems=function(t,n){var r=App42.URL("catalogue/"+t);if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"catalogueName");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.catalogueName=t,App42Connection.get(r,a,n,null,o)},this.getItemsByCategory=function(t,n,r){var a=App42.URL("catalogue/"+t+"/"+n);if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"catalogueName"),void App42Fault.throwExceptionIfNullOrBlank(n,"categoryName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.catalogueName=t,i.categoryName=n,App42Connection.get(a,i,r,null,l)},this.getItemsByCategoryWithPaging=function(t,n,r,a,i){var o=App42.URL("catalogue/paging/"+t+"/"+n+"/"+r+"/"+a);if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||""==r||null==r||""==a||null==a||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"catalogueName"),App42Fault.throwExceptionIfNullOrBlank(n,"categoryName"),App42Fault.throwExceptionIfNullOrBlank(r,"max"),void App42Fault.throwExceptionIfNullOrBlank(a,"offset");var l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s);l.catalogueName=t,l.categoryName=n,l.max=r,l.offset=a,App42Connection.get(o,l,i,null,u)},this.getItemsCountByCategory=function(t,n,r){var a=App42.URL("catalogue/"+t+"/"+n+"/count");if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"catalogueName"),void App42Fault.throwExceptionIfNullOrBlank(n,"categoryName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.catalogueName=t,i.categoryName=n,App42Connection.get(a,i,r,null,l)},this.getItemById=function(t,n,r,a){var i=App42.URL("catalogue/"+t+"/"+n+"/"+r);if(null!=t&&null!=n&&null!=r&&(t=t.trim(),n=n.trim(),r=r.trim()),""==t||""==r||""==n||null==t||null==r||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"catalogueName"),App42Fault.throwExceptionIfNullOrBlank(r,"itemId"),void App42Fault.throwExceptionIfNullOrBlank(n,"categoryName");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l);o.catalogueName=t,o.categoryName=n,o.itemId=r,App42Connection.get(i,o,a,null,s)},this.removeAllItems=function(t,n){var r=App42.URL("catalogue/"+t);if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"catalogueName");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.catalogueName=t,App42Connection.del(r,a,n,o)},this.removeItemsByCategory=function(t,n,r){var a=App42.URL("catalogue/"+t+"/"+n);if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"catalogueName"),void App42Fault.throwExceptionIfNullOrBlank(n,"categoryName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.catalogueName=t,i.categoryName=n,App42Connection.del(a,i,r,l)},this.removeItemById=function(t,n,r,a){var i=App42.URL("catalogue/"+t+"/"+n+"/"+r);if(null!=t&&null!=n&&null!=r&&(t=t.trim(),n=n.trim(),r=r.trim()),""==t||""==r||""==n||null==t||null==r||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"catalogueName"),App42Fault.throwExceptionIfNullOrBlank(r,"itemId"),void App42Fault.throwExceptionIfNullOrBlank(n,"categoryName");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l);o.catalogueName=t,o.categoryName=n,o.itemId=r,App42Connection.del(i,o,a,s)},this.deleteCategory=function(t,n,r){var a=App42.URL("catalogue/"+t+"/category/"+n);if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"catalogueName"),void App42Fault.throwExceptionIfNullOrBlank(n,"categoryName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.catalogueName=t,i.categoryName=n,App42Connection.del(a,i,r,l)}}function checkStatus(e){if(_status.DECLINED==e||_status.AUTHORIZED==e||_status.PENDING==e)return e;throw new App42Exception("PaymentStatus",e)}function App42Cart(){App42Service.call(this);var e=this;this.createCart=function(t,n){var r=App42.URL("cart");if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"user");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i),l='{"app42":{"cart":{"userName":"'+t+'"}}}';a.body=l,App42Connection.post(r,a,l,n,o)},this.getCartDetails=function(t,n){if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"cartId");var r=App42.URL("cart/"+t+"/details"),a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.cartId=t,App42Connection.get(r,a,n,null,o)},this.addItem=function(t,n,r,a,i){var o=App42.URL("cart/item/"+n);if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n||""==r||null==r||""==a||null==a)return App42Fault.throwExceptionIfNullOrBlank(t,"cartID"),App42Fault.throwExceptionIfNullOrBlank(n,"itemID"),App42Fault.throwExceptionIfNullOrBlank(r,"itemQuantity"),void App42Fault.throwExceptionIfNullOrBlank(a,"price");var l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s);l.itemId=n;var p='{"app42":{"cart":{"cartId":"'+t+'", "item":{"quantity":"'+r+'","amount":"'+a+'"}}}}';l.body=p,App42Connection.post(o,l,p,i,u)},this.getItems=function(t,n){var r=App42.URL("cart/"+t);if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"cartID");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.cartId=t,App42Connection.get(r,a,n,null,o)},this.getItem=function(t,n,r){var a=App42.URL("cart/"+t+"/"+n);if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"cartID"),void App42Fault.throwExceptionIfNullOrBlank(n,"itemID");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.cartId=t,i.itemId=n,App42Connection.get(a,i,r,null,l)},this.removeAllItems=function(t,n){var r=App42.URL("cart/"+t);if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"cartID");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.cartId=t,App42Connection.del(r,a,n,o)},this.removeItem=function(t,n,r){var a=App42.URL("cart/"+t+"/"+n);if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"cartID"),void App42Fault.throwExceptionIfNullOrBlank(n,"itemID");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.cartId=t,i.itemId=n,App42Connection.del(a,i,r,l)},this.isEmpty=function(t,n){var r=App42.URL("cart/"+t+"/isEmpty");if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"cartID");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.cartId=t,App42Connection.get(r,a,n,null,o)},this.checkOut=function(t,n){var r=App42.URL("cart/checkOut");if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"cartID");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i),l='{"app42":{"cart":{"cartId":"'+t+'"}}}';a.body=l,App42Connection.put(r,a,l,n,o)},this.payment=function(t,n,r,a){var i=App42.URL("cart/payment");if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||""==r||null==t||null==n||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"cartID"),App42Fault.throwExceptionIfNullOrBlank(n,"transactionID"),void App42Fault.throwExceptionIfNullOrBlank(r,"paymentStatus");checkStatus(r);var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l),u='{"app42":{"cart":{"cartId":"'+t+'","transactionId":"'+n+'","status":"'+r+'"}}}';o.body=u,App42Connection.put(i,o,u,a,s)},this.getPaymentsByUser=function(t,n){var r=App42.URL("cart/payments/user/"+t);if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"userID");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.userId=t,App42Connection.get(r,a,n,null,o)},this.getPaymentByCart=function(t,n){var r=App42.URL("cart/payments/cart/"+t);if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"cartID");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.cartId=t,App42Connection.get(r,a,n,null,o)},this.getPaymentsByUserAndStatus=function(t,n,r){var a=App42.URL("cart/payments/user/"+t+"/"+n);if(null!=t&&(t=t.trim()),""==t||null==t||""==n||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"userID"),void App42Fault.throwExceptionIfNullOrBlank(n,"paymentStatus");checkStatus(n);var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.userId=t,i.status=n,App42Connection.get(a,i,r,null,l)},this.getPaymentsByStatus=function(t,n){var r=App42.URL("cart/payments/status/"+t);if(""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"paymentStatus");checkStatus(t);var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.status=t,App42Connection.get(r,a,n,null,o)},this.getPaymentHistoryByUser=function(t,n){var r=App42.URL("cart/payment/history/"+t);if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"userID");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.userId=t,App42Connection.get(r,a,n,null,o)},this.getPaymentHistoryAll=function(t){var n=App42.URL("cart/payment/history"),r=e.populateSignParams(),a=e.populateMetaHeaderParams(),i=__merge(r,a);App42Connection.get(n,r,t,null,i)},this.increaseQuantity=function(t,n,r,a){var i=App42.URL("cart/increaseQuantity");if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||""==r||null==t||null==n||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"cartID"),App42Fault.throwExceptionIfNullOrBlank(n,"itemID"),void App42Fault.throwExceptionIfNullOrBlank(r,"itemQuantity");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l),u='{"app42":{"cart":{"cartId":"'+t+'","itemId":"'+n+'","quantity":"'+r+'"}}}';o.body=u,App42Connection.put(i,o,u,a,s)},this.decreaseQuantity=function(t,n,r,a){var i=App42.URL("cart/decreaseQuantity");if(null!=t&&null!=n){if(t=t.trim(),n=n.trim(),""==t||""==n||""==r||null==t||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"cartID"),App42Fault.throwExceptionIfNullOrBlank(n,"itemID"),void App42Fault.throwExceptionIfNullOrBlank(r,"itemQuantity");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l),u='{"app42":{"cart":{"cartId":"'+t+'","itemId":"'+n+'","quantity":"'+r+'"}}}';o.body=u,App42Connection.put(i,o,u,a,s)}}}function App42Buddy(){App42Service.call(this);var e=this;this.sendFriendRequest=function(t,n,r,a){var i=App42.URL("buddy");if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),void App42Fault.throwExceptionIfNullOrBlank(n,"buddyName");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l),u='{"app42":{"buddy":{"userName":"'+t+'","buddyName":"'+n+'","message":"'+r+'"}}}';o.body=u,App42Connection.post(i,o,u,a,s)},this.getFriendRequest=function(t,n){var r=App42.URL("buddy/"+t);if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"userName");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.userName=t,App42Connection.get(r,a,n,null,o)},this.acceptFriendRequest=function(t,n,r){var a=App42.URL("buddy");if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),void App42Fault.throwExceptionIfNullOrBlank(n,"buddyName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o),s='{"app42":{"buddy":{"userName":"'+t+'","buddyName":"'+n+'"}}}';i.body=s,App42Connection.put(a,i,s,r,l)},this.rejectFriendRequest=function(t,n,r){var a=App42.URL("buddy/userName/"+t+"/buddyName/"+n);if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),void App42Fault.throwExceptionIfNullOrBlank(n,"buddyName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.userName=t,i.buddyName=n,App42Connection.del(a,i,r,l)},this.getAllFriends=function(t,n){var r=App42.URL("buddy/friends/"+t),a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.userName=t,App42Connection.get(r,a,n,null,o)},this.createGroupByUser=function(t,n,r){var a=App42.URL("buddy/group");if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),void App42Fault.throwExceptionIfNullOrBlank(n,"groupName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o),s='{"app42":{"buddy":{"userName":"'+t+'","groupName":"'+n+'"}}}';i.body=s,App42Connection.post(a,i,s,r,l)},this.addFriendToGroup=function(t,n,r,a){var i=App42.URL("buddy/group/friends");if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),void App42Fault.throwExceptionIfNullOrBlank(n,"groupName");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l),u=JSON.stringify(r),p='{"app42":{"buddy":{"userName":"'+t+'","groupName":"'+n+'","friends":{"friend":'+u+"}}}}";o.body=p,App42Connection.post(i,o,p,a,s)},this.checkedInGeoLocation=function(t,n,r){var a=App42.URL("buddy/checkedIn");if(null!=t&&(t=t.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),void App42Fault.throwExceptionIfNullOrBlank(n,"geoPointsList");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o),s=n.lat,u=n.lng,p=n.marker,c={lat:s,lng:u,marker:p},d=JSON.stringify(c),f='{"point":'+d+"}",m='{"app42":{"buddy":{"userName":"'+t+'","points":'+f+"}}}";i.body=m,App42Connection.post(a,i,m,r,l)},this.getFriendsByLocation=function(t,n,r,a,i,o){var l=App42.URL("buddy/friends/location/"+t+"/"+a+"/"+n+"/"+r+"/"+i),s=e.populateSignParams(),u=e.populateMetaHeaderParams(),p=__merge(s,u);s.userName=t,s.maxDistance=a,s.latitude=n,s.longitude=r,s.max=i,App42Connection.get(l,s,o,null,p)},this.getAllGroups=function(t,n){var r=App42.URL("buddy/groupall/"+t),a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.userName=t,App42Connection.get(r,a,n,null,o)},this.getAllFriendsInGroup=function(t,n,r,a){var i=App42.URL("buddy/friends/"+t+"/group/"+n+"/"+r),o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l);o.userName=t,o.ownerName=n,o.groupName=r,App42Connection.get(i,o,a,null,s)},this.blockFriendRequest=function(t,n,r){var a=App42.URL("buddy/block/userName/"+t+"/buddyName/"+n);if(null!=n&&null!=t&&(n=n.trim(),t=t.trim()),""==t||null==t||""==n||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),void App42Fault.throwExceptionIfNullOrBlank(n,"buddyName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.userName=t,i.buddyName=n,App42Connection.del(a,i,r,l)},this.blockUser=function(t,n,r){var a=App42.URL("buddy/block");if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||0==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),void App42Fault.throwExceptionIfNullOrBlank(n,"buddyName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o),s='{"app42":{"buddy":{"userName":"'+t+'","buddyName":"'+n+'"}}}';i.body=s,App42Connection.post(a,i,s,r,l)},this.unblockUser=function(t,n,r){var a=App42.URL("buddy/unblock");if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||0==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),void App42Fault.throwExceptionIfNullOrBlank(n,"buddyName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o),s='{"app42":{"buddy":{"userName":"'+t+'","buddyName":"'+n+'"}}}';i.body=s,App42Connection.put(a,i,s,r,l)},this.sendMessageToGroup=function(t,n,r,a,i){var o=App42.URL("buddy/groupmessage");if(null!=t&&null!=n&&null!=r&&null!=a&&(t=t.trim(),n=n.trim(),r=r.trim(),a=a.trim()),""==t||""==n||null==r||null==a||""==t||""==n||null==r||null==a)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),App42Fault.throwExceptionIfNullOrBlank(n,"ownerName"),App42Fault.throwExceptionIfNullOrBlank(r,"groupName"),void App42Fault.throwExceptionIfNullOrBlank(a,"message");var l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s),p='{"app42":{"buddy":{"userName":"'+t+'","ownerName":"'+n+'","groupName":"'+r+'","message":"'+a+'"}}}';l.body=p,App42Connection.post(o,l,p,i,u)},this.sendMessageToFriend=function(t,n,r,a){var i=App42.URL("buddy/friendmessage");if(null!=t&&null!=n&&null!=r&&(t=t.trim(),n=n.trim(),r=r.trim()),""==t||""==n||null==r||""==t||""==n||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),App42Fault.throwExceptionIfNullOrBlank(n,"buddyName"),void App42Fault.throwExceptionIfNullOrBlank(r,"message");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l),u='{"app42":{"buddy":{"userName":"'+t+'","buddyName":"'+n+'","message":"'+r+'"}}}';o.body=u,App42Connection.post(i,o,u,a,s)},this.sendMessageToFriends=function(t,n,r){var a=App42.URL("buddy/messageAll");if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||null==n||""==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),void App42Fault.throwExceptionIfNullOrBlank(n,"message");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o),s='{"app42":{"buddy":{"userName":"'+t+'","message":"'+n+'"}}}';i.body=s,App42Connection.post(a,i,s,r,l)},this.getAllMessages=function(t,n){var r=App42.URL("buddy/message/"+t);if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"userName");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.userName=t,App42Connection.get(r,a,n,null,o)},this.getAllMessagesFromBuddy=function(t,n,r){var a=App42.URL("buddy/buddyMessage/"+t+"/"+n),i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.userName=t,i.buddyName=n,App42Connection.get(a,i,r,null,l)},this.getAllMessagesFromGroup=function(t,n,r,a){var i=App42.URL("buddy/"+t+"/groupMassaage/"+n+"/"+r);if(null!=t&&null!=n&&null!=r&&(t=t.trim(),n=n.trim(),r=r.trim()),""==t||""==n||null==r||""==t||""==n||null==r)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),App42Fault.throwExceptionIfNullOrBlank(n,"groupOwner"),void App42Fault.throwExceptionIfNullOrBlank(r,"groupName");var o=e.populateSignParams(),l=e.populateMetaHeaderParams(),s=__merge(o,l);o.userName=t,o.ownerName=n,o.groupName=r,App42Connection.get(i,o,a,null,s)}}function App42Avatar(){App42Service.call(this);var e=this;this.createAvatar=function(t,n,r,a,i){var o=App42.URL("avatar/file/"+n);if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||""==r||""==a||null==t||null==n||null==r||null==a)return App42Fault.throwExceptionIfNullOrBlank(t,"AvatarName"),App42Fault.throwExceptionIfNullOrBlank(n,"userName"),App42Fault.throwExceptionIfNullOrBlank(r,"filePath"),void App42Fault.throwExceptionIfNullOrBlank(a,"description");var l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s);l.avatarName=t,l.userName=n,l.description=a,App42Connection.multipart(o,l,r,i,u)},this.createAvatarFromFacebook=function(t,n,r,a,i){if(null!=t&&null!=n&&(name=name.trim(),n=n.trim()),""==t||""==n||""==r||""==a||null==t||null==n||null==r||null==a)return App42Fault.throwExceptionIfNullOrBlank(t,"avatarName"),App42Fault.throwExceptionIfNullOrBlank(n,"userName"),App42Fault.throwExceptionIfNullOrBlank(r,"accessToken"),void App42Fault.throwExceptionIfNullOrBlank(a,"description");var o=App42.URL("avatar/facebook"),l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s),p='{"app42":{"avatar":{"userName":"'+n+'","avatarName":"'+t+'","accessToken":"'+r+'","description":"'+a+'"}}}';l.body=p,App42Connection.post(o,l,p,i,u)},this.createAvatarFromWebURL=function(t,n,r,a,i){if(null!=t&&null!=n&&(name=name.trim(),n=n.trim()),""==t||""==n||""==r||""==a||null==t||null==n||null==r||null==a)return App42Fault.throwExceptionIfNullOrBlank(t,"avatarName"),App42Fault.throwExceptionIfNullOrBlank(n,"userName"),App42Fault.throwExceptionIfNullOrBlank(r,"webUrl"),void App42Fault.throwExceptionIfNullOrBlank(a,"description");var o=App42.URL("avatar/weburl"),l=e.populateSignParams(),s=e.populateMetaHeaderParams(),u=__merge(l,s),p='{"app42":{"avatar":{"userName":"'+n+'","avatarName":"'+t+'","webUrl":"'+r+'","description":"'+a+'"}}}';l.body=p,App42Connection.post(o,l,p,i,u)},this.getAvatarByName=function(t,n,r){var a=App42.URL("avatar/"+n+"/"+t);if(null!=n&&null!=t&&(n=n.trim(),t=t.trim()),""==n||""==t||null==n||null==t)return App42Fault.throwExceptionIfNullOrBlank(n,"userName"),void App42Fault.throwExceptionIfNullOrBlank(t,"avatarName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o);i.userName=n,i.avatarName=t,App42Connection.get(a,i,r,null,l)},this.getAllAvatars=function(t,n){var r=App42.URL("avatar/"+t);if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"userName");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.userName=t,App42Connection.get(r,a,n,null,o)},this.getCurrentAvatar=function(t,n){var r=App42.URL("avatar/current/"+t);if(null!=t&&(t=t.trim()),""==t||null==t)return void App42Fault.throwExceptionIfNullOrBlank(t,"userName");var a=e.populateSignParams(),i=e.populateMetaHeaderParams(),o=__merge(a,i);a.userName=t,App42Connection.get(r,a,n,null,o)},this.changeCurrentAvatar=function(t,n,r){var a=App42.URL("avatar");if(null!=t&&null!=n&&(t=t.trim(),n=n.trim()),""==t||""==n||null==t||null==n)return App42Fault.throwExceptionIfNullOrBlank(t,"userName"),void App42Fault.throwExceptionIfNullOrBlank(n,"avatarName");var i=e.populateSignParams(),o=e.populateMetaHeaderParams(),l=__merge(i,o),s='{"app42":{"avatar":{"userName":"'+t+'","avatarName":"'+n+'"}}}';i.body=s,App42Connection.put(a,i,s,r,l)}}function AnswerObj(){}function GamePlay(){}function GameScreen(){}function startGameTimer(e,t){var n=(e/1e3).toFixed(0),r=setInterval(function(){if(n-=1,0>n)t(),clearTimeout(r);else{var a=100-n/(e/1e3)*100;$(".vsModeStartTimer .timer").html('<div class="percent"></div><div id="slice"'+(a>50?' class="gt50"':"")+'><div class="pie"></div>'+(a>50?'<div class="pie fill"></div>':"")+'</div><div class="time-bg"></div>');var i=3.6*a;$(".vsModeStartTimer .timer").find(".pie").css({"-moz-transform":"rotate("+i+"deg)","-webkit-transform":"rotate("+i+"deg)","-o-transform":"rotate("+i+"deg)",transform:"rotate("+i+"deg)"}),$(".vsModeStartTimer .timer").find(".percent").html(n)}},1e3)}function GameStats(){}function Message(){}function PlayerInfo(e){this.playerUUID=e.playerUUID,this.pubNubChannel=e.pubNubChannel,this.playerName=e.playerName,this.playerImage=e.playerImage,this.insticatorUser=e.insticatorUser,this.requestRecievedAt=e.requestRecievedAt,this.answersArray=[],this.sendMessage=function(e){PubNubUtils.publishMessage(this.pubNubChannel,e,PubNubUtils.handleError)},this.recieveMessage=function(e){switch(e.controlType){case Message.controlType.pair:if(VsResponse.responseStatus===VsResponse.responseStatusType.wait&&Message.validatePairRequest(e)){VsResponse.responseStatus=VsResponse.responseStatusType.pair,VsResponse.otherPlayer=new PlayerInfo(e.message.thisPlayer),GamePlay.initiator=!1,GamePlay.setGameQuestions(e.message.questionObj),GamePlay.pairingStatus=!0;var t=Message.getGameMessage(Message.controlType.pairResponse,{status:!0});VsResponse.otherPlayer.sendMessage(t),GamePlay.pairingComplete()}break;case Message.controlType.pairResponse:e.message.status?GamePlay.pairingStatus=!0:console.error("Improper game response recieved : "+e.message.status);break;case Message.controlType.quesAnswered:var n=e.message,r=n.questioNum;VsResponse.otherPlayer.answersArray[r]=n,r!==GamePlay.currentQuestionNum&&console.error("I recieved a OUT OF ORDER ANSWER");break;default:console.error("Invalid control type for message")}},this.subscribe=function(e){var t=this.pubNubChannel,n=this.recieveMessage;PubNubUtils.pubnub.here_now({channel:t,callback:function(r){1===r.occupancy?e():PubNubUtils.subscribe(t,n,e,PubNubUtils.handleDisconnect,PubNubUtils.handleReconnect,PubNubUtils.handleError,PubNubUtils.handlePresence)}})},this.handlePresence=function(e){console.log("Presence event :"+JSON.stringify(e))},this.unsubscribe=function(){PubNubUtils.unsubscribeChannel(this.pubNubChannel)},this.checkAnswerRecieved=function(e){return"undefined"!=typeof this.answersArray[e]},this.getAnswerResult=function(e){return this.answersArray[e].resultType},this.serialize=function(){var e=this.playerUUID,t=this.pubNubChannel,n=this.requestRecievedAt,r=this.answersArray,a=this.playerName,i=this.playerImage,o=this.insticatorUser,l={playerUUID:e,pubNubChannel:t,requestRecievedAt:n,answersArray:r,playerName:a,playerImage:i,insticatorUser:o};return l},this.getTotalPoints=function(){for(var e=0,t=this.answersArray.length,n=0;t>n;n++)e+=this.answersArray[n].points;return e}}function PubNubUtils(){}function VsModeImpl(){}function VsResponse(){function e(){GameScreen.showFindingPlayerScreen(VsResponse.thisPlayer.serialize()),VsResponse.thisPlayer.subscribe(function(){VsModeImpl.requestCreateBotva()})}function t(){GameScreen.showFindingPlayerScreen(VsResponse.thisPlayer.serialize()),VsResponse.thisPlayer.subscribe(function(){GamePlay.startGamePlay()})}function n(){VsModeImpl.restartVsMode()}function r(e){VsResponse.responseStatus=e.status,VsResponse.thisPlayer="undefined"!=typeof e.thisPlayer?new PlayerInfo(e.thisPlayer):null,VsResponse.otherPlayer="undefined"!=typeof e.otherPlayer?new PlayerInfo(e.otherPlayer):null}this.handleVsModeResponse=function(a){switch(r(a),VsResponse.responseStatus){case VsResponse.responseStatusType.wait:e();break;case VsResponse.responseStatusType.pair:t();break;case VsResponse.responseStatusType.retry:n();break;default:console.log("ERROR : unable to get proper response data : "+a)}}}function setMinHeightOfTriviaContainer(e){var t=document.getElementById("triviaContainer");t.style.minHeight=e+"px"}function readCookie(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var a=n[r];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return null}function selectMode(e,t){"undefined"!=typeof e&&1===e?(VsModeImpl.requestVsMode(),$.removeCookie("facebookUserVS",{path:"/"})):t()}function initializeQuestionList(e){function t(e){$.each(e,function(e,t){shuffle(t.predictionOption)})}t(e);for(var n=0;n<e.length;n++)questionList.correctList.push(e[n].predictionResult.predictionOptionUUID),questionList.points.push(e[n].prediction.predictionWinningPoints),$(".userStatus").append('<span><i class="fa fa-minus"></i></span>')}function shuffle(e){for(var t,n,r=e.length;0!==r;)n=Math.floor(Math.random()*r),r-=1,t=e[r],e[r]=e[n],e[n]=t;return e}function attachAnalyticsClickEvents(){$("body").on("click","[analyticsEventClass=categoryTitle]",function(e){clickEvent(e,this,clickEventString.categoryTitle,clickEventString.apiEmbed,!1)}),$("body").on("click","[analyticsEventClass=questionImage]",function(e){clickEvent(e,this,clickEventString.questionImage,clickEventString.apiEmbed,!1)}),$("body").on("click","[analyticsEventClass=leaderboard]",function(e){clickEvent(e,this,clickEventString.leaderboard,clickEventString.apiEmbed,!1)}),$("body").on("click","[analyticsEventClass=headerIcon]",function(e){clickEvent(e,this,clickEventString.headerIcon,clickEventString.apiEmbed,!1)}),$("body").on("click","[analyticsEventClass=createYourOwnEmbed]",function(e){clickEvent(e,this,clickEventString.createYourOwnEmbed,clickEventString.apiEmbed,!1)})}function enableRefresh(){return canAutoRefresh()||$("#autorefresh").val(1),!1}function canAutoRefresh(){return"0"===$("#autorefresh").val()?!1:!0}function updateTheSocialLink(e){var t=e;$(".fb-icon,.twitter-icon,.tum-icon").each(function(){var e="";if(e=$(this).attr("firsthref")+t,""!==$(this).attr("secondhref"))if("0"===$(this).attr("gameshare")){var n=$("#predictionID"+questionList.currentNum).find(".api-pre-title").text(),r=replaceAll('"',"'",n);e=e+$(this).attr("secondhref")+r}else e=e+$(this).attr("secondhref")+$("#winnerShare").attr("title");$(this).attr("onclick",'window.open("'+e+'","LoginWindow","location=1,scrollbars=no,width=500,height=300")')})}function replaceAll(e,t,n){return n.replace(new RegExp(e,"g"),t)}function shortenURL(e){var t="";if(e)try{$.ajax({url:"https://www.googleapis.com/urlshortener/v1/url?key="+$("#GOOGLE_URL_SHORTENER_API_KEY").val(),type:"POST",contentType:"application/json; charset=utf-8",data:JSON.stringify({longUrl:e}),dataType:"json",async:!1,timeout:2e3,success:function(e){t=e.id},error:function(){t=e}})}catch(n){t=e}return t}function requireLogin(){return"1"===$("#requireLogin").val()?!0:!1}function userIsLoggedIn(){return"1"===$("#isLoggedOn").val()?!0:!1}function showResult(e,t,n){if(clearInterval(timerCount.timer),n.find(".enabledOption").removeClass("enabledOption"),updateUserStatus(gameUser.player1,""),$(".vsStatus").empty(),""===e)n.find(".api-pre-option").addClass("timeoutOption"),n.find(".timer").addClass("incorrect").html('<i class="fa fa-clock-o"></i>'),updateUserStatus(gameUser.player1,0),updateTooltip(gameUser.player1,AnswerObj.resultTypes.notAnswered,0,timerCount.timerSeconds),n.find(".api-pre-option").prepend('<div class="vsContent vsStatus"><p style="margin-bottom:20px;">Correct Answer</p></div>'),vsMode&&GamePlay.forceAnswer();else{var r=$('li[optionid="'+t+'"]'),a=r.offset().top-n.find(".api-pre-option").offset().top,i=timerCount.timerSeconds-timerCount.timerCurrent,o=null,l=0,s=!0,u=GameScreen.getCorrectText(r);t===e?(r.addClass("correct"),n.find(".timer").addClass("correct").html('<i class="fa fa-check"></i>'),$(".vsStatus").html("<h1>Awesome!</h1>"),vsMode?increasePoints(gameUser.player1,questionList.points[questionList.currentNum]):(r.html(u),increasePoints(gameUser.player1,projectsConfig.game.pointsCorrectAnswer)),updateUserStatus(gameUser.player1,1),o=AnswerObj.resultTypes.correct,updateTooltip(gameUser.player1,AnswerObj.resultTypes.correct,questionList.points[questionList.currentNum],i),l=questionList.points[questionList.currentNum]):(r.addClass("incorrect"),n.find(".timer").addClass("incorrect").html('<i class="fa fa-times"></i>'),n.find(".api-pre-option").prepend('<div class="vsContent vsStatus"><p style="margin-bottom:20px;">Correct Answer</p></div>'),updateUserStatus(gameUser.player1,0),o=AnswerObj.resultTypes.wrong,updateTooltip(gameUser.player1,o,0,i),l=0),n.find("li.api-each-option:not(.correct,.incorrect)").parent().fadeOut("800",function(){r.parent().css("width","100%"),r.css({"margin-top":a+"px"}),r.animate({marginTop:"0px"},500,function(){vsMode&&s&&(GamePlay.answerQuestion(null,o,i,l),s=!1),vsMode||GameScreen.showSoloAnswer(o,i,l,r)})})}vsMode||(questionList.currentNum=questionList.currentNum+1,$(".arrow_box,.vsStatus").hide(),setTimeout(function(){questionList.answeredWrong.length>=embedSettings.totalIncorrectAnswers?GameScreen.showArticlesScreen():embedSettings.showPolls&&pollList.list.length>0&&questionList.currentNum%embedSettings.pollsInterval===0&&pollList.currentNum<pollList.list.length?showPolls():getNextTriva()},2e3))}function updateUserStatus(e,t){var n=questionList.currentNum+1;e.find(".userStatus span:nth-child("+n+")").html(1===t?'<i class="fa fa-check"></i>':'<i class="fa fa-times"></i>')}function updateTooltip(e,t,n){switch(t){case AnswerObj.resultTypes.correct:e.find(".arrow_box").removeClass("correct").removeClass("wrong").addClass("correct");break;case AnswerObj.resultTypes.wrong:e.find(".arrow_box").removeClass("correct").removeClass("wrong").addClass("wrong");break;case AnswerObj.resultTypes.notAnswered:e.find(".arrow_box").removeClass("correct").removeClass("wrong").addClass("wrong")}e.find(".arrow_box .pointsEarn").html(n)}function getNextTriva(){if($(".userStatus .current").removeClass("current"),questionList.currentNum<questionList.list.length){var e=$("#predictionID"+questionList.currentNum);if(0===questionList.currentNum)e.fadeIn(500,function(){DiffProgress.executeDiffProgress(),startWatch()});else{var t=questionList.currentNum-1,n=questionList.currentNum+1;$("#predictionID"+n+" img").addClass("lazypreload"),$("#predictionID"+t).fadeOut(500,function(){5===parseInt($("#tempositionNum").val())&&!vsMode&&enableVSmode&&"undefined"==typeof $.cookie("ck_dontShowVSPromotingScreen")&&DiffProgress.getMode()!==DiffProgress.mode.speed?(GameScreen.showPromotingScreen(),$("#tempositionNum").val(0)):e.fadeIn(500,function(){DiffProgress.executeDiffProgress(),startWatch()})})}var r=questionList.currentNum+1;$(".userStatus span:nth-child("+r+")").addClass("current")}else if(questionList.list.length>0&&questionList.currentNum===questionList.list.length)GameScreen.showArticlesScreen();else if(0===questionList.list.length)return GameScreen.showNoGameScreen(),!1}function disablePollButtons(){pollList.currentNum>=pollList.list.length-1?$(".nextPoll").addClass("disabled"):$(".nextPoll").removeClass("disabled"),pollList.currentNum<=0?$(".prevPoll").addClass("disabled"):$(".prevPoll").removeClass("disabled")}function closePolls(){$("#pollsContainer").fadeOut(),getNextTriva()}function setActivePoll(){$(".activePoll").removeClass("activePoll"),$("#pollID"+pollList.currentNum).addClass("activePoll")}function answerCurrentPoll(e,t,n){var r=$(".activePoll"),a=pollList.list[pollList.currentNum],i=a.predictionOption;pollList.alreadyAnswered.push(a),Analytics.events.answerQuestion(e,t,n),PollMetrics.getMetricsForQuestion(a.prediction.predictionUUID,function(e){a.predictionOption=PollMetrics.parseMetricsDataForBarChart(e,i),console.log(a),r.fadeOut(function(){dust.render(evertest.getEmbedTemplatePath("pollResult"),a,function(e,t){r.html(t),r.fadeIn()})})})}function continueAfterAnswerPolls(){setTimeout(function(){pollList.autoContinuePoll.active&&!$(".nextPoll").hasClass("disabled")?$("#pollsContainer .nextPoll").click():$("#pollID"+pollList.currentNum).fadeOut(function(){closePolls(),pollList.currentNum+=1})},pollList.autoContinuePoll.timeout)}function showPolls(){if($(".userStatus .current").removeClass("current"),disablePollButtons(),pollList.currentNum<pollList.list.length&&pollList.currentNum>=0)$("#pollsContainer").fadeIn(),$("#pollID"+pollList.currentNum).fadeIn(),setActivePoll();else if(0===pollList.list.length)return!1}function getCurrentUserUUID(){return $("#userUUID").val()}function lookForSignin(e){$("#loginSignupModal").length>0&&set_login_signup(e),globalSelectors.column1.is(":hidden")&&$('.btn[targetContainer="column1"]').trigger("click");var t={signUpLogin:e};popupbox(t,"signinClass","signUpLogin")}function lookForSignout(){var e=$("#evertestURL").val(),t=$("<iframe></iframe>");t.attr("src",e+"/logout"),t.css({display:"none"}),globalSelectors.body.append(t),setTimeout(function(){window.location.reload()},100)}function drawTimer(){timerCount.timerCurrent=timerCount.timerCurrent-1;var e=100-timerCount.timerCurrent/timerCount.timerSeconds*100,t=$("#predictionID"+questionList.currentNum);t.find(".timer").html('<div class="percent"></div><div id="slice"'+(e>50?' class="gt50"':"")+'><div class="pie"></div>'+(e>50?'<div class="pie fill"></div>':"")+'</div><div class="time-bg"></div>');var n=3.6*e;t.find(".pie").css({"-moz-transform":"rotate("+n+"deg)","-webkit-transform":"rotate("+n+"deg)","-o-transform":"rotate("+n+"deg)",transform:"rotate("+n+"deg)"}),t.find(".percent").html(timerCount.timerCurrent),questionList.points[questionList.currentNum]=Math.round(timerCount.timerCurrent/timerCount.timerSeconds*timerCount.timerPoints)}function stopWatch(){timerCount.timerCurrent<=0?showResult("","",$("#predictionID"+questionList.currentNum)):drawTimer()}function setCustomCookie(e,t){var n=new Date,r=t;n.setTime(n.getTime()+60*r*1e3),$.cookie(e,1,{expires:n,path:"/"}),console.log($.cookie(e))}function startWatch(){timerCount.timerCurrent=timerCount.timerSeconds,timerCount.timerPoints=questionList.points[questionList.currentNum],$("#predictionID"+questionList.currentNum).find(".timer").html('<div class="percent">'+timerCount.timerCurrent+'</div><div class="time-bg"></div>').show(),timerCount.timer=setInterval(function(){vsMode?clearInterval(timerCount.timer):stopWatch()},1e3)}function popupbox(e,t,n){var r=!0;0===$("."+t).length&&(dust.render(evertest.getEmbedTemplatePath("popUpBox"),{className:t},function(e,t){globalSelectors.column1.prepend(t)}),dust.render(evertest.getEmbedTemplatePath(n),e,function(e,n){$("."+t).append(n)})),r===!0&&$("."+t).fadeIn()}function fadeOut(){$("#predictionID"+questionList.currentNum);return $(".popupbox").fadeOut(),!1}function increasePoints(e,t){var n=e.find(".userInfo p span"),r=parseInt(n.text())+t;n.html(r)}function checkSignupEvent(e){var t=$("#checkSignupEvent");"false"===t.val()&&($("#email").val().length>0||$("#password").val().length>0||"true"===e)&&(signupLoginEvent("start"),t.val("true"))}function facebookOnClick(e,t){return openUrl(facebookLogin()),clickEvent(e,t,clickEventString.facebookSignup,clickEventString.apiEmbed,!1)}function retrieveCurrentUserRanking(e,t){App42.initialize(Insticator_Shephertz_API_Key,Insticator_Shephertz_Secret_Key);var n=(new App42Game,new App42ScoreBoard);n.getUserRanking(e,t,{success:function(e){var t=JSON.parse(e),n=t.app42.response.games.game,r=(n.name,n.scores.score.rank),a=n.scores.score.value,i=$("#current-user-rank").html().replace("--",r);$("#current-user-rank").html(i);var o=$("#current-user-points").html().replace("--",a);$("#current-user-points").html(o)},error:function(){}})}function gobackSingleMode(){VsModeImpl.goBackToSoloMode(function(){location.reload()})}function refreshPage(){location.reload(!0)}function executeAction(e){switch(e.data.action){case"updatePoints":var t=parseInt(gameUser.player1.find(".userInfo p span").text())+1e3;gameUser.player1.find(".userInfo p span").html(t);break;case"socialShare":updateTheSocialLink(e.data.domain);break;case"facebookLoginComplete":console.log("facebookLogin complete"),e.source.close(),location.reload(!1)}}function startVsMode(e,t){clickEvent(e,t,clickEventString.playVsMode,clickEventString.apiEmbed,!1),clearInterval(timerCount.timer),userIsLoggedIn()||!requireLogin()?VsModeImpl.requestVsMode():GameScreen.showNamingPlayerScreen()}requirejs.config({waitSeconds:12,shim:{jquery:{exports:"$"},jsRoutes:{exports:"jsRoutes"},dusthelper:{deps:["dust"]},simpleCarousel:{deps:["jquery"]},cloudinary:{deps:["jquery"]}},paths:{jquery:"lib/jquery",bootstrap:"//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min",dust:"lib/dust-2-7-2",pubnub:"lib/pubnub",algoliasearch:"//cdn.jsdelivr.net/algoliasearch/2/algoliasearch.min",typeahead:"//cdnjs.cloudflare.com/ajax/libs/typeahead.js/0.10.4/typeahead.bundle.min",hogan:"//cdn.jsdelivr.net/hogan.js/3.0.0/hogan.common",mixpanel:"//cdn.mxpnl.com/libs/mixpanel-platform/build/mixpanel-platform.v0.latest.min",timeZoneJS:"//cdnjs.cloudflare.com/ajax/libs/jstimezonedetect/1.0.4/jstz.min",lazysizes:"//cdnjs.cloudflare.com/ajax/libs/lazysizes/1.1.5/lazysizes.min",keen_io:"lib/keen-io-3.4.1-rc1",slick:"lib/slick",cloudinary:"lib/jquery.cloudinary",intlTelInput:"lib/intlTelInput.min",intlTelInputUtils:"lib/intlTelInputUtils",dusthelper:"lib/dust-helpers",chart:"lib/Chart.min",headroom:"lib/headroom.min",jQueryHeadroom:"lib/jQuery.headroom.min",slider:"lib/jquery.flexslider-min",datepicker:"lib/datepicker",tablesorter:"lib/jquery.tablesorter",select2:"lib/select2",app42:"lib/App42-all-1.9.1.min",nprogress:"lib/nprogress",mixpanelExport:"lib/mixpanel_data_export",simpleCarousel:"lib/owl-carousel",responsiveImages:"lib/ls.respimg",objectFitPolyfill:"lib/polyfill.object-fit",validation:"validation",utils:"utils",admin_control:"control/Admin",adProvider_control:"control/AdProviders",auth_control:"control/Auth",clients_control:"control/Clients",dashboard_control:"control/Dashboard",info_control:"control/Info",revenues_control:"control/Revenues",invoices_control:"control/Invoices",sites_control:"control/Sites",colorpalettes_control:"control/ColorPalettes",embeds_control:"control/Embeds",embeds_status_control:"control/EmbedStatus",triviaGroup_control:"control/TriviaGroups",evertestWeb:"dashboard/evertest-web",easyuiCustom:"admin/easyui-custom",manageAdmin:"../templates/admin/manageAdmin",modal_delete:"../templates/admin/modal_delete.js",all_clients:"../templates/admin/all_clients",all_sites:"../templates/admin/all_sites",all_sites_full:"../templates/admin/all_sites_full",all_adProvider:"../templates/admin/all_adProvider",all_embeds_status:"../templates/admin/all_embeds_status",all_embed:"../templates/admin/all_embed.js",revenue_data:"../templates/admin/revenue_data",total_revenue_data:"../templates/admin/total_revenue_data",faq_questions_template:"../templates/landingPage/faqQuestions",advertismentDataMetric:"../templates/dashboard/advertismentDataMetric",metricsSignupsTable:"../templates/dashboard/metrics_signups_table",all_triviaGroups:"../templates/dashboard/all_triviaGroups",all_trivia:"../templates/dashboard/all_trivia",all_articles:"../templates/dashboard/all_articles",publisherSection:"../templates/main/publisher_section",publisherPage:"../templates/main/publisher_page",publisherUnit:"../templates/main/publisher_unit",jquerycookie:"lib/jquery.cookie",keenmath:"lib/Math.uuid",keenevents:"analytics/events",pollMetrics:"analytics/poll-metrics",fastclick:"lib/fastclick.min",evertestApi:"embed/evertest-api",gameApi:"embed/game-api",gameDiffProgress:"embed/difficulty-progression",gameEvertestVal:"embed/evertestValidation",gameSoloMode:"embed/solo-mode",gameAnswer:"embed/vsmode/AnswerObj",gamePlay:"embed/vsmode/GamePlay",gameScreen:"embed/vsmode/GameScreen",gameStats:"embed/vsmode/GameStats",gameMessage:"embed/vsmode/Message",gamePlayer:"embed/vsmode/PlayerInfo",gamePubnul:"embed/vsmode/PubNubUtils",gameVsModel:"embed/vsmode/VsModeImpl",gameVsResponse:"embed/vsmode/VsResponse",gameVsModeCombined:"embed/vsmode/gameVsModeCombined",leaderboard:"../templates/embed/leaderboardHead",popUpBox:"../templates/embed/popUpBox",pollResult:"../templates/embed/pollResult",signUpLogin:"../templates/embed/signUpLogin",apiEachQuestion:"../templates/embed/apiEachQuestion",apiEachPoll:"../templates/embed/apiEachPoll",apiSingleNoGame:"../templates/embed/apiSingleNoGame",apiVSInterupted:"../templates/embed/apiVSInterupted",apiVSloading:"../templates/embed/apiVSloading",apiVSMatching:"../templates/embed/apiVSMatching",apiVSnaming:"../templates/embed/apiVSnaming",apiVSpromoting:"../templates/embed/apiVSpromoting",apiVSResult:"../templates/embed/apiVSResult",articlesScreen:"../templates/embed/showArticlesScreen",keen_utils:"utils/KeenUtils"}}),define("main",function(){}),!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=Z.type(e);return"function"===n||Z.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(Z.isFunction(t))return Z.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return Z.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(lt.test(t))return Z.filter(t,e,n);t=Z.filter(t,e)}return Z.grep(e,function(e){return K.call(t,e)>=0!==n})}function a(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function i(e){var t=mt[e]={};return Z.each(e.match(ft)||[],function(e,n){t[n]=!0}),t}function o(){X.removeEventListener("DOMContentLoaded",o,!1),e.removeEventListener("load",o,!1),Z.ready()}function l(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+l.uid++}function s(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(wt,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:bt.test(n)?Z.parseJSON(n):n}catch(a){}yt.set(e,t,n)}else n=void 0;return n}function u(){return!0}function p(){return!1}function c(){try{return X.activeElement}catch(e){}}function d(e,t){return Z.nodeName(e,"table")&&Z.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function f(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function m(e){var t=Ft.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function h(e,t){for(var n=0,r=e.length;r>n;n++)vt.set(e[n],"globalEval",!t||vt.get(t[n],"globalEval"))}function g(e,t){var n,r,a,i,o,l,s,u;if(1===t.nodeType){if(vt.hasData(e)&&(i=vt.access(e),o=vt.set(t,i),u=i.events)){delete o.handle,o.events={};for(a in u)for(n=0,r=u[a].length;r>n;n++)Z.event.add(t,a,u[a][n])}yt.hasData(e)&&(l=yt.access(e),s=Z.extend({},l),yt.set(t,s))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Z.nodeName(e,t)?Z.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&kt.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function b(t,n){var r,a=Z(n.createElement(t)).appendTo(n.body),i=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(a[0]))?r.display:Z.css(a[0],"display");return a.detach(),i}function w(e){var t=X,n=jt[e];return n||(n=b(e,t),"none"!==n&&n||(Dt=(Dt||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Dt[0].contentDocument,t.write(),t.close(),n=b(e,t),Dt.detach()),jt[e]=n),n}function A(e,t,n){var r,a,i,o,l=e.style;return n=n||$t(e),n&&(o=n.getPropertyValue(t)||n[t]),n&&(""!==o||Z.contains(e.ownerDocument,e)||(o=Z.style(e,t)),qt.test(o)&&Ht.test(t)&&(r=l.width,a=l.minWidth,i=l.maxWidth,l.minWidth=l.maxWidth=l.width=o,o=n.width,l.width=r,l.minWidth=a,l.maxWidth=i)),void 0!==o?o+"":o}function N(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function x(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,a=Wt.length;a--;)if(t=Wt[a]+n,t in e)return t;return r}function k(e,t,n){var r=Vt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function I(e,t,n,r,a){for(var i=n===(r?"border":"content")?4:"width"===t?1:0,o=0;4>i;i+=2)"margin"===n&&(o+=Z.css(e,n+Nt[i],!0,a)),r?("content"===n&&(o-=Z.css(e,"padding"+Nt[i],!0,a)),"margin"!==n&&(o-=Z.css(e,"border"+Nt[i]+"Width",!0,a))):(o+=Z.css(e,"padding"+Nt[i],!0,a),"padding"!==n&&(o+=Z.css(e,"border"+Nt[i]+"Width",!0,a)));return o}function S(e,t,n){var r=!0,a="width"===t?e.offsetWidth:e.offsetHeight,i=$t(e),o="border-box"===Z.css(e,"boxSizing",!1,i);if(0>=a||null==a){if(a=A(e,t,i),(0>a||null==a)&&(a=e.style[t]),qt.test(a))return a;r=o&&(J.boxSizingReliable()||a===e.style[t]),a=parseFloat(a)||0}return a+I(e,t,n||(o?"border":"content"),r,i)+"px"}function P(e,t){for(var n,r,a,i=[],o=0,l=e.length;l>o;o++)r=e[o],r.style&&(i[o]=vt.get(r,"olddisplay"),n=r.style.display,t?(i[o]||"none"!==n||(r.style.display=""),""===r.style.display&&xt(r)&&(i[o]=vt.access(r,"olddisplay",w(r.nodeName)))):(a=xt(r),"none"===n&&a||vt.set(r,"olddisplay",a?n:Z.css(r,"display"))));for(o=0;l>o;o++)r=e[o],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?i[o]||"":"none"));return e}function E(e,t,n,r,a){return new E.prototype.init(e,t,n,r,a)}function C(){return setTimeout(function(){Jt=void 0}),Jt=Z.now()}function O(e,t){var n,r=0,a={height:e};for(t=t?1:0;4>r;r+=2-t)n=Nt[r],a["margin"+n]=a["padding"+n]=e;return t&&(a.opacity=a.width=e),a}function T(e,t,n){for(var r,a=(nn[t]||[]).concat(nn["*"]),i=0,o=a.length;o>i;i++)if(r=a[i].call(n,t,e))return r}function _(e,t,n){var r,a,i,o,l,s,u,p,c=this,d={},f=e.style,m=e.nodeType&&xt(e),h=vt.get(e,"fxshow");n.queue||(l=Z._queueHooks(e,"fx"),null==l.unqueued&&(l.unqueued=0,s=l.empty.fire,l.empty.fire=function(){l.unqueued||s()}),l.unqueued++,c.always(function(){c.always(function(){l.unqueued--,Z.queue(e,"fx").length||l.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],u=Z.css(e,"display"),p="none"===u?vt.get(e,"olddisplay")||w(e.nodeName):u,"inline"===p&&"none"===Z.css(e,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",c.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(r in t)if(a=t[r],Yt.exec(a)){if(delete t[r],i=i||"toggle"===a,a===(m?"hide":"show")){if("show"!==a||!h||void 0===h[r])continue;m=!0}d[r]=h&&h[r]||Z.style(e,r)}else u=void 0;if(Z.isEmptyObject(d))"inline"===("none"===u?w(e.nodeName):u)&&(f.display=u);else{h?"hidden"in h&&(m=h.hidden):h=vt.access(e,"fxshow",{}),i&&(h.hidden=!m),m?Z(e).show():c.done(function(){Z(e).hide()}),c.done(function(){var t;vt.remove(e,"fxshow");for(t in d)Z.style(e,t,d[t])});for(r in d)o=T(m?h[r]:0,r,c),r in h||(h[r]=o.start,m&&(o.end=o.start,o.start="width"===r||"height"===r?1:0))}}function L(e,t){var n,r,a,i,o;for(n in e)if(r=Z.camelCase(n),a=t[r],i=e[n],Z.isArray(i)&&(a=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),o=Z.cssHooks[r],o&&"expand"in o){i=o.expand(i),delete e[r];for(n in i)n in e||(e[n]=i[n],t[n]=a)}else t[r]=a}function B(e,t,n){var r,a,i=0,o=tn.length,l=Z.Deferred().always(function(){delete s.elem}),s=function(){if(a)return!1;for(var t=Jt||C(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,i=1-r,o=0,s=u.tweens.length;s>o;o++)u.tweens[o].run(i);return l.notifyWith(e,[u,i,n]),1>i&&s?n:(l.resolveWith(e,[u]),!1)},u=l.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Jt||C(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Z.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(a)return this;for(a=!0;r>n;n++)u.tweens[n].run(1);return t?l.resolveWith(e,[u,t]):l.rejectWith(e,[u,t]),this}}),p=u.props;for(L(p,u.opts.specialEasing);o>i;i++)if(r=tn[i].call(u,e,p,u.opts))return r;return Z.map(p,T,u),Z.isFunction(u.opts.start)&&u.opts.start.call(e,u),Z.fx.timer(Z.extend(s,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function U(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,a=0,i=t.toLowerCase().match(ft)||[];if(Z.isFunction(n))for(;r=i[a++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function F(e,t,n,r){function a(l){var s;return i[l]=!0,Z.each(e[l]||[],function(e,l){var u=l(t,n,r);return"string"!=typeof u||o||i[u]?o?!(s=u):void 0:(t.dataTypes.unshift(u),a(u),!1)}),s}var i={},o=e===wn;return a(t.dataTypes[0])||!i["*"]&&a("*")}function M(e,t){var n,r,a=Z.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((a[n]?e:r||(r={}))[n]=t[n]);return r&&Z.extend(!0,e,r),e}function R(e,t,n){for(var r,a,i,o,l=e.contents,s=e.dataTypes;"*"===s[0];)s.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(a in l)if(l[a]&&l[a].test(r)){s.unshift(a);break}if(s[0]in n)i=s[0];else{for(a in n){if(!s[0]||e.converters[a+" "+s[0]]){i=a;break}o||(o=a)}i=i||o}return i?(i!==s[0]&&s.unshift(i),n[i]):void 0}function D(e,t,n,r){var a,i,o,l,s,u={},p=e.dataTypes.slice();if(p[1])for(o in e.converters)u[o.toLowerCase()]=e.converters[o];for(i=p.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!s&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),s=i,i=p.shift())if("*"===i)i=s;else if("*"!==s&&s!==i){if(o=u[s+" "+i]||u["* "+i],!o)for(a in u)if(l=a.split(" "),l[1]===i&&(o=u[s+" "+l[0]]||u["* "+l[0]])){o===!0?o=u[a]:u[a]!==!0&&(i=l[0],p.unshift(l[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+s+" to "+i}}}return{state:"success",data:t}}function j(e,t,n,r){var a;if(Z.isArray(t))Z.each(t,function(t,a){n||In.test(e)?r(e,a):j(e+"["+("object"==typeof a?t:"")+"]",a,n,r)});else if(n||"object"!==Z.type(t))r(e,t);else for(a in t)j(e+"["+a+"]",t[a],n,r)}function H(e){return Z.isWindow(e)?e:9===e.nodeType&&e.defaultView}var q=[],$=q.slice,G=q.concat,V=q.push,K=q.indexOf,z={},Q=z.toString,W=z.hasOwnProperty,J={},X=e.document,Y="2.1.4",Z=function(e,t){return new Z.fn.init(e,t)},et=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,tt=/^-ms-/,nt=/-([\da-z])/gi,rt=function(e,t){return t.toUpperCase()};Z.fn=Z.prototype={jquery:Y,constructor:Z,selector:"",length:0,toArray:function(){return $.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:$.call(this)},pushStack:function(e){var t=Z.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Z.each(this,e,t)},map:function(e){return this.pushStack(Z.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack($.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:V,sort:q.sort,splice:q.splice},Z.extend=Z.fn.extend=function(){var e,t,n,r,a,i,o=arguments[0]||{},l=1,s=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[l]||{},l++),"object"==typeof o||Z.isFunction(o)||(o={}),l===s&&(o=this,l--);s>l;l++)if(null!=(e=arguments[l]))for(t in e)n=o[t],r=e[t],o!==r&&(u&&r&&(Z.isPlainObject(r)||(a=Z.isArray(r)))?(a?(a=!1,i=n&&Z.isArray(n)?n:[]):i=n&&Z.isPlainObject(n)?n:{},o[t]=Z.extend(u,i,r)):void 0!==r&&(o[t]=r));return o},Z.extend({expando:"jQuery"+(Y+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Z.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==Z.type(e)||e.nodeType||Z.isWindow(e)?!1:e.constructor&&!W.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?z[Q.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=Z.trim(e),e&&(1===e.indexOf("use strict")?(t=X.createElement("script"),t.text=e,X.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(tt,"ms-").replace(nt,rt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var a,i=0,o=e.length,l=n(e);if(r){if(l)for(;o>i&&(a=t.apply(e[i],r),a!==!1);i++);else for(i in e)if(a=t.apply(e[i],r),a===!1)break}else if(l)for(;o>i&&(a=t.call(e[i],i,e[i]),a!==!1);i++);else for(i in e)if(a=t.call(e[i],i,e[i]),a===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(et,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?Z.merge(r,"string"==typeof e?[e]:e):V.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:K.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,a=e.length;n>r;r++)e[a++]=t[r];return e.length=a,e},grep:function(e,t,n){for(var r,a=[],i=0,o=e.length,l=!n;o>i;i++)r=!t(e[i],i),r!==l&&a.push(e[i]);return a},map:function(e,t,r){var a,i=0,o=e.length,l=n(e),s=[];if(l)for(;o>i;i++)a=t(e[i],i,r),null!=a&&s.push(a);else for(i in e)a=t(e[i],i,r),null!=a&&s.push(a);return G.apply([],s)},guid:1,proxy:function(e,t){var n,r,a;return"string"==typeof t&&(n=e[t],t=e,e=n),Z.isFunction(e)?(r=$.call(arguments,2),a=function(){return e.apply(t||this,r.concat($.call(arguments)))},a.guid=e.guid=e.guid||Z.guid++,a):void 0},now:Date.now,support:J}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){z["[object "+t+"]"]=t.toLowerCase()});var at=function(e){function t(e,t,n,r){var a,i,o,l,s,u,c,f,m,h;if((t?t.ownerDocument||t:j)!==_&&T(t),t=t||_,n=n||[],l=t.nodeType,"string"!=typeof e||!e||1!==l&&9!==l&&11!==l)return n;if(!r&&B){if(11!==l&&(a=yt.exec(e)))if(o=a[1]){if(9===l){if(i=t.getElementById(o),!i||!i.parentNode)return n;if(i.id===o)return n.push(i),n}else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(o))&&R(t,i)&&i.id===o)return n.push(i),n}else{if(a[2])return Y.apply(n,t.getElementsByTagName(e)),n;if((o=a[3])&&A.getElementsByClassName)return Y.apply(n,t.getElementsByClassName(o)),n}if(A.qsa&&(!U||!U.test(e))){if(f=c=D,m=t,h=1!==l&&e,1===l&&"object"!==t.nodeName.toLowerCase()){for(u=I(e),(c=t.getAttribute("id"))?f=c.replace(wt,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",s=u.length;s--;)u[s]=f+d(u[s]);m=bt.test(e)&&p(t.parentNode)||t,h=u.join(",")}if(h)try{return Y.apply(n,m.querySelectorAll(h)),n}catch(g){}finally{c||t.removeAttribute("id")}}}return P(e.replace(st,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>N.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[D]=!0,e}function a(e){var t=_.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function i(e,t){for(var n=e.split("|"),r=e.length;r--;)N.attrHandle[n[r]]=t}function o(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||z)-(~e.sourceIndex||z);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function s(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var a,i=e([],n.length,t),o=i.length;o--;)n[a=i[o]]&&(n[a]=!(r[a]=n[a]))})})}function p(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function c(){}function d(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function f(e,t,n){var r=t.dir,a=n&&"parentNode"===r,i=q++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i)}:function(t,n,o){var l,s,u=[H,i];if(o){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,o))return!0}else for(;t=t[r];)if(1===t.nodeType||a){if(s=t[D]||(t[D]={}),(l=s[r])&&l[0]===H&&l[1]===i)return u[2]=l[2];if(s[r]=u,u[2]=e(t,n,o))return!0}}}function m(e){return e.length>1?function(t,n,r){for(var a=e.length;a--;)if(!e[a](t,n,r))return!1;return!0}:e[0]}function h(e,n,r){for(var a=0,i=n.length;i>a;a++)t(e,n[a],r);return r}function g(e,t,n,r,a){for(var i,o=[],l=0,s=e.length,u=null!=t;s>l;l++)(i=e[l])&&(!n||n(i,r,a))&&(o.push(i),u&&t.push(l));return o}function v(e,t,n,a,i,o){return a&&!a[D]&&(a=v(a)),i&&!i[D]&&(i=v(i,o)),r(function(r,o,l,s){var u,p,c,d=[],f=[],m=o.length,v=r||h(t||"*",l.nodeType?[l]:l,[]),y=!e||!r&&t?v:g(v,d,e,l,s),b=n?i||(r?e:m||a)?[]:o:y;if(n&&n(y,b,l,s),a)for(u=g(b,f),a(u,[],l,s),p=u.length;p--;)(c=u[p])&&(b[f[p]]=!(y[f[p]]=c));if(r){if(i||e){if(i){for(u=[],p=b.length;p--;)(c=b[p])&&u.push(y[p]=c);i(null,b=[],u,s)}for(p=b.length;p--;)(c=b[p])&&(u=i?et(r,c):d[p])>-1&&(r[u]=!(o[u]=c))}}else b=g(b===o?b.splice(m,b.length):b),i?i(null,o,b,s):Y.apply(o,b)})}function y(e){for(var t,n,r,a=e.length,i=N.relative[e[0].type],o=i||N.relative[" "],l=i?1:0,s=f(function(e){return e===t},o,!0),u=f(function(e){return et(t,e)>-1},o,!0),p=[function(e,n,r){var a=!i&&(r||n!==E)||((t=n).nodeType?s(e,n,r):u(e,n,r));return t=null,a}];a>l;l++)if(n=N.relative[e[l].type])p=[f(m(p),n)];else{if(n=N.filter[e[l].type].apply(null,e[l].matches),n[D]){for(r=++l;a>r&&!N.relative[e[r].type];r++);return v(l>1&&m(p),l>1&&d(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(st,"$1"),n,r>l&&y(e.slice(l,r)),a>r&&y(e=e.slice(r)),a>r&&d(e))}p.push(n)}return m(p)}function b(e,n){var a=n.length>0,i=e.length>0,o=function(r,o,l,s,u){var p,c,d,f=0,m="0",h=r&&[],v=[],y=E,b=r||i&&N.find.TAG("*",u),w=H+=null==y?1:Math.random()||.1,A=b.length;for(u&&(E=o!==_&&o);m!==A&&null!=(p=b[m]);m++){if(i&&p){for(c=0;d=e[c++];)if(d(p,o,l)){s.push(p);break}u&&(H=w)}a&&((p=!d&&p)&&f--,r&&h.push(p))}if(f+=m,a&&m!==f){for(c=0;d=n[c++];)d(h,v,o,l);if(r){if(f>0)for(;m--;)h[m]||v[m]||(v[m]=J.call(s));v=g(v)}Y.apply(s,v),u&&!r&&v.length>0&&f+n.length>1&&t.uniqueSort(s)}return u&&(H=w,E=y),h};return a?r(o):o}var w,A,N,x,k,I,S,P,E,C,O,T,_,L,B,U,F,M,R,D="sizzle"+1*new Date,j=e.document,H=0,q=0,$=n(),G=n(),V=n(),K=function(e,t){return e===t&&(O=!0),0},z=1<<31,Q={}.hasOwnProperty,W=[],J=W.pop,X=W.push,Y=W.push,Z=W.slice,et=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",at=rt.replace("w","w#"),it="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+at+"))|)"+nt+"*\\]",ot=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",lt=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),pt=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(ot),ft=new RegExp("^"+at+"$"),mt={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},ht=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,wt=/'|\\/g,At=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),Nt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},xt=function(){T()};try{Y.apply(W=Z.call(j.childNodes),j.childNodes),W[j.childNodes.length].nodeType}catch(kt){Y={apply:W.length?function(e,t){X.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}A=t.support={},k=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},T=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:j;return r!==_&&9===r.nodeType&&r.documentElement?(_=r,L=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",xt,!1):n.attachEvent&&n.attachEvent("onunload",xt)),B=!k(r),A.attributes=a(function(e){return e.className="i",!e.getAttribute("className")}),A.getElementsByTagName=a(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),A.getElementsByClassName=vt.test(r.getElementsByClassName),A.getById=a(function(e){return L.appendChild(e).id=D,!r.getElementsByName||!r.getElementsByName(D).length}),A.getById?(N.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&B){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},N.filter.ID=function(e){var t=e.replace(At,Nt);return function(e){return e.getAttribute("id")===t}}):(delete N.find.ID,N.filter.ID=function(e){var t=e.replace(At,Nt);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),N.find.TAG=A.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):A.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],a=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[a++];)1===n.nodeType&&r.push(n);return r}return i},N.find.CLASS=A.getElementsByClassName&&function(e,t){return B?t.getElementsByClassName(e):void 0},F=[],U=[],(A.qsa=vt.test(r.querySelectorAll))&&(a(function(e){L.appendChild(e).innerHTML="<a id='"+D+"'></a><select id='"+D+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&U.push("[*^$]="+nt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||U.push("\\["+nt+"*(?:value|"+tt+")"),e.querySelectorAll("[id~="+D+"-]").length||U.push("~="),e.querySelectorAll(":checked").length||U.push(":checked"),e.querySelectorAll("a#"+D+"+*").length||U.push(".#.+[+~]")}),a(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&U.push("name"+nt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||U.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),U.push(",.*:")})),(A.matchesSelector=vt.test(M=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&a(function(e){A.disconnectedMatch=M.call(e,"div"),M.call(e,"[s!='']:x"),F.push("!=",ot)}),U=U.length&&new RegExp(U.join("|")),F=F.length&&new RegExp(F.join("|")),t=vt.test(L.compareDocumentPosition),R=t||vt.test(L.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},K=t?function(e,t){if(e===t)return O=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!A.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===j&&R(j,e)?-1:t===r||t.ownerDocument===j&&R(j,t)?1:C?et(C,e)-et(C,t):0:4&n?-1:1)}:function(e,t){if(e===t)return O=!0,0;var n,a=0,i=e.parentNode,l=t.parentNode,s=[e],u=[t];if(!i||!l)return e===r?-1:t===r?1:i?-1:l?1:C?et(C,e)-et(C,t):0;if(i===l)return o(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[a]===u[a];)a++;return a?o(s[a],u[a]):s[a]===j?-1:u[a]===j?1:0},r):_},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==_&&T(e),n=n.replace(ct,"='$1']"),!(!A.matchesSelector||!B||F&&F.test(n)||U&&U.test(n)))try{var r=M.call(e,n);if(r||A.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(a){}return t(n,_,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==_&&T(e),R(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==_&&T(e);var n=N.attrHandle[t.toLowerCase()],r=n&&Q.call(N.attrHandle,t.toLowerCase())?n(e,t,!B):void 0;return void 0!==r?r:A.attributes||!B?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,a=0;if(O=!A.detectDuplicates,C=!A.sortStable&&e.slice(0),e.sort(K),O){for(;t=e[a++];)t===e[a]&&(r=n.push(a));for(;r--;)e.splice(n[r],1)}return C=null,e},x=t.getText=function(e){var t,n="",r=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=x(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[r++];)n+=x(t);return n},N=t.selectors={cacheLength:50,createPseudo:r,match:mt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(At,Nt),e[3]=(e[3]||e[4]||e[5]||"").replace(At,Nt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return mt.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&dt.test(n)&&(t=I(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(At,Nt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=$[e+" "];return t||(t=new RegExp("(^|"+nt+")"+e+"("+nt+"|$)"))&&$(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(a){var i=t.attr(a,e);return null==i?"!="===n:n?(i+="","="===n?i===r:"!="===n?i!==r:"^="===n?r&&0===i.indexOf(r):"*="===n?r&&i.indexOf(r)>-1:"$="===n?r&&i.slice(-r.length)===r:"~="===n?(" "+i.replace(lt," ")+" ").indexOf(r)>-1:"|="===n?i===r||i.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,a){var i="nth"!==e.slice(0,3),o="last"!==e.slice(-4),l="of-type"===t;return 1===r&&0===a?function(e){return!!e.parentNode}:function(t,n,s){var u,p,c,d,f,m,h=i!==o?"nextSibling":"previousSibling",g=t.parentNode,v=l&&t.nodeName.toLowerCase(),y=!s&&!l;if(g){if(i){for(;h;){for(c=t;c=c[h];)if(l?c.nodeName.toLowerCase()===v:1===c.nodeType)return!1;m=h="only"===e&&!m&&"nextSibling"}return!0}if(m=[o?g.firstChild:g.lastChild],o&&y){for(p=g[D]||(g[D]={}),u=p[e]||[],f=u[0]===H&&u[1],d=u[0]===H&&u[2],c=f&&g.childNodes[f];c=++f&&c&&c[h]||(d=f=0)||m.pop();)if(1===c.nodeType&&++d&&c===t){p[e]=[H,f,d];break}}else if(y&&(u=(t[D]||(t[D]={}))[e])&&u[0]===H)d=u[1];else for(;(c=++f&&c&&c[h]||(d=f=0)||m.pop())&&((l?c.nodeName.toLowerCase()!==v:1!==c.nodeType)||!++d||(y&&((c[D]||(c[D]={}))[e]=[H,d]),c!==t)););return d-=a,d===r||d%r===0&&d/r>=0}}},PSEUDO:function(e,n){var a,i=N.pseudos[e]||N.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return i[D]?i(n):i.length>1?(a=[e,e,"",n],N.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,a=i(e,n),o=a.length;o--;)r=et(e,a[o]),e[r]=!(t[r]=a[o])}):function(e){return i(e,0,a)}):i}},pseudos:{not:r(function(e){var t=[],n=[],a=S(e.replace(st,"$1"));return a[D]?r(function(e,t,n,r){for(var i,o=a(e,null,r,[]),l=e.length;l--;)(i=o[l])&&(e[l]=!(t[l]=i))}):function(e,r,i){return t[0]=e,a(t,null,i,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(At,Nt),function(t){return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),lang:r(function(e){return ft.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(At,Nt).toLowerCase(),function(t){var n;do if(n=B?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===_.activeElement&&(!_.hasFocus||_.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!N.pseudos.empty(e)},header:function(e){return gt.test(e.nodeName)},input:function(e){return ht.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},N.pseudos.nth=N.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})N.pseudos[w]=l(w);for(w in{submit:!0,reset:!0})N.pseudos[w]=s(w);return c.prototype=N.filters=N.pseudos,N.setFilters=new c,I=t.tokenize=function(e,n){var r,a,i,o,l,s,u,p=G[e+" "];if(p)return n?0:p.slice(0);for(l=e,s=[],u=N.preFilter;l;){(!r||(a=ut.exec(l)))&&(a&&(l=l.slice(a[0].length)||l),s.push(i=[])),r=!1,(a=pt.exec(l))&&(r=a.shift(),i.push({value:r,type:a[0].replace(st," ")}),l=l.slice(r.length));for(o in N.filter)!(a=mt[o].exec(l))||u[o]&&!(a=u[o](a))||(r=a.shift(),i.push({value:r,type:o,matches:a}),l=l.slice(r.length));if(!r)break}return n?l.length:l?t.error(e):G(e,s).slice(0)},S=t.compile=function(e,t){var n,r=[],a=[],i=V[e+" "];if(!i){for(t||(t=I(e)),n=t.length;n--;)i=y(t[n]),i[D]?r.push(i):a.push(i);i=V(e,b(a,r)),i.selector=e}return i},P=t.select=function(e,t,n,r){var a,i,o,l,s,u="function"==typeof e&&e,c=!r&&I(e=u.selector||e);if(n=n||[],1===c.length){if(i=c[0]=c[0].slice(0),i.length>2&&"ID"===(o=i[0]).type&&A.getById&&9===t.nodeType&&B&&N.relative[i[1].type]){if(t=(N.find.ID(o.matches[0].replace(At,Nt),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(a=mt.needsContext.test(e)?0:i.length;a--&&(o=i[a],!N.relative[l=o.type]);)if((s=N.find[l])&&(r=s(o.matches[0].replace(At,Nt),bt.test(i[0].type)&&p(t.parentNode)||t))){if(i.splice(a,1),e=r.length&&d(i),!e)return Y.apply(n,r),n;break}}return(u||S(e,c))(r,t,!B,n,bt.test(e)&&p(t.parentNode)||t),n},A.sortStable=D.split("").sort(K).join("")===D,A.detectDuplicates=!!O,T(),A.sortDetached=a(function(e){return 1&e.compareDocumentPosition(_.createElement("div"))}),a(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),A.attributes&&a(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||i("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),a(function(e){return null==e.getAttribute("disabled")})||i(tt,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);Z.find=at,Z.expr=at.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=at.uniqueSort,Z.text=at.getText,Z.isXMLDoc=at.isXML,Z.contains=at.contains;var it=Z.expr.match.needsContext,ot=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,lt=/^.[^:#\[\.,]*$/;Z.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Z.find.matchesSelector(r,e)?[r]:[]:Z.find.matches(e,Z.grep(t,function(e){return 1===e.nodeType}))},Z.fn.extend({find:function(e){var t,n=this.length,r=[],a=this;if("string"!=typeof e)return this.pushStack(Z(e).filter(function(){for(t=0;n>t;t++)if(Z.contains(a[t],this))return!0}));for(t=0;n>t;t++)Z.find(e,a[t],r);return r=this.pushStack(n>1?Z.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&it.test(e)?Z(e):e||[],!1).length}});var st,ut=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,pt=Z.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ut.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||st).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Z?t[0]:t,Z.merge(this,Z.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:X,!0)),ot.test(n[1])&&Z.isPlainObject(t))for(n in t)Z.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=X.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=X,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Z.isFunction(e)?"undefined"!=typeof st.ready?st.ready(e):e(Z):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))};pt.prototype=Z.fn,st=Z(X);var ct=/^(?:parents|prev(?:Until|All))/,dt={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(e,t,n){for(var r=[],a=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(a&&Z(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Z.fn.extend({has:function(e){var t=Z(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(Z.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,a=this.length,i=[],o=it.test(e)||"string"!=typeof e?Z(e,t||this.context):0;a>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&Z.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?Z.unique(i):i)},index:function(e){return e?"string"==typeof e?K.call(Z(e),this[0]):K.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Z.unique(Z.merge(this.get(),Z(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Z.dir(e,"parentNode",n)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Z.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Z.dir(e,"previousSibling",n)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(n,r){var a=Z.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(a=Z.filter(r,a)),this.length>1&&(dt[e]||Z.unique(a),ct.test(e)&&a.reverse()),this.pushStack(a)}});var ft=/\S+/g,mt={};Z.Callbacks=function(e){e="string"==typeof e?mt[e]||i(e):Z.extend({},e);var t,n,r,a,o,l,s=[],u=!e.once&&[],p=function(i){for(t=e.memory&&i,n=!0,l=a||0,a=0,o=s.length,r=!0;s&&o>l;l++)if(s[l].apply(i[0],i[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,s&&(u?u.length&&p(u.shift()):t?s=[]:c.disable())},c={add:function(){if(s){var n=s.length;!function i(t){Z.each(t,function(t,n){var r=Z.type(n);"function"===r?e.unique&&c.has(n)||s.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),r?o=s.length:t&&(a=n,p(t))}return this},remove:function(){return s&&Z.each(arguments,function(e,t){for(var n;(n=Z.inArray(t,s,n))>-1;)s.splice(n,1),r&&(o>=n&&o--,l>=n&&l--)}),this},has:function(e){return e?Z.inArray(e,s)>-1:!(!s||!s.length)},empty:function(){return s=[],o=0,this},disable:function(){return s=u=t=void 0,this},disabled:function(){return!s},lock:function(){return u=void 0,t||c.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!s||n&&!u||(t=t||[],t=[e,t.slice?t.slice():t],r?u.push(t):p(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(n){Z.each(t,function(t,i){var o=Z.isFunction(e[t])&&e[t];a[i[1]](function(){var e=o&&o.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[i[0]+"With"](this===r?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,r):r}},a={};return r.pipe=r.then,Z.each(t,function(e,i){var o=i[2],l=i[3];r[i[1]]=o.add,l&&o.add(function(){n=l},t[1^e][2].disable,t[2][2].lock),a[i[0]]=function(){return a[i[0]+"With"](this===a?r:this,arguments),this},a[i[0]+"With"]=o.fireWith}),r.promise(a),e&&e.call(a,a),a},when:function(e){var t,n,r,a=0,i=$.call(arguments),o=i.length,l=1!==o||e&&Z.isFunction(e.promise)?o:0,s=1===l?e:Z.Deferred(),u=function(e,n,r){return function(a){n[e]=this,r[e]=arguments.length>1?$.call(arguments):a,r===t?s.notifyWith(n,r):--l||s.resolveWith(n,r)}};if(o>1)for(t=new Array(o),n=new Array(o),r=new Array(o);o>a;a++)i[a]&&Z.isFunction(i[a].promise)?i[a].promise().done(u(a,r,i)).fail(s.reject).progress(u(a,n,t)):--l;return l||s.resolveWith(r,i),s.promise()}});var ht;Z.fn.ready=function(e){return Z.ready.promise().done(e),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){(e===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,e!==!0&&--Z.readyWait>0||(ht.resolveWith(X,[Z]),Z.fn.triggerHandler&&(Z(X).triggerHandler("ready"),Z(X).off("ready"))))}}),Z.ready.promise=function(t){return ht||(ht=Z.Deferred(),"complete"===X.readyState?setTimeout(Z.ready):(X.addEventListener("DOMContentLoaded",o,!1),e.addEventListener("load",o,!1))),ht.promise(t)},Z.ready.promise();var gt=Z.access=function(e,t,n,r,a,i,o){var l=0,s=e.length,u=null==n;if("object"===Z.type(n)){a=!0;for(l in n)Z.access(e,t,l,n[l],!0,i,o)}else if(void 0!==r&&(a=!0,Z.isFunction(r)||(o=!0),u&&(o?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(Z(e),n)})),t))for(;s>l;l++)t(e[l],n,o?r:r.call(e[l],l,t(e[l],n)));return a?e:u?t.call(e):s?t(e[0],n):i};Z.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},l.uid=1,l.accepts=Z.acceptData,l.prototype={key:function(e){if(!l.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=l.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,Z.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,a=this.key(e),i=this.cache[a];if("string"==typeof t)i[t]=n;else if(Z.isEmptyObject(i))Z.extend(this.cache[a],t);else for(r in t)i[r]=t[r];return i},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,Z.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,a,i=this.key(e),o=this.cache[i];if(void 0===t)this.cache[i]={};else{Z.isArray(t)?r=t.concat(t.map(Z.camelCase)):(a=Z.camelCase(t),t in o?r=[t,a]:(r=a,r=r in o?[r]:r.match(ft)||[])),n=r.length;for(;n--;)delete o[r[n]]}},hasData:function(e){return!Z.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var vt=new l,yt=new l,bt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,wt=/([A-Z])/g;Z.extend({hasData:function(e){return yt.hasData(e)||vt.hasData(e)},data:function(e,t,n){return yt.access(e,t,n)},removeData:function(e,t){yt.remove(e,t)},_data:function(e,t,n){return vt.access(e,t,n)},_removeData:function(e,t){vt.remove(e,t)}}),Z.fn.extend({data:function(e,t){var n,r,a,i=this[0],o=i&&i.attributes;if(void 0===e){if(this.length&&(a=yt.get(i),1===i.nodeType&&!vt.get(i,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&(r=o[n].name,0===r.indexOf("data-")&&(r=Z.camelCase(r.slice(5)),s(i,r,a[r])));vt.set(i,"hasDataAttrs",!0)}return a}return"object"==typeof e?this.each(function(){yt.set(this,e)}):gt(this,function(t){var n,r=Z.camelCase(e);if(i&&void 0===t){if(n=yt.get(i,e),void 0!==n)return n;if(n=yt.get(i,r),void 0!==n)return n;if(n=s(i,r,void 0),void 0!==n)return n}else this.each(function(){var n=yt.get(this,r);yt.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&yt.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){yt.remove(this,e)})}}),Z.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=vt.get(e,t),n&&(!r||Z.isArray(n)?r=vt.access(e,t,Z.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Z.queue(e,t),r=n.length,a=n.shift(),i=Z._queueHooks(e,t),o=function(){Z.dequeue(e,t)};"inprogress"===a&&(a=n.shift(),r--),a&&("fx"===t&&n.unshift("inprogress"),delete i.stop,a.call(e,o,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return vt.get(e,n)||vt.access(e,n,{empty:Z.Callbacks("once memory").add(function(){vt.remove(e,[t+"queue",n])})})}}),Z.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Z.queue(this[0],e):void 0===t?this:this.each(function(){var n=Z.queue(this,e,t);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,a=Z.Deferred(),i=this,o=this.length,l=function(){--r||a.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)n=vt.get(i[o],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(l));return l(),a.promise(t)}});var At=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Nt=["Top","Right","Bottom","Left"],xt=function(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)},kt=/^(?:checkbox|radio)$/i;!function(){var e=X.createDocumentFragment(),t=e.appendChild(X.createElement("div")),n=X.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),J.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",J.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var It="undefined";J.focusinBubbles="onfocusin"in e;var St=/^key/,Pt=/^(?:mouse|pointer|contextmenu)|click/,Et=/^(?:focusinfocus|focusoutblur)$/,Ct=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(e,t,n,r,a){var i,o,l,s,u,p,c,d,f,m,h,g=vt.get(e);if(g)for(n.handler&&(i=n,n=i.handler,a=i.selector),n.guid||(n.guid=Z.guid++),(s=g.events)||(s=g.events={}),(o=g.handle)||(o=g.handle=function(t){return typeof Z!==It&&Z.event.triggered!==t.type?Z.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(ft)||[""],u=t.length;u--;)l=Ct.exec(t[u])||[],f=h=l[1],m=(l[2]||"").split(".").sort(),f&&(c=Z.event.special[f]||{},f=(a?c.delegateType:c.bindType)||f,c=Z.event.special[f]||{},p=Z.extend({type:f,origType:h,data:r,handler:n,guid:n.guid,selector:a,needsContext:a&&Z.expr.match.needsContext.test(a),namespace:m.join(".")},i),(d=s[f])||(d=s[f]=[],d.delegateCount=0,c.setup&&c.setup.call(e,r,m,o)!==!1||e.addEventListener&&e.addEventListener(f,o,!1)),c.add&&(c.add.call(e,p),p.handler.guid||(p.handler.guid=n.guid)),a?d.splice(d.delegateCount++,0,p):d.push(p),Z.event.global[f]=!0)},remove:function(e,t,n,r,a){var i,o,l,s,u,p,c,d,f,m,h,g=vt.hasData(e)&&vt.get(e);if(g&&(s=g.events)){for(t=(t||"").match(ft)||[""],u=t.length;u--;)if(l=Ct.exec(t[u])||[],f=h=l[1],m=(l[2]||"").split(".").sort(),f){for(c=Z.event.special[f]||{},f=(r?c.delegateType:c.bindType)||f,d=s[f]||[],l=l[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=i=d.length;i--;)p=d[i],!a&&h!==p.origType||n&&n.guid!==p.guid||l&&!l.test(p.namespace)||r&&r!==p.selector&&("**"!==r||!p.selector)||(d.splice(i,1),p.selector&&d.delegateCount--,c.remove&&c.remove.call(e,p));o&&!d.length&&(c.teardown&&c.teardown.call(e,m,g.handle)!==!1||Z.removeEvent(e,f,g.handle),delete s[f])}else for(f in s)Z.event.remove(e,f+t[u],n,r,!0);Z.isEmptyObject(s)&&(delete g.handle,vt.remove(e,"events"))}},trigger:function(t,n,r,a){var i,o,l,s,u,p,c,d=[r||X],f=W.call(t,"type")?t.type:t,m=W.call(t,"namespace")?t.namespace.split("."):[];if(o=l=r=r||X,3!==r.nodeType&&8!==r.nodeType&&!Et.test(f+Z.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),u=f.indexOf(":")<0&&"on"+f,t=t[Z.expando]?t:new Z.Event(f,"object"==typeof t&&t),t.isTrigger=a?2:3,t.namespace=m.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:Z.makeArray(n,[t]),c=Z.event.special[f]||{},a||!c.trigger||c.trigger.apply(r,n)!==!1)){if(!a&&!c.noBubble&&!Z.isWindow(r)){for(s=c.delegateType||f,Et.test(s+f)||(o=o.parentNode);o;o=o.parentNode)d.push(o),l=o;l===(r.ownerDocument||X)&&d.push(l.defaultView||l.parentWindow||e)}for(i=0;(o=d[i++])&&!t.isPropagationStopped();)t.type=i>1?s:c.bindType||f,p=(vt.get(o,"events")||{})[t.type]&&vt.get(o,"handle"),p&&p.apply(o,n),p=u&&o[u],p&&p.apply&&Z.acceptData(o)&&(t.result=p.apply(o,n),t.result===!1&&t.preventDefault());return t.type=f,a||t.isDefaultPrevented()||c._default&&c._default.apply(d.pop(),n)!==!1||!Z.acceptData(r)||u&&Z.isFunction(r[f])&&!Z.isWindow(r)&&(l=r[u],l&&(r[u]=null),Z.event.triggered=f,r[f](),Z.event.triggered=void 0,l&&(r[u]=l)),t.result}},dispatch:function(e){e=Z.event.fix(e);var t,n,r,a,i,o=[],l=$.call(arguments),s=(vt.get(this,"events")||{})[e.type]||[],u=Z.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(o=Z.event.handlers.call(this,e,s),t=0;(a=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,n=0;(i=a.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((Z.event.special[i.origType]||{}).handle||i.handler).apply(a.elem,l),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,a,i,o=[],l=t.delegateCount,s=e.target;if(l&&s.nodeType&&(!e.button||"click"!==e.type))for(;s!==this;s=s.parentNode||this)if(s.disabled!==!0||"click"!==e.type){for(r=[],n=0;l>n;n++)i=t[n],a=i.selector+" ",void 0===r[a]&&(r[a]=i.needsContext?Z(a,this).index(s)>=0:Z.find(a,this,null,[s]).length),r[a]&&r.push(i);r.length&&o.push({elem:s,handlers:r})}return l<t.length&&o.push({elem:this,handlers:t.slice(l)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,a,i=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||X,r=n.documentElement,a=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||a&&a.scrollLeft||0)-(r&&r.clientLeft||a&&a.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||a&&a.scrollTop||0)-(r&&r.clientTop||a&&a.clientTop||0)),e.which||void 0===i||(e.which=1&i?1:2&i?3:4&i?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,n,r,a=e.type,i=e,o=this.fixHooks[a];for(o||(this.fixHooks[a]=o=Pt.test(a)?this.mouseHooks:St.test(a)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new Z.Event(i),t=r.length;t--;)n=r[t],e[n]=i[n];return e.target||(e.target=X),3===e.target.nodeType&&(e.target=e.target.parentNode),o.filter?o.filter(e,i):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==c()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===c()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Z.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Z.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var a=Z.extend(new Z.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?Z.event.trigger(a,null,t):Z.event.dispatch.call(t,a),a.isDefaultPrevented()&&n.preventDefault()}},Z.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Z.Event=function(e,t){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?u:p):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(e,t)},Z.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=u,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=u,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=u,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,a=e.relatedTarget,i=e.handleObj;return(!a||a!==r&&!Z.contains(r,a))&&(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),J.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){var r=this.ownerDocument||this,a=vt.access(r,t);a||r.addEventListener(e,n,!0),vt.access(r,t,(a||0)+1)},teardown:function(){var r=this.ownerDocument||this,a=vt.access(r,t)-1;a?vt.access(r,t,a):(r.removeEventListener(e,n,!0),vt.remove(r,t))}}}),Z.fn.extend({on:function(e,t,n,r,a){var i,o;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],a);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=p;else if(!r)return this;return 1===a&&(i=r,r=function(e){return Z().off(e),i.apply(this,arguments)},r.guid=i.guid||(i.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,a;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Z(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(a in e)this.off(a,t,e[a]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=p),this.each(function(){Z.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?Z.event.trigger(e,t,n,!0):void 0}});var Ot=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Tt=/<([\w:]+)/,_t=/<|&#?\w+;/,Lt=/<(?:script|style|link)/i,Bt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ut=/^$|\/(?:java|ecma)script/i,Ft=/^true\/(.*)/,Mt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Rt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Rt.optgroup=Rt.option,Rt.tbody=Rt.tfoot=Rt.colgroup=Rt.caption=Rt.thead,Rt.th=Rt.td,Z.extend({clone:function(e,t,n){var r,a,i,o,l=e.cloneNode(!0),s=Z.contains(e.ownerDocument,e);if(!(J.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(o=v(l),i=v(e),r=0,a=i.length;a>r;r++)y(i[r],o[r]);if(t)if(n)for(i=i||v(e),o=o||v(l),r=0,a=i.length;a>r;r++)g(i[r],o[r]);else g(e,l);return o=v(l,"script"),o.length>0&&h(o,!s&&v(e,"script")),l},buildFragment:function(e,t,n,r){for(var a,i,o,l,s,u,p=t.createDocumentFragment(),c=[],d=0,f=e.length;f>d;d++)if(a=e[d],a||0===a)if("object"===Z.type(a))Z.merge(c,a.nodeType?[a]:a);else if(_t.test(a)){for(i=i||p.appendChild(t.createElement("div")),o=(Tt.exec(a)||["",""])[1].toLowerCase(),l=Rt[o]||Rt._default,i.innerHTML=l[1]+a.replace(Ot,"<$1></$2>")+l[2],u=l[0];u--;)i=i.lastChild;Z.merge(c,i.childNodes),i=p.firstChild,i.textContent=""}else c.push(t.createTextNode(a));for(p.textContent="",d=0;a=c[d++];)if((!r||-1===Z.inArray(a,r))&&(s=Z.contains(a.ownerDocument,a),i=v(p.appendChild(a),"script"),s&&h(i),n))for(u=0;a=i[u++];)Ut.test(a.type||"")&&n.push(a);return p},cleanData:function(e){for(var t,n,r,a,i=Z.event.special,o=0;void 0!==(n=e[o]);o++){if(Z.acceptData(n)&&(a=n[vt.expando],a&&(t=vt.cache[a]))){if(t.events)for(r in t.events)i[r]?Z.event.remove(n,r):Z.removeEvent(n,r,t.handle);vt.cache[a]&&delete vt.cache[a]}delete yt.cache[n[yt.expando]]}}}),Z.fn.extend({text:function(e){return gt(this,function(e){return void 0===e?Z.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=d(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=d(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?Z.filter(e,this):this,a=0;null!=(n=r[a]);a++)t||1!==n.nodeType||Z.cleanData(v(n)),n.parentNode&&(t&&Z.contains(n.ownerDocument,n)&&h(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Z.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return gt(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Lt.test(e)&&!Rt[(Tt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ot,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(Z.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(a){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Z.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=G.apply([],e);var n,r,a,i,o,l,s=0,u=this.length,p=this,c=u-1,d=e[0],h=Z.isFunction(d);if(h||u>1&&"string"==typeof d&&!J.checkClone&&Bt.test(d))return this.each(function(n){var r=p.eq(n);h&&(e[0]=d.call(this,n,r.html())),r.domManip(e,t)});if(u&&(n=Z.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(a=Z.map(v(n,"script"),f),i=a.length;u>s;s++)o=n,s!==c&&(o=Z.clone(o,!0,!0),i&&Z.merge(a,v(o,"script"))),t.call(this[s],o,s);if(i)for(l=a[a.length-1].ownerDocument,Z.map(a,m),s=0;i>s;s++)o=a[s],Ut.test(o.type||"")&&!vt.access(o,"globalEval")&&Z.contains(l,o)&&(o.src?Z._evalUrl&&Z._evalUrl(o.src):Z.globalEval(o.textContent.replace(Mt,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(e){for(var n,r=[],a=Z(e),i=a.length-1,o=0;i>=o;o++)n=o===i?this:this.clone(!0),Z(a[o])[t](n),V.apply(r,n.get());return this.pushStack(r)}});var Dt,jt={},Ht=/^margin/,qt=new RegExp("^("+At+")(?!px)[a-z%]+$","i"),$t=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",a.appendChild(i);var t=e.getComputedStyle(o,null);n="1%"!==t.top,r="4px"===t.width,a.removeChild(i)}var n,r,a=X.documentElement,i=X.createElement("div"),o=X.createElement("div");o.style&&(o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",J.clearCloneStyle="content-box"===o.style.backgroundClip,i.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",i.appendChild(o),e.getComputedStyle&&Z.extend(J,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},reliableMarginRight:function(){var t,n=o.appendChild(X.createElement("div"));return n.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",o.style.width="1px",a.appendChild(i),t=!parseFloat(e.getComputedStyle(n,null).marginRight),a.removeChild(i),o.removeChild(n),t}}))}(),Z.swap=function(e,t,n,r){var a,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];a=n.apply(e,r||[]);for(i in t)e.style[i]=o[i];return a};var Gt=/^(none|table(?!-c[ea]).+)/,Vt=new RegExp("^("+At+")(.*)$","i"),Kt=new RegExp("^([+-])=("+At+")","i"),zt={position:"absolute",visibility:"hidden",display:"block"},Qt={letterSpacing:"0",fontWeight:"400"},Wt=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=A(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,i,o,l=Z.camelCase(t),s=e.style;return t=Z.cssProps[l]||(Z.cssProps[l]=x(s,l)),o=Z.cssHooks[t]||Z.cssHooks[l],void 0===n?o&&"get"in o&&void 0!==(a=o.get(e,!1,r))?a:s[t]:(i=typeof n,"string"===i&&(a=Kt.exec(n))&&(n=(a[1]+1)*a[2]+parseFloat(Z.css(e,t)),i="number"),void(null!=n&&n===n&&("number"!==i||Z.cssNumber[l]||(n+="px"),J.clearCloneStyle||""!==n||0!==t.indexOf("background")||(s[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,r))||(s[t]=n))))}},css:function(e,t,n,r){var a,i,o,l=Z.camelCase(t);return t=Z.cssProps[l]||(Z.cssProps[l]=x(e.style,l)),o=Z.cssHooks[t]||Z.cssHooks[l],o&&"get"in o&&(a=o.get(e,!0,n)),void 0===a&&(a=A(e,t,r)),"normal"===a&&t in Qt&&(a=Qt[t]),""===n||n?(i=parseFloat(a),n===!0||Z.isNumeric(i)?i||0:a):a}}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,n,r){return n?Gt.test(Z.css(e,"display"))&&0===e.offsetWidth?Z.swap(e,zt,function(){return S(e,t,r)}):S(e,t,r):void 0},set:function(e,n,r){var a=r&&$t(e);return k(e,n,r?I(e,t,r,"border-box"===Z.css(e,"boxSizing",!1,a),a):0)}}}),Z.cssHooks.marginRight=N(J.reliableMarginRight,function(e,t){return t?Z.swap(e,{display:"inline-block"},A,[e,"marginRight"]):void 0}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(n){for(var r=0,a={},i="string"==typeof n?n.split(" "):[n];4>r;r++)a[e+Nt[r]+t]=i[r]||i[r-2]||i[0];return a}},Ht.test(e)||(Z.cssHooks[e+t].set=k)}),Z.fn.extend({css:function(e,t){return gt(this,function(e,t,n){var r,a,i={},o=0;if(Z.isArray(t)){for(r=$t(e),a=t.length;a>o;o++)i[t[o]]=Z.css(e,t[o],!1,r);return i}return void 0!==n?Z.style(e,t,n):Z.css(e,t)},e,t,arguments.length>1)},show:function(){return P(this,!0)},hide:function(){return P(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){xt(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=E,E.prototype={constructor:E,init:function(e,t,n,r,a,i){this.elem=e,this.prop=n,this.easing=a||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(Z.cssNumber[n]?"":"px")},cur:function(){var e=E.propHooks[this.prop];return e&&e.get?e.get(this):E.propHooks._default.get(this)},run:function(e){var t,n=E.propHooks[this.prop];return this.pos=t=this.options.duration?Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):E.propHooks._default.set(this),this}},E.prototype.init.prototype=E.prototype,E.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},E.propHooks.scrollTop=E.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.fx=E.prototype.init,Z.fx.step={};var Jt,Xt,Yt=/^(?:toggle|show|hide)$/,Zt=new RegExp("^(?:([+-])=|)("+At+")([a-z%]*)$","i"),en=/queueHooks$/,tn=[_],nn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),a=Zt.exec(t),i=a&&a[3]||(Z.cssNumber[e]?"":"px"),o=(Z.cssNumber[e]||"px"!==i&&+r)&&Zt.exec(Z.css(n.elem,e)),l=1,s=20;if(o&&o[3]!==i){i=i||o[3],a=a||[],o=+r||1;do l=l||".5",o/=l,Z.style(n.elem,e,o+i);while(l!==(l=n.cur()/r)&&1!==l&&--s)}return a&&(o=n.start=+o||+r||0,n.unit=i,n.end=a[1]?o+(a[1]+1)*a[2]:+a[2]),n}]};Z.Animation=Z.extend(B,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,a=e.length;a>r;r++)n=e[r],nn[n]=nn[n]||[],nn[n].unshift(t)},prefilter:function(e,t){t?tn.unshift(e):tn.push(e)}}),Z.speed=function(e,t,n){var r=e&&"object"==typeof e?Z.extend({},e):{complete:n||!n&&t||Z.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Z.isFunction(t)&&t};return r.duration=Z.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Z.fx.speeds?Z.fx.speeds[r.duration]:Z.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){Z.isFunction(r.old)&&r.old.call(this),r.queue&&Z.dequeue(this,r.queue)},r},Z.fn.extend({fadeTo:function(e,t,n,r){return this.filter(xt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var a=Z.isEmptyObject(e),i=Z.speed(t,n,r),o=function(){var t=B(this,Z.extend({},e),i);(a||vt.get(this,"finish"))&&t.stop(!0)};return o.finish=o,a||i.queue===!1?this.each(o):this.queue(i.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,a=null!=e&&e+"queueHooks",i=Z.timers,o=vt.get(this);if(a)o[a]&&o[a].stop&&r(o[a]);else for(a in o)o[a]&&o[a].stop&&en.test(a)&&r(o[a]);for(a=i.length;a--;)i[a].elem!==this||null!=e&&i[a].queue!==e||(i[a].anim.stop(n),t=!1,i.splice(a,1));(t||!n)&&Z.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=vt.get(this),r=n[e+"queue"],a=n[e+"queueHooks"],i=Z.timers,o=r?r.length:0;for(n.finish=!0,Z.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;o>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),Z.each(["toggle","show","hide"],function(e,t){var n=Z.fn[t];Z.fn[t]=function(e,r,a){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(O(t,!0),e,r,a)}}),Z.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Z.timers=[],Z.fx.tick=function(){var e,t=0,n=Z.timers;for(Jt=Z.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Z.fx.stop(),Jt=void 0},Z.fx.timer=function(e){Z.timers.push(e),e()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Xt||(Xt=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Xt),Xt=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=X.createElement("input"),t=X.createElement("select"),n=t.appendChild(X.createElement("option"));e.type="checkbox",J.checkOn=""!==e.value,J.optSelected=n.selected,t.disabled=!0,J.optDisabled=!n.disabled,e=X.createElement("input"),e.value="t",e.type="radio",J.radioValue="t"===e.value}();var rn,an,on=Z.expr.attrHandle;Z.fn.extend({attr:function(e,t){return gt(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})}}),Z.extend({attr:function(e,t,n){var r,a,i=e.nodeType;return e&&3!==i&&8!==i&&2!==i?typeof e.getAttribute===It?Z.prop(e,t,n):(1===i&&Z.isXMLDoc(e)||(t=t.toLowerCase(),r=Z.attrHooks[t]||(Z.expr.match.bool.test(t)?an:rn)),void 0===n?r&&"get"in r&&null!==(a=r.get(e,t))?a:(a=Z.find.attr(e,t),null==a?void 0:a):null!==n?r&&"set"in r&&void 0!==(a=r.set(e,n,t))?a:(e.setAttribute(t,n+""),n):void Z.removeAttr(e,t)):void 0},removeAttr:function(e,t){var n,r,a=0,i=t&&t.match(ft);if(i&&1===e.nodeType)for(;n=i[a++];)r=Z.propFix[n]||n,Z.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!J.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),an={set:function(e,t,n){return t===!1?Z.removeAttr(e,n):e.setAttribute(n,n),n}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(e,t){var n=on[t]||Z.find.attr;on[t]=function(e,t,r){var a,i;return r||(i=on[t],on[t]=a,a=null!=n(e,t,r)?t.toLowerCase():null,on[t]=i),a}});var ln=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(e,t){return gt(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Z.propFix[e]||e]})}}),Z.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,a,i,o=e.nodeType;return e&&3!==o&&8!==o&&2!==o?(i=1!==o||!Z.isXMLDoc(e),i&&(t=Z.propFix[t]||t,a=Z.propHooks[t]),void 0!==n?a&&"set"in a&&void 0!==(r=a.set(e,n,t))?r:e[t]=n:a&&"get"in a&&null!==(r=a.get(e,t))?r:e[t]):void 0},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||ln.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),J.optSelected||(Z.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var sn=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(e){var t,n,r,a,i,o,l="string"==typeof e&&e,s=0,u=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ft)||[];u>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(sn," "):" ")){for(i=0;a=t[i++];)r.indexOf(" "+a+" ")<0&&(r+=a+" ");o=Z.trim(r),n.className!==o&&(n.className=o)}return this},removeClass:function(e){var t,n,r,a,i,o,l=0===arguments.length||"string"==typeof e&&e,s=0,u=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ft)||[];u>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(sn," "):"")){for(i=0;a=t[i++];)for(;r.indexOf(" "+a+" ")>=0;)r=r.replace(" "+a+" "," ");o=e?Z.trim(r):"",n.className!==o&&(n.className=o)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(Z.isFunction(e)?function(n){Z(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,a=Z(this),i=e.match(ft)||[];t=i[r++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else(n===It||"boolean"===n)&&(this.className&&vt.set(this,"__className__",this.className),this.className=this.className||e===!1?"":vt.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(sn," ").indexOf(t)>=0)return!0;return!1}});var un=/\r/g;Z.fn.extend({val:function(e){var t,n,r,a=this[0];return arguments.length?(r=Z.isFunction(e),this.each(function(n){var a;1===this.nodeType&&(a=r?e.call(this,n,Z(this).val()):e,null==a?a="":"number"==typeof a?a+="":Z.isArray(a)&&(a=Z.map(a,function(e){return null==e?"":e+""})),t=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,a,"value")||(this.value=a))})):a?(t=Z.valHooks[a.type]||Z.valHooks[a.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(a,"value"))?n:(n=a.value,"string"==typeof n?n.replace(un,""):null==n?"":n)):void 0}}),Z.extend({valHooks:{option:{get:function(e){var t=Z.find.attr(e,"value");return null!=t?t:Z.trim(Z.text(e))}},select:{get:function(e){for(var t,n,r=e.options,a=e.selectedIndex,i="select-one"===e.type||0>a,o=i?null:[],l=i?a+1:r.length,s=0>a?l:i?a:0;l>s;s++)if(n=r[s],!(!n.selected&&s!==a||(J.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Z.nodeName(n.parentNode,"optgroup"))){if(t=Z(n).val(),i)return t;o.push(t)}return o},set:function(e,t){for(var n,r,a=e.options,i=Z.makeArray(t),o=a.length;o--;)r=a[o],(r.selected=Z.inArray(r.value,i)>=0)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(e,t){return Z.isArray(t)?e.checked=Z.inArray(Z(e).val(),t)>=0:void 0}},J.checkOn||(Z.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Z.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var pn=Z.now(),cn=/\?/;Z.parseJSON=function(e){return JSON.parse(e+"")},Z.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+e),t};var dn=/#.*$/,fn=/([?&])_=[^&]*/,mn=/^(.*?):[ \t]*([^\r\n]*)$/gm,hn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,gn=/^(?:GET|HEAD)$/,vn=/^\/\//,yn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,bn={},wn={},An="*/".concat("*"),Nn=e.location.href,xn=yn.exec(Nn.toLowerCase())||[];Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Nn,type:"GET",isLocal:hn.test(xn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":An,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?M(M(e,Z.ajaxSettings),t):M(Z.ajaxSettings,e)},ajaxPrefilter:U(bn),ajaxTransport:U(wn),ajax:function(e,t){function n(e,t,n,o){var s,p,v,y,w,N=t;2!==b&&(b=2,l&&clearTimeout(l),r=void 0,i=o||"",A.readyState=e>0?4:0,s=e>=200&&300>e||304===e,n&&(y=R(c,A,n)),y=D(c,y,A,s),s?(c.ifModified&&(w=A.getResponseHeader("Last-Modified"),w&&(Z.lastModified[a]=w),w=A.getResponseHeader("etag"),w&&(Z.etag[a]=w)),204===e||"HEAD"===c.type?N="nocontent":304===e?N="notmodified":(N=y.state,p=y.data,v=y.error,s=!v)):(v=N,(e||!N)&&(N="error",0>e&&(e=0))),A.status=e,A.statusText=(t||N)+"",s?m.resolveWith(d,[p,N,A]):m.rejectWith(d,[A,N,v]),A.statusCode(g),g=void 0,u&&f.trigger(s?"ajaxSuccess":"ajaxError",[A,c,s?p:v]),h.fireWith(d,[A,N]),u&&(f.trigger("ajaxComplete",[A,c]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,a,i,o,l,s,u,p,c=Z.ajaxSetup({},t),d=c.context||c,f=c.context&&(d.nodeType||d.jquery)?Z(d):Z.event,m=Z.Deferred(),h=Z.Callbacks("once memory"),g=c.statusCode||{},v={},y={},b=0,w="canceled",A={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!o)for(o={};t=mn.exec(i);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else A.always(e[A.status]);return this},abort:function(e){var t=e||w;return r&&r.abort(t),n(0,t),this}};if(m.promise(A).complete=h.add,A.success=A.done,A.error=A.fail,c.url=((e||c.url||Nn)+"").replace(dn,"").replace(vn,xn[1]+"//"),c.type=t.method||t.type||c.method||c.type,c.dataTypes=Z.trim(c.dataType||"*").toLowerCase().match(ft)||[""],null==c.crossDomain&&(s=yn.exec(c.url.toLowerCase()),c.crossDomain=!(!s||s[1]===xn[1]&&s[2]===xn[2]&&(s[3]||("http:"===s[1]?"80":"443"))===(xn[3]||("http:"===xn[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=Z.param(c.data,c.traditional)),F(bn,c,t,A),2===b)return A;u=Z.event&&c.global,u&&0===Z.active++&&Z.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!gn.test(c.type),a=c.url,c.hasContent||(c.data&&(a=c.url+=(cn.test(a)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=fn.test(a)?a.replace(fn,"$1_="+pn++):a+(cn.test(a)?"&":"?")+"_="+pn++)),c.ifModified&&(Z.lastModified[a]&&A.setRequestHeader("If-Modified-Since",Z.lastModified[a]),Z.etag[a]&&A.setRequestHeader("If-None-Match",Z.etag[a])),(c.data&&c.hasContent&&c.contentType!==!1||t.contentType)&&A.setRequestHeader("Content-Type",c.contentType),A.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+An+"; q=0.01":""):c.accepts["*"]);for(p in c.headers)A.setRequestHeader(p,c.headers[p]);
if(c.beforeSend&&(c.beforeSend.call(d,A,c)===!1||2===b))return A.abort();w="abort";for(p in{success:1,error:1,complete:1})A[p](c[p]);if(r=F(wn,c,t,A)){A.readyState=1,u&&f.trigger("ajaxSend",[A,c]),c.async&&c.timeout>0&&(l=setTimeout(function(){A.abort("timeout")},c.timeout));try{b=1,r.send(v,n)}catch(N){if(!(2>b))throw N;n(-1,N)}}else n(-1,"No Transport");return A},getJSON:function(e,t,n){return Z.get(e,t,n,"json")},getScript:function(e,t){return Z.get(e,void 0,t,"script")}}),Z.each(["get","post"],function(e,t){Z[t]=function(e,n,r,a){return Z.isFunction(n)&&(a=a||r,r=n,n=void 0),Z.ajax({url:e,type:t,dataType:a,data:n,success:r})}}),Z._evalUrl=function(e){return Z.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Z.fn.extend({wrapAll:function(e){var t;return Z.isFunction(e)?this.each(function(t){Z(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Z(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(Z.isFunction(e)?function(t){Z(this).wrapInner(e.call(this,t))}:function(){var t=Z(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(n){Z(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)};var kn=/%20/g,In=/\[\]$/,Sn=/\r?\n/g,Pn=/^(?:submit|button|image|reset|file)$/i,En=/^(?:input|select|textarea|keygen)/i;Z.param=function(e,t){var n,r=[],a=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){a(this.name,this.value)});else for(n in e)j(n,e[n],t,a);return r.join("&").replace(kn,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Z.prop(this,"elements");return e?Z.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Z(this).is(":disabled")&&En.test(this.nodeName)&&!Pn.test(e)&&(this.checked||!kt.test(e))}).map(function(e,t){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(e){return{name:t.name,value:e.replace(Sn,"\r\n")}}):{name:t.name,value:n.replace(Sn,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Cn=0,On={},Tn={0:200,1223:204},_n=Z.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in On)On[e]()}),J.cors=!!_n&&"withCredentials"in _n,J.ajax=_n=!!_n,Z.ajaxTransport(function(e){var t;return J.cors||_n&&!e.crossDomain?{send:function(n,r){var a,i=e.xhr(),o=++Cn;if(i.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)i[a]=e.xhrFields[a];e.mimeType&&i.overrideMimeType&&i.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(a in n)i.setRequestHeader(a,n[a]);t=function(e){return function(){t&&(delete On[o],t=i.onload=i.onerror=null,"abort"===e?i.abort():"error"===e?r(i.status,i.statusText):r(Tn[i.status]||i.status,i.statusText,"string"==typeof i.responseText?{text:i.responseText}:void 0,i.getAllResponseHeaders()))}},i.onload=t(),i.onerror=t("error"),t=On[o]=t("abort");try{i.send(e.hasContent&&e.data||null)}catch(l){if(t)throw l}},abort:function(){t&&t()}}:void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,a){t=Z("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&a("error"===e.type?404:200,e.type)}),X.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Ln=[],Bn=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ln.pop()||Z.expando+"_"+pn++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(t,n,r){var a,i,o,l=t.jsonp!==!1&&(Bn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bn.test(t.data)&&"data");return l||"jsonp"===t.dataTypes[0]?(a=t.jsonpCallback=Z.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,l?t[l]=t[l].replace(Bn,"$1"+a):t.jsonp!==!1&&(t.url+=(cn.test(t.url)?"&":"?")+t.jsonp+"="+a),t.converters["script json"]=function(){return o||Z.error(a+" was not called"),o[0]},t.dataTypes[0]="json",i=e[a],e[a]=function(){o=arguments},r.always(function(){e[a]=i,t[a]&&(t.jsonpCallback=n.jsonpCallback,Ln.push(a)),o&&Z.isFunction(i)&&i(o[0]),o=i=void 0}),"script"):void 0}),Z.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||X;var r=ot.exec(e),a=!n&&[];return r?[t.createElement(r[1])]:(r=Z.buildFragment([e],t,a),a&&a.length&&Z(a).remove(),Z.merge([],r.childNodes))};var Un=Z.fn.load;Z.fn.load=function(e,t,n){if("string"!=typeof e&&Un)return Un.apply(this,arguments);var r,a,i,o=this,l=e.indexOf(" ");return l>=0&&(r=Z.trim(e.slice(l)),e=e.slice(0,l)),Z.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(a="POST"),o.length>0&&Z.ajax({url:e,type:a,dataType:"html",data:t}).done(function(e){i=arguments,o.html(r?Z("<div>").append(Z.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){o.each(n,i||[e.responseText,t,e])}),this},Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length};var Fn=e.document.documentElement;Z.offset={setOffset:function(e,t,n){var r,a,i,o,l,s,u,p=Z.css(e,"position"),c=Z(e),d={};"static"===p&&(e.style.position="relative"),l=c.offset(),i=Z.css(e,"top"),s=Z.css(e,"left"),u=("absolute"===p||"fixed"===p)&&(i+s).indexOf("auto")>-1,u?(r=c.position(),o=r.top,a=r.left):(o=parseFloat(i)||0,a=parseFloat(s)||0),Z.isFunction(t)&&(t=t.call(e,n,l)),null!=t.top&&(d.top=t.top-l.top+o),null!=t.left&&(d.left=t.left-l.left+a),"using"in t?t.using.call(e,d):c.css(d)}},Z.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var t,n,r=this[0],a={top:0,left:0},i=r&&r.ownerDocument;return i?(t=i.documentElement,Z.contains(t,r)?(typeof r.getBoundingClientRect!==It&&(a=r.getBoundingClientRect()),n=H(i),{top:a.top+n.pageYOffset-t.clientTop,left:a.left+n.pageXOffset-t.clientLeft}):a):void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===Z.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Z.nodeName(e[0],"html")||(r=e.offset()),r.top+=Z.css(e[0],"borderTopWidth",!0),r.left+=Z.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-Z.css(n,"marginTop",!0),left:t.left-r.left-Z.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Fn;e&&!Z.nodeName(e,"html")&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||Fn})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;Z.fn[t]=function(a){return gt(this,function(t,a,i){var o=H(t);return void 0===i?o?o[n]:t[a]:void(o?o.scrollTo(r?e.pageXOffset:i,r?i:e.pageYOffset):t[a]=i)},t,a,arguments.length,null)}}),Z.each(["top","left"],function(e,t){Z.cssHooks[t]=N(J.pixelPosition,function(e,n){return n?(n=A(e,t),qt.test(n)?Z(e).position()[t]+"px":n):void 0})}),Z.each({Height:"height",Width:"width"},function(e,t){Z.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Z.fn[r]=function(r,a){var i=arguments.length&&(n||"boolean"!=typeof r),o=n||(r===!0||a===!0?"margin":"border");return gt(this,function(t,n,r){var a;return Z.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===r?Z.css(t,n,o):Z.style(t,n,r,o)},t,i?r:void 0,i,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var Mn=e.jQuery,Rn=e.$;return Z.noConflict=function(t){return e.$===Z&&(e.$=Rn),t&&e.jQuery===Z&&(e.jQuery=Mn),Z},typeof t===It&&(e.jQuery=e.$=Z),Z}),window.vsMode=!1,window.socialShareLink="",window.tvShowUUID="",window.embedUUID=$("#widgetSettingUUID").val(),window.questionList={list:[],correctList:[],answeredCorrect:[],answeredWrong:[],points:[],url:[],currentNum:0},window.pollList={list:[],currentNum:0,alreadyAnswered:[],autoContinuePoll:{active:!1,timeout:2e3},loadPollsAjaxCompleted:!1,checkPollsLoadedInterval:200},window.gameUser={player1:$("#currentUser"),player2:$("#theOtherUser"),player1Name:"Player_"+Math.floor(100*Math.random())},window.timerCount={timer:null,timerSeconds:$("#countdownInSecond").val(),timerCurrent:$("#countdownInSecond").val(),timerPoints:0},window.globalSelectors={column1:$(".column1"),column2:$(".column2"),column3:$(".column3"),body:$("body")},define("embed/globals",function(){}),!function(){function e(t,r){function a(e,t){return function(){return e.apply(t,arguments)}}var i;if(r=r||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=r.touchBoundary||10,this.layer=t,this.tapDelay=r.tapDelay||200,this.tapTimeout=r.tapTimeout||700,!e.notNeeded(t)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],l=this,s=0,u=o.length;u>s;s++)l[o[s]]=a(l[o[s]],l);n&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,r){var a=Node.prototype.removeEventListener;"click"===e?a.call(t,e,n.hijacked||n,r):a.call(t,e,n,r)},t.addEventListener=function(e,n,r){var a=Node.prototype.addEventListener;"click"===e?a.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),r):a.call(t,e,n,r)}),"function"==typeof t.onclick&&(i=t.onclick,t.addEventListener("click",function(e){i(e)},!1),t.onclick=null)}}var t=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!t,r=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,a=r&&/OS 4_\d(_\d)?/.test(navigator.userAgent),i=r&&/OS [6-7]_\d/.test(navigator.userAgent),o=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(r&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var n,r;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),r=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},e.prototype.determineEventType=function(e){return n&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t;r&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,n,i;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],r){if(i=window.getSelection(),i.rangeCount&&!i.isCollapsed)return!0;if(!a){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n?!0:!1},e.prototype.onTouchMove=function(e){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},e.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,o,l,s,u,p=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,o=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,i&&(u=e.changedTouches[0],p=document.elementFromPoint(u.pageX-window.pageXOffset,u.pageY-window.pageYOffset)||p,p.fastClickScrollParent=this.targetElement.fastClickScrollParent),l=p.tagName.toLowerCase(),"label"===l){if(t=this.findControl(p)){if(this.focus(p),n)return!1;p=t}}else if(this.needsFocus(p))return e.timeStamp-o>100||r&&window.top!==window&&"input"===l?(this.targetElement=null,!1):(this.focus(p),this.sendClick(p,e),r&&"select"===l||(this.targetElement=null,e.preventDefault()),!1);return r&&!a&&(s=p.fastClickScrollParent,s&&s.fastClickLastScrollTop!==s.scrollTop)?!0:(this.needsClick(p)||(e.preventDefault(),this.sendClick(p,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return this.targetElement?e.forwardedTouchEvent?!0:!e.cancelable||this.needsClick(this.targetElement)&&!this.cancelNextClick?!0:(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;n&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,r,a,i;if("undefined"==typeof window.ontouchstart)return!0;if(r=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(r>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(o&&(a=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),a[1]>=10&&a[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction?!0:(i=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],i>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===e.style.touchAction||"manipulation"===e.style.touchAction?!0:!1)},e.attach=function(t,n){return new e(t,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("fastclick",[],function(){return e}):"undefined"!=typeof module&&module.exports?(module.exports=e.attach,module.exports.FastClick=e):window.FastClick=e}();var insticator_LoginSignup_mode="signup",_gaq=_gaq||[],init=0;define("gameEvertestVal",function(){});var evertest={host:$("#evertestURL").val()};evertest.getEmbedTemplatePath=function(e){var t="templates/embed/"+e;return t},evertest.getTriviaQuestions=function(e,t){$.ajax({type:"GET",url:evertest.host+"/insticator-api/getQuestionsForSoloModeElastic",crossDomain:!0,xhrFields:{withCredentials:!0},data:{nocache:e?"0":"1",hashtagList:t},dataType:"json",success:function(e){questionList.list=shuffle(e),questionList.list.length>0?(initializeQuestionList(e),selectMode(readCookie("facebookUserVS"),function(){var t=$(window).width()>400?!0:!1;e.dataWidth=t,e.showQuestionImages=embedSettings.showQuestionImages,dust.render(evertest.getEmbedTemplatePath("apiEachQuestion"),e,function(e,t){$("#triviaIsLoading").hide(),$("#triviaContainer").prepend(t),$("#predictionID1 img").addClass("lazypreload"),getNextTriva()})}),window.tvShowUUID=e[0].tvShowUUID):selectMode(readCookie("facebookUserVS"),function(){EmbedUtils.checkForPolls()}),enableLeaderboard&&evertest.templateLBDust({tvshowUUID:tvShowUUID},"leaderboardHead")},error:function(){console.error("unable to getRandomTriviaUUIDs")}})},evertest.getVSModeQuestions=function(e,t,n,r){$.ajax({type:"GET",url:evertest.host+"/insticator-api/getQuestionsForVSModeElastic",dataType:"json",crossDomain:!0,xhrFields:{withCredentials:!0},data:{hashtagList:e},success:function(e){t(e)},error:function(){n()},complete:function(){r()}})},evertest.getPollsQuestions=function(e,t){t.length>0?$.ajax({type:"GET",url:evertest.host+"/insticator-api/getPollsForHashTagListElastic",crossDomain:!0,xhrFields:{withCredentials:!0},data:{nocache:e?"0":"1",hashtagList:t},dataType:"json",success:function(e){e.length>0&&(pollList.list=e,dust.render(evertest.getEmbedTemplatePath("apiEachPoll"),pollList.list,function(e,t){$("#pollsContainer").prepend(t),$("#pollsContainer .prevPoll").on("click",function(e){e.preventDefault(),$("#pollID"+pollList.currentNum).fadeOut(function(){pollList.currentNum-=1,$("#pollID"+pollList.currentNum).fadeIn(),disablePollButtons(),setActivePoll()})}),$("#pollsContainer .nextPoll").on("click",function(e){e.preventDefault(),$("#pollID"+pollList.currentNum).fadeOut(function(){pollList.currentNum+=1,$("#pollID"+pollList.currentNum).fadeIn(),disablePollButtons(),setActivePoll()})}),$("#pollsContainer .closePolls").on("click",function(e){e.preventDefault(),closePolls()}),$("#pollsContainer .apiEachPoll li").on("click",function(e){var t=$(e.currentTarget),n=t.parent(),r=t.attr("optionid"),a=n.attr("predictionuuid"),i=TriviaGroupTypes.POLL;answerCurrentPoll(a,r,i)})})),window.pollList.loadPollsAjaxCompleted=!0},error:function(){console.error("unable to polls for this trivia"),window.pollList.loadPollsAjaxCompleted=!0}}):window.pollList.loadPollsAjaxCompleted=!0},evertest.saveTriviaAnswer=function(e,t){$.ajax(userIsLoggedIn()?{type:"POST",url:evertest.host+"/setFeaturePosition",data:{predictionUUID:e,predictionOptionUUID:t},crossDomain:!0,xhrFields:{withCredentials:!0},dataType:"text",success:function(){var e=parseInt($("#tempositionNum").val())+1;$("#tempositionNum").val(e)},error:function(){console.error("error while prediction"),location.reload(!0)}}:{type:"POST",url:evertest.host+"/setTempPosition",crossDomain:!0,xhrFields:{withCredentials:!0},data:{predictionUUID:e,predictionOptionUUID:t},dataType:"text",success:function(){var e=parseInt($("#tempositionNum").val())+1;$("#tempositionNum").val(e)}})},evertest.getUserDetails=function(){$.ajax({type:"GET",url:evertest.host+"/users/getUserDetails",dataType:"json",crossDomain:!0,xhrFields:{withCredentials:!0},beforeSend:function(){$("#triviaIsLoading").show()},success:function(e){if(e!==!1){var t=$("#loginContainer");evertest.getTriviaQuestions(!1,hashtagArray),$("#userUUID").val(e.userUUID),$("#curr_userName").val(e.username),$("#isLoggedOn").val("1"),Analytics.refreshGlobalProperties(),t.length?(t.hide(),$("#logoutContainer").show()):t.show();var n=$("#evertest_cfhost").val()+"/public/images/user/medium/"+e.userUUID+".jpg";gameUser.player1.find(".userImage").html('<img src="'+n+'">'),gameUser.player1.find(".userInfo h1").html(e.username),gameUser.player1Name=e.username,gameUser.player1.find(".userInfo p span").html(e.currentBalance),("undefined"==typeof e.countryCode||0===e.countryCode.length)&&evertest.storeGeoLocationAndTimeZone()}else evertest.getTriviaQuestions(!0,hashtagArray);evertest.getPollsQuestions(!0,embedSettings.pollsHashTagList)},error:function(){evertest.getTriviaQuestions(!0,hashtagArray)}})},evertest.storeGeoLocationAndTimeZone=function(){require(["timeZoneJS"],function(){var e=jstz.determine(),t=e.name();$.ajax({type:"GET",url:evertest.host+"/users/storeUserGeolocationAndTimezone",data:{timezone:t},dataType:"text",crossDomain:!0,xhrFields:{withCredentials:!0},success:function(){},error:function(){}})})},evertest.templateLBDust=function(e,t){function n(e){dust.render(evertest.getEmbedTemplatePath(t),e,function(e,n){$("#"+t).html(n)})}function r(e){return e=e||{},e.currentUserIsTopN=!1,e.rankerList=[{userUUID:"ab7b568e-93cf-457d-81e7-407119a1b3a8",userName:"PackerToddsnEnds",userPoints:18989,userRanking:1,properties:{}},{userUUID:"16168059-4423-4428-80fc-b97be2428e48",userName:"tlhenry04",userPoints:18281,userRanking:2,properties:{}},{userUUID:"1b24aadc-27f1-42be-aef9-b077b56f3029",userName:"USABUZZ",userPoints:17490,userRanking:3,properties:{}},{userUUID:"51a17d4a-4d77-4bce-b95e-e166571a509c",userName:"allan.murphy.5895",userPoints:13847,userRanking:4,properties:{}},{userUUID:"92f9afec-6336-4a67-ae6f-f8994b4ea190",userName:"60yrgbfan",userPoints:10665,userRanking:5,properties:{}},{userUUID:"d319681e-c8ca-46a9-a880-2d56290e3fdb",userName:"alex-wooley",userPoints:9963,userRanking:6,properties:{}},{userUUID:"84f404f1-0027-48a2-87c5-5ade7289aa0b",userName:"beth.peyton",userPoints:9229,userRanking:7,properties:{}},{userUUID:"1c862e8c-7b84-41d8-af61-65cf8232722b",userName:"tommy",userPoints:8130,userRanking:8,properties:{}},{userUUID:"af6d799b-9fb9-43ff-80c5-8f628dce66e2",userName:"melissa.l.mathiesen",userPoints:7411,userRanking:9,properties:{}},{userUUID:"52615b23-ac0f-4eec-973c-a40ecd7d010c",userName:"herblk",userPoints:7336,userRanking:10,properties:{}}],e}if(e.tvshowUUID&&e.tvshowUUID.length>0)$.ajax({type:"GET",url:evertest.host+"/tvshow/leaderboard",crossDomain:!0,xhrFields:{withCredentials:!0},data:e,dataType:"json",success:function(e){e.rankerList.length<=0&&(e=r(e)),n(e)},error:function(){}});else{var a=r();n(a)}},evertest.showChatting=function(e,t){var n=evertest.host+"/chat/getChat?type=apiwidget&typeUUID="+e+"&version=2&chatTitleProvided="+t;$("#chatIframeContainer").html('<iframe width="100%" height="100%" frameborder="0" src="'+n+'" scrolling="no"></iframe>')},evertest.userNameCheck=function(e){return $.ajax({type:"GET",url:evertest.host+"/auth/checkUsernameAvailability",crossDomain:!0,xhrFields:{withCredentials:!0},dataType:"text",async:!1,data:{username:e}})},evertest.loginSignupModal=function(){var e=createDataObj_loginSignupModal();$.ajax({type:"POST",url:evertest.host+"/validateModalLoginSignup",crossDomain:!0,xhrFields:{withCredentials:!0},data:e,contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"text",success:function(e){var t=JSON.parse(e);handleGetResponse(t.status,t.response,t.redirectURL)},error:function(e){console.error("error in login request "+JSON.stringify(e))}}).complete(function(){})},evertest.isEmailExists=function(e){$.ajax({type:"POST",url:evertest.host+"/users/checkEmail",data:{emailValue:e},crossDomain:!0,xhrFields:{withCredentials:!0},dataType:"text"}).complete(function(e){var t=e.responseText;"Email User Exist"==t?setMode_loginSignupModal("login"):"Facebook User Exist"==t?(setMode_loginSignupModal("login"),$("#facebookUserValidation").html("Hi it appears you already have an Insticator account connected to <br>your Facebook Profile. <br>Please login with Facebook to access your account."),$("#facebookUserValidation").show()):(setMode_loginSignupModal("signup"),"Invalid Email"==t&&($("#emailError").html("Please use a valid email address."),$("#emailError").show()))})},evertest.verifyEmail=function(e){var t;return $.ajax({type:"POST",url:"/users/checkIdentity",data:{emailValue:e},async:!1,dataType:"text"}).complete(function(e){var n=e.responseText;t="user"==n?"true":"admin"==n?"admin":"false"}),t},evertest.getArticlesForEmbed=function(e,t,n){var t=t||"",n=n||0;return $.ajax({type:"GET",url:"/articles/getarticles",data:{embedUUID:e,articleKey:t,limit:n},dataType:"json"})},evertest.getArticlesForSite=function(e){return $.ajax({type:"GET",url:"/articles/getarticlesforsite",data:{siteUUID:e},dataType:"json"})},evertest.createArticleForSite=function(e){return $.ajax({type:"POST",url:"/articles/createarticle",data:e,dataType:"json"})},evertest.editArticleForSite=function(e){return $.ajax({type:"POST",url:"/articles/editarticle",data:e,dataType:"json"})},evertest.deleteArticleForSite=function(e){return $.ajax({type:"GET",url:"/articles/removearticle",data:{articleUUID:e}})},evertest.getOgData=function(e){return $.ajax({method:"GET",url:"/utils/getopengraphparams",data:{url:e}})},define("evertestApi",function(){}),function(e){"function"==typeof define&&define.amd?define("jquerycookie",["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function t(e){return l.raw?e:encodeURIComponent(e)}function n(e){return l.raw?e:decodeURIComponent(e)}function r(e){return t(l.json?JSON.stringify(e):String(e))}function a(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(o," ")),l.json?JSON.parse(e):e}catch(t){}}function i(t,n){var r=l.raw?t:a(t);return e.isFunction(n)?n(r):r}var o=/\+/g,l=e.cookie=function(a,o,s){if(void 0!==o&&!e.isFunction(o)){if(s=e.extend({},l.defaults,s),"number"==typeof s.expires){var u=s.expires,p=s.expires=new Date;p.setTime(+p+864e5*u)}return document.cookie=[t(a),"=",r(o),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}for(var c=a?void 0:{},d=document.cookie?document.cookie.split("; "):[],f=0,m=d.length;m>f;f++){var h=d[f].split("="),g=n(h.shift()),v=h.join("=");if(a&&a===g){c=i(v,o);break}a||void 0===(v=i(v))||(c[g]=v)}return c};l.defaults={},e.removeCookie=function(t,n){return void 0===e.cookie(t)?!1:(e.cookie(t,"",e.extend({},n,{expires:-1})),!e.cookie(t))}}),function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");Math.uuid=function(t,n){var r,a=e,i=[];if(n=n||a.length,t)for(r=0;t>r;r++)i[r]=a[0|Math.random()*n];else{var o;for(i[8]=i[13]=i[18]=i[23]="-",i[14]="4",r=0;36>r;r++)i[r]||(o=0|16*Math.random(),i[r]=a[19==r?3&o|8:o])}return i.join("")},Math.uuidFast=function(){for(var t,n=e,r=new Array(36),a=0,i=0;36>i;i++)8==i||13==i||18==i||23==i?r[i]="-":14==i?r[i]="4":(2>=a&&(a=33554432+16777216*Math.random()|0),t=15&a,a>>=4,r[i]=n[19==i?3&t|8:t]);return r.join("")},Math.uuidCompact=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})}}(),define("keenmath",function(){}),function e(t,n,r){function a(o,l){if(!n[o]){if(!t[o]){var s="function"==typeof require&&require;if(!l&&s)return s(o,!0);if(i)return i(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var p=n[o]={exports:{}};t[o][0].call(p.exports,function(e){var n=t[o][1][e];return a(n?n:e)},p,p.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(e,t){function n(e){return e?r(e):void 0}function r(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,a=0;a<n.length;a++)if(r=n[a],r===t||r.fn===t){n.splice(a,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var r=0,a=n.length;a>r;++r)n[r].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],2:[function(e,t){!function(e,n){"undefined"!=typeof t?t.exports=n():"function"==typeof define&&"object"==typeof define.amd||(this[e]=n())}("domready",function(e){function t(e){for(f=1;e=r.shift();)e()}var n,r=[],a=!1,i=document,o=i.documentElement,l=o.doScroll,s="DOMContentLoaded",u="addEventListener",p="onreadystatechange",c="readyState",d=l?/^loaded|^c/:/^loaded|c/,f=d.test(i[c]);return i[u]&&i[u](s,n=function(){i.removeEventListener(s,n,a),t()},a),l&&i.attachEvent(p,n=function(){/^c/.test(i[c])&&(i.detachEvent(p,n),t())}),e=l?function(t){self!=top?f?t():r.push(t):function(){try{o.doScroll("left")}catch(n){return setTimeout(function(){e(t)},50)}t()}()}:function(e){f?e():r.push(e)}})},{}],3:[function(e,t,n){(function(e){(function(){function r(e,t){function n(e){if(n[e]!==g)return n[e];var r;if("bug-string-char-index"==e)r="a"!="a"[0];else if("json"==e)r=n("json-stringify")&&n("json-parse");else{var i,l='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var s=t.stringify,p="function"==typeof s&&b;if(p){(i=function(){return 1}).toJSON=i;try{p="0"===s(0)&&"0"===s(new a)&&'""'==s(new o)&&s(y)===g&&s(g)===g&&s()===g&&"1"===s(i)&&"[1]"==s([i])&&"[null]"==s([g])&&"null"==s(null)&&"[null,null,null]"==s([g,y,null])&&s({a:[i,!0,!1,null,"\x00\b\n\f\r	"]})==l&&"1"===s(null,i)&&"[\n 1,\n 2\n]"==s([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==s(new u(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==s(new u(864e13))&&'"-000001-01-01T00:00:00.000Z"'==s(new u(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==s(new u(-1))}catch(c){p=!1}}r=p}if("json-parse"==e){var d=t.parse;if("function"==typeof d)try{if(0===d("0")&&!d(!1)){i=d(l);var f=5==i.a.length&&1===i.a[0];if(f){try{f=!d('"	"')}catch(c){}if(f)try{f=1!==d("01")}catch(c){}if(f)try{f=1!==d("1.")}catch(c){}}}}catch(c){f=!1}r=f}}return n[e]=!!r}e||(e=l.Object()),t||(t=l.Object());var a=e.Number||l.Number,o=e.String||l.String,s=e.Object||l.Object,u=e.Date||l.Date,p=e.SyntaxError||l.SyntaxError,c=e.TypeError||l.TypeError,d=e.Math||l.Math,f=e.JSON||l.JSON;"object"==typeof f&&f&&(t.stringify=f.stringify,t.parse=f.parse);var m,h,g,v=s.prototype,y=v.toString,b=new u(-0xc782b5b800cec);try{b=-109252==b.getUTCFullYear()&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch(w){}if(!n("json")){var A="[object Function]",N="[object Date]",x="[object Number]",k="[object String]",I="[object Array]",S="[object Boolean]",P=n("bug-string-char-index");if(!b)var E=d.floor,C=[0,31,59,90,120,151,181,212,243,273,304,334],O=function(e,t){return C[t]+365*(e-1970)+E((e-1969+(t=+(t>1)))/4)-E((e-1901+t)/100)+E((e-1601+t)/400)};if((m=v.hasOwnProperty)||(m=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=y?m=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,m=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,m.call(this,e)}),h=function(e,t){var n,r,a,o=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(a in r)m.call(r,a)&&o++;return n=r=null,o?h=2==o?function(e,t){var n,r={},a=y.call(e)==A;for(n in e)a&&"prototype"==n||m.call(r,n)||!(r[n]=1)||!m.call(e,n)||t(n)}:function(e,t){var n,r,a=y.call(e)==A;for(n in e)a&&"prototype"==n||!m.call(e,n)||(r="constructor"===n)||t(n);(r||m.call(e,n="constructor"))&&t(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],h=function(e,t){var n,a,o=y.call(e)==A,l=!o&&"function"!=typeof e.constructor&&i[typeof e.hasOwnProperty]&&e.hasOwnProperty||m;for(n in e)o&&"prototype"==n||!l.call(e,n)||t(n);for(a=r.length;n=r[--a];l.call(e,n)&&t(n));}),h(e,t)},!n("json-stringify")){var T={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},_="000000",L=function(e,t){return(_+(t||0)).slice(-e)},B="\\u00",U=function(e){for(var t='"',n=0,r=e.length,a=!P||r>10,i=a&&(P?e.split(""):e);r>n;n++){var o=e.charCodeAt(n);switch(o){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=T[o];break;default:if(32>o){t+=B+L(2,o.toString(16));break}t+=a?i[n]:e.charAt(n)}}return t+'"'},F=function(e,t,n,r,a,i,o){var l,s,u,p,d,f,v,b,w,A,P,C,T,_,B,M;try{l=t[e]}catch(R){}if("object"==typeof l&&l)if(s=y.call(l),s!=N||m.call(l,"toJSON"))"function"==typeof l.toJSON&&(s!=x&&s!=k&&s!=I||m.call(l,"toJSON"))&&(l=l.toJSON(e));else if(l>-1/0&&1/0>l){if(O){for(d=E(l/864e5),u=E(d/365.2425)+1970-1;O(u+1,0)<=d;u++);for(p=E((d-O(u,0))/30.42);O(u,p+1)<=d;p++);d=1+d-O(u,p),f=(l%864e5+864e5)%864e5,v=E(f/36e5)%24,b=E(f/6e4)%60,w=E(f/1e3)%60,A=f%1e3}else u=l.getUTCFullYear(),p=l.getUTCMonth(),d=l.getUTCDate(),v=l.getUTCHours(),b=l.getUTCMinutes(),w=l.getUTCSeconds(),A=l.getUTCMilliseconds();l=(0>=u||u>=1e4?(0>u?"-":"+")+L(6,0>u?-u:u):L(4,u))+"-"+L(2,p+1)+"-"+L(2,d)+"T"+L(2,v)+":"+L(2,b)+":"+L(2,w)+"."+L(3,A)+"Z"}else l=null;if(n&&(l=n.call(t,e,l)),null===l)return"null";if(s=y.call(l),s==S)return""+l;if(s==x)return l>-1/0&&1/0>l?""+l:"null";if(s==k)return U(""+l);if("object"==typeof l){for(_=o.length;_--;)if(o[_]===l)throw c();if(o.push(l),P=[],B=i,i+=a,s==I){for(T=0,_=l.length;_>T;T++)C=F(T,l,n,r,a,i,o),P.push(C===g?"null":C);M=P.length?a?"[\n"+i+P.join(",\n"+i)+"\n"+B+"]":"["+P.join(",")+"]":"[]"}else h(r||l,function(e){var t=F(e,l,n,r,a,i,o);t!==g&&P.push(U(e)+":"+(a?" ":"")+t)}),M=P.length?a?"{\n"+i+P.join(",\n"+i)+"\n"+B+"}":"{"+P.join(",")+"}":"{}";return o.pop(),M}};t.stringify=function(e,t,n){var r,a,o,l;if(i[typeof t]&&t)if((l=y.call(t))==A)a=t;else if(l==I){o={};for(var s,u=0,p=t.length;p>u;s=t[u++],l=y.call(s),(l==k||l==x)&&(o[s]=1));}if(n)if((l=y.call(n))==x){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else l==k&&(r=n.length<=10?n:n.slice(0,10));return F("",(s={},s[""]=e,s),a,o,r,"",[])}}if(!n("json-parse")){var M,R,D=o.fromCharCode,j={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},H=function(){throw M=R=null,p()},q=function(){for(var e,t,n,r,a,i=R,o=i.length;o>M;)switch(a=i.charCodeAt(M)){case 9:case 10:case 13:case 32:M++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=P?i.charAt(M):i[M],M++,e;case 34:for(e="@",M++;o>M;)if(a=i.charCodeAt(M),32>a)H();else if(92==a)switch(a=i.charCodeAt(++M)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=j[a],M++;break;case 117:for(t=++M,n=M+4;n>M;M++)a=i.charCodeAt(M),a>=48&&57>=a||a>=97&&102>=a||a>=65&&70>=a||H();e+=D("0x"+i.slice(t,M));break;default:H()}else{if(34==a)break;for(a=i.charCodeAt(M),t=M;a>=32&&92!=a&&34!=a;)a=i.charCodeAt(++M);e+=i.slice(t,M)}if(34==i.charCodeAt(M))return M++,e;H();default:if(t=M,45==a&&(r=!0,a=i.charCodeAt(++M)),a>=48&&57>=a){for(48==a&&(a=i.charCodeAt(M+1),a>=48&&57>=a)&&H(),r=!1;o>M&&(a=i.charCodeAt(M),a>=48&&57>=a);M++);if(46==i.charCodeAt(M)){for(n=++M;o>n&&(a=i.charCodeAt(n),a>=48&&57>=a);n++);n==M&&H(),M=n}if(a=i.charCodeAt(M),101==a||69==a){for(a=i.charCodeAt(++M),(43==a||45==a)&&M++,n=M;o>n&&(a=i.charCodeAt(n),a>=48&&57>=a);n++);n==M&&H(),M=n}return+i.slice(t,M)}if(r&&H(),"true"==i.slice(M,M+4))return M+=4,!0;if("false"==i.slice(M,M+5))return M+=5,!1;if("null"==i.slice(M,M+4))return M+=4,null;H()}return"$"},$=function(e){var t,n;if("$"==e&&H(),"string"==typeof e){if("@"==(P?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=q(),"]"!=e;n||(n=!0))n&&(","==e?(e=q(),"]"==e&&H()):H()),","==e&&H(),t.push($(e));return t}if("{"==e){for(t={};e=q(),"}"!=e;n||(n=!0))n&&(","==e?(e=q(),"}"==e&&H()):H()),(","==e||"string"!=typeof e||"@"!=(P?e.charAt(0):e[0])||":"!=q())&&H(),t[e.slice(1)]=$(q());return t}H()}return e},G=function(e,t,n){var r=V(e,t,n);r===g?delete e[t]:e[t]=r},V=function(e,t,n){var r,a=e[t];if("object"==typeof a&&a)if(y.call(a)==I)for(r=a.length;r--;)G(a,r,n);else h(a,function(e){G(a,e,n)});return n.call(e,t,a)};t.parse=function(e,t){var n,r;return M=0,R=""+e,n=$(q()),"$"!=q()&&H(),M=R=null,t&&y.call(t)==A?V((r={},r[""]=n,r),"",t):n}}}return t.runInContext=r,t}var a="function"==typeof define&&define.amd,i={"function":!0,object:!0},o=i[typeof n]&&n&&!n.nodeType&&n,l=i[typeof window]&&window||this,s=o&&i[typeof t]&&t&&!t.nodeType&&"object"==typeof e&&e;if(!s||s.global!==s&&s.window!==s&&s.self!==s||(l=s),o&&!a)r(l,o);else{var u=l.JSON,p=l.JSON3,c=!1,d=r(l,l.JSON3={noConflict:function(){return c||(c=!0,l.JSON=u,l.JSON3=p,u=p=null),d}});l.JSON={parse:d.parse,stringify:d.stringify}}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t,n){!function(e,r){"object"==typeof n?t.exports=r():"function"==typeof define&&define.amd||(e.Spinner=r())}(this,function(){"use strict";function e(e,t){var n,r=document.createElement(e||"div");for(n in t)r[n]=t[n];return r}function t(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function n(e,t,n,r){var a=["opacity",t,~~(100*e),n,r].join("-"),i=.01+n/r*100,o=Math.max(1-(1-e)/t*(100-i),e),l=u.substring(0,u.indexOf("Animation")).toLowerCase(),s=l&&"-"+l+"-"||"";return d[a]||(p.insertRule("@"+s+"keyframes "+a+"{0%{opacity:"+o+"}"+i+"%{opacity:"+e+"}"+(i+.01)+"%{opacity:1}"+(i+t)%100+"%{opacity:"+e+"}100%{opacity:"+o+"}}",p.cssRules.length),d[a]=1),a}function r(e,t){var n,r,a=e.style;if(t=t.charAt(0).toUpperCase()+t.slice(1),void 0!==a[t])return t;for(r=0;r<c.length;r++)if(n=c[r]+t,void 0!==a[n])return n}function a(e,t){for(var n in t)e.style[r(e,n)||n]=t[n];return e}function i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)void 0===e[r]&&(e[r]=n[r])}return e}function o(e,t){return"string"==typeof e?e:e[t%e.length]}function l(e){this.opts=i(e||{},l.defaults,f)}function s(){function n(t,n){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}p.addRule(".spin-vml","behavior:url(#default#VML)"),l.prototype.lines=function(e,r){function i(){return a(n("group",{coordsize:p+" "+p,coordorigin:-u+" "+-u}),{width:p,height:p})}function l(e,l,s){t(d,t(a(i(),{rotation:360/r.lines*e+"deg",left:~~l}),t(a(n("roundrect",{arcsize:r.corners}),{width:u,height:r.scale*r.width,left:r.scale*r.radius,top:-r.scale*r.width>>1,filter:s}),n("fill",{color:o(r.color,e),opacity:r.opacity}),n("stroke",{opacity:0}))))}var s,u=r.scale*(r.length+r.width),p=2*r.scale*u,c=-(r.width+r.length)*r.scale*2+"px",d=a(i(),{position:"absolute",top:c,left:c});if(r.shadow)for(s=1;s<=r.lines;s++)l(s,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(s=1;s<=r.lines;s++)l(s);return t(e,d)},l.prototype.opacity=function(e,t,n,r){var a=e.firstChild;r=r.shadow&&r.lines||0,a&&t+r<a.childNodes.length&&(a=a.childNodes[t+r],a=a&&a.firstChild,a=a&&a.firstChild,a&&(a.opacity=n))}}var u,p,c=["webkit","Moz","ms","O"],d={},f={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(l.defaults={},i(l.prototype,{spin:function(t){this.stop();var n=this,r=n.opts,i=n.el=e(null,{className:r.className});if(a(i,{position:r.position,width:0,zIndex:r.zIndex,left:r.left,top:r.top}),t&&t.insertBefore(i,t.firstChild||null),i.setAttribute("role","progressbar"),n.lines(i,n.opts),!u){var o,l=0,s=(r.lines-1)*(1-r.direction)/2,p=r.fps,c=p/r.speed,d=(1-r.opacity)/(c*r.trail/100),f=c/r.lines;!function m(){l++;for(var e=0;e<r.lines;e++)o=Math.max(1-(l+(r.lines-e)*f)%c*d,r.opacity),n.opacity(i,e*r.direction+s,o,r);n.timeout=n.el&&setTimeout(m,~~(1e3/p))}()}return n},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(r,i){function l(t,n){return a(e(),{position:"absolute",width:i.scale*(i.length+i.width)+"px",height:i.scale*i.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/i.lines*p+i.rotate)+"deg) translate("+i.scale*i.radius+"px,0)",borderRadius:(i.corners*i.scale*i.width>>1)+"px"})}for(var s,p=0,c=(i.lines-1)*(1-i.direction)/2;p<i.lines;p++)s=a(e(),{position:"absolute",top:1+~(i.scale*i.width/2)+"px",transform:i.hwaccel?"translate3d(0,0,0)":"",opacity:i.opacity,animation:u&&n(i.opacity,i.trail,c+p*i.direction,i.lines)+" "+1/i.speed+"s linear infinite"}),i.shadow&&t(s,a(l("#000","0 0 4px #000"),{top:"2px"})),t(r,t(s,l(o(i.color,p),"0 0 1px rgba(0,0,0,.1)")));return r},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}}),"undefined"!=typeof document){p=function(){var n=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}();var m=a(e("group"),{behavior:"url(#default#VML)"});!r(m,"transform")&&m.adj?s():u=r(m,"animation")}return l})},{}],5:[function(e,t){function n(){}function r(e){var t={}.toString.call(e);switch(t){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function a(){if(g.XMLHttpRequest&&("file:"!=g.location.protocol||!g.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}return!1}function i(e){return e===Object(e)}function o(e){if(!i(e))return e;var t=[];for(var n in e)null!=e[n]&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function l(e){for(var t,n,r={},a=e.split("&"),i=0,o=a.length;o>i;++i)n=a[i],t=n.split("="),r[decodeURIComponent(t[0])]=decodeURIComponent(t[1]);return r}function s(e){var t,n,r,a,i=e.split(/\r?\n/),o={};i.pop();for(var l=0,s=i.length;s>l;++l)n=i[l],t=n.indexOf(":"),r=n.slice(0,t).toLowerCase(),a=v(n.slice(t+1)),o[r]=a;return o}function u(e){return e.split(/ *; */).shift()}function p(e){return h(e.split(/ *; */),function(e,t){var n=t.split(/ *= */),r=n.shift(),a=n.shift();return r&&a&&(e[r]=a),e},{})}function c(e,t){t=t||{},this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method?this.xhr.responseText:null,this.setStatusProperties(this.xhr.status),this.header=this.headers=s(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text):null}function d(e,t){var n=this;m.call(this),this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e=null,t=null;try{t=new c(n)}catch(r){e=new Error("Parser is unable to parse the response"),e.parse=!0,e.original=r}n.callback(e,t)})}function f(e,t){return"function"==typeof t?new d("GET",e).end(t):1==arguments.length?new d("GET",e):new d(e,t)}var m=e("emitter"),h=e("reduce"),g="undefined"==typeof window?this:window,v="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};f.serializeObject=o,f.parseString=l,f.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},f.serialize={"application/x-www-form-urlencoded":o,"application/json":JSON.stringify},f.parse={"application/x-www-form-urlencoded":l,"application/json":JSON.parse},c.prototype.get=function(e){return this.header[e.toLowerCase()]},c.prototype.setHeaderProperties=function(){var e=this.header["content-type"]||"";this.type=u(e);var t=p(e);for(var n in t)this[n]=t[n]},c.prototype.parseBody=function(e){var t=f.parse[this.type];return t&&e&&e.length?t(e):null},c.prototype.setStatusProperties=function(e){var t=e/100|0;this.status=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.clientError=4==t,this.serverError=5==t,this.error=4==t||5==t?this.toError():!1,this.accepted=202==e,this.noContent=204==e||1223==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.notFound=404==e,this.forbidden=403==e},c.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,r="cannot "+t+" "+n+" ("+this.status+")",a=new Error(r);return a.status=this.status,a.method=t,a.url=n,a},f.Response=c,m(d.prototype),d.prototype.use=function(e){return e(this),this},d.prototype.timeout=function(e){return this._timeout=e,this},d.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},d.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},d.prototype.set=function(e,t){if(i(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},d.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},d.prototype.getHeader=function(e){return this._header[e.toLowerCase()]},d.prototype.type=function(e){return this.set("Content-Type",f.types[e]||e),this},d.prototype.accept=function(e){return this.set("Accept",f.types[e]||e),this},d.prototype.auth=function(e,t){var n=btoa(e+":"+t);return this.set("Authorization","Basic "+n),this},d.prototype.query=function(e){return"string"!=typeof e&&(e=o(e)),e&&this._query.push(e),this},d.prototype.field=function(e,t){return this._formData||(this._formData=new FormData),this._formData.append(e,t),this},d.prototype.attach=function(e,t,n){return this._formData||(this._formData=new FormData),this._formData.append(e,t,n),this},d.prototype.send=function(e){var t=i(e),n=this.getHeader("Content-Type");if(t&&i(this._data))for(var r in e)this._data[r]=e[r];else"string"==typeof e?(n||this.type("form"),n=this.getHeader("Content-Type"),this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return t?(n||this.type("json"),this):this},d.prototype.callback=function(e,t){var n=this._callback;return this.clearTimeout(),2==n.length?n(e,t):e?this.emit("error",e):void n(t)},d.prototype.crossDomainError=function(){var e=new Error("Origin is not allowed by Access-Control-Allow-Origin");e.crossDomain=!0,this.callback(e)},d.prototype.timeoutError=function(){var e=this._timeout,t=new Error("timeout of "+e+"ms exceeded");t.timeout=e,this.callback(t)},d.prototype.withCredentials=function(){return this._withCredentials=!0,this},d.prototype.end=function(e){var t=this,i=this.xhr=a(),o=this._query.join("&"),l=this._timeout,s=this._formData||this._data;if(this._callback=e||n,i.onreadystatechange=function(){return 4==i.readyState?0==i.status?t.aborted?t.timeoutError():t.crossDomainError():void t.emit("end"):void 0},i.upload&&(i.upload.onprogress=function(e){e.percent=e.loaded/e.total*100,t.emit("progress",e)}),l&&!this._timer&&(this._timer=setTimeout(function(){t.abort()},l)),o&&(o=f.serializeObject(o),this.url+=~this.url.indexOf("?")?"&"+o:"?"+o),i.open(this.method,this.url,!0),this._withCredentials&&(i.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof s&&!r(s)){var u=f.serialize[this.getHeader("Content-Type")];u&&(s=u(s))}for(var p in this.header)null!=this.header[p]&&i.setRequestHeader(p,this.header[p]);return this.emit("request",this),i.send(s),this},f.Request=d,f.get=function(e,t,n){var r=f("GET",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},f.head=function(e,t,n){var r=f("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},f.del=function(e,t){var n=f("DELETE",e);return t&&n.end(t),n},f.patch=function(e,t,n){var r=f("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},f.post=function(e,t,n){var r=f("POST",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},f.put=function(e,t,n){var r=f("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},t.exports=f},{emitter:6,reduce:7}],6:[function(e,t){function n(e){return e?r(e):void 0}function r(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){r.off(e,n),t.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var r,a=0;a<n.length;a++)if(r=n[a],r===t||r.fn===t){n.splice(a,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var r=0,a=n.length;a>r;++r)n[r].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],7:[function(e,t){t.exports=function(e,t,n){for(var r=0,a=e.length,i=3==arguments.length?n:e[r++];a>r;)i=t.call(null,i,e[r],++r,e);return i}},{}],8:[function(e,t){var n=e("./index"),r=e("./utils/each");t.exports=function(){var e,t,a=window.Keen||null,i=window._Keen||null;a&&i&&(e=i.clients||{},t=i.ready||[],r(e,function(e){r(n.prototype,function(e,t){a.prototype[t]=e}),r(["Query","Request","Dataset","Dataviz"],function(e){a[e]=n[e]?n[e]:function(){}}),e._config&&e.configure.call(e,e._config),e._setGlobalProperties&&r(e._setGlobalProperties,function(t){e.setGlobalProperties.apply(e,t)}),e._addEvent&&r(e._addEvent,function(t){e.addEvent.apply(e,t)});e._on||[];e._on&&(r(e._on,function(t){e.on.apply(e,t)}),e.trigger("ready")),r(["_config","_setGlobalProperties","_addEvent","_on"],function(t){if(e[t]){e[t]=void 0;try{delete e[t]}catch(n){}}})}),r(t,function(e){n.once("ready",e)})),window._Keen=void 0;try{delete window._Keen}catch(o){}}},{"./index":16,"./utils/each":29}],9:[function(e,t){t.exports=function(){return"undefined"==typeof window?"server":"browser"}},{}],10:[function(e,t){var n=e("../utils/each"),r=e("../utils/json-shim");t.exports=function(e){var t=[];return n(e,function(e,n){"string"!=typeof e&&(e=r.stringify(e)),t.push(n+"="+encodeURIComponent(e))}),"?"+t.join("&")}},{"../utils/each":29,"../utils/json-shim":32}],11:[function(e,t){t.exports=function(){return-60*(new Date).getTimezoneOffset()}},{}],12:[function(e,t){t.exports=function(){return"undefined"!=typeof window&&(-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0)?2e3:16e3}},{}],13:[function(e,t){t.exports=function(){var e="undefined"==typeof window?this:window;if(e.XMLHttpRequest&&("file:"!=e.location.protocol||!e.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1}},{}],14:[function(e,t){t.exports=function(e,t,n){var r=n||function(){};if(t&&!t.ok){var a=t.body&&t.body.error_code;e=new Error(a?t.body.message:"Unknown error occurred"),e.code=a?t.body.error_code:"UnknownError"}e?r(e,null):r(null,t.body)}},{}],15:[function(e,t){function n(){var e=p();return e&&(e.open("GET",this.url,!1),e.send(null)),this}function r(){function e(){window[l]=void 0;try{delete window[l]}catch(e){}a.removeChild(r)}var t=this,n=(new Date).getTime(),r=document.createElement("script"),a=document.getElementsByTagName("head")[0],l="keenJSONPCallback",s=!1;for(l+=n;l in window;)l+="a";window[l]=function(n){s!==!0&&(s=!0,i.call(t,n),e())},r.src=t.url+"&jsonp="+l,a.appendChild(r),r.onreadystatechange=function(){s===!1&&"loaded"===t.readyState&&(s=!0,o.call(t),e())},r.onerror=function(){s===!1&&(s=!0,o.call(t),e())}}function a(){var e=this,t=document.createElement("img"),n=!1;t.onload=function(){if(n=!0,"naturalHeight"in this){if(this.naturalHeight+this.naturalWidth===0)return void this.onerror()}else if(this.width+this.height===0)return void this.onerror();i.call(e)},t.onerror=function(){n=!0,o.call(e)},t.src=e.url+"&c=clv1"}function i(e){var t=this.requestType.options.success,n="";if(s.call(this,t),e)try{n=JSON.stringify(e)}catch(r){}else n=t.responseText;this.xhr.responseText=n,this.xhr.status=t.status,this.emit("end")}function o(){var e=this.requestType.options.error;s.call(this,e),this.xhr.responseText=e.responseText,this.xhr.status=e.status,this.emit("end")}function l(){this.aborted=!0,this.clearTimeout(),this.emit("abort")}function s(e){return this.xhr={getAllResponseHeaders:function(){return""},getResponseHeader:function(){return"application/json"},responseText:e.responseText,status:e.status},this}var u=e("superagent"),p=(e("../utils/each"),e("./get-xhr-object"));t.exports=function(e,t){return function(i){var o=i.constructor.prototype.end;if("undefined"!=typeof window)return i.requestType=i.requestType||{},i.requestType.type=e,i.requestType.options=i.requestType.options||{async:!0,success:{responseText:'{ "created": true }',status:201},error:{responseText:'{ "error_code": "ERROR", "message": "Request failed" }',status:404}},t&&("boolean"==typeof t.async&&(i.requestType.options.async=t.async),t.success&&extend(i.requestType.options.success,t.success),t.error&&extend(i.requestType.options.error,t.error)),i.end=function(e){var t,i,s=this,p=this.requestType?this.requestType.type:"xhr";return"GET"===s.method&&"xhr"!==p||!s.requestType.options.async?(t=s._query.join("&"),i=s._timeout,s._callback=e||noop,i&&!s._timer&&(s._timer=setTimeout(function(){l.call(s)},i)),t&&(t=u.serializeObject(t),s.url+=~s.url.indexOf("?")?"&"+t:"?"+t),s.emit("request",s),s.requestType.options.async?"jsonp"===p?r.call(s):"beacon"===p&&a.call(s):n.call(s),s):void o.call(s,e)},i}}},{"../utils/each":29,"./get-xhr-object":13,superagent:5}],16:[function(e,t){function n(e){this.configure(e||{}),n.trigger("client",this)}var r="undefined"!=typeof window?window:this,a=r.Keen,i=e("./utils/emitter-shim");n.debug=!1,n.enabled=!0,n.loaded=!0,n.version="3.4.1-rc3",i(n),i(n.prototype),n.prototype.configure=function(e){var t=e||{};t.host&&t.host.replace(/.*?:\/\//g,""),t.protocol&&"auto"===t.protocol&&(t.protocol=location.protocol.replace(/:/g,"")),this.config={projectId:t.projectId,writeKey:t.writeKey,readKey:t.readKey,masterKey:t.masterKey,requestType:t.requestType||"jsonp",host:t.host||"api.keen.io/3.0",protocol:t.protocol||"https",globalProperties:null},n.debug&&this.on("error",n.log),this.trigger("ready")},n.prototype.projectId=function(e){return arguments.length?(this.config.projectId=e?String(e):null,this):this.config.projectId},n.prototype.masterKey=function(e){return arguments.length?(this.config.masterKey=e?String(e):null,this):this.config.masterKey},n.prototype.readKey=function(e){return arguments.length?(this.config.readKey=e?String(e):null,this):this.config.readKey},n.prototype.writeKey=function(e){return arguments.length?(this.config.writeKey=e?String(e):null,this):this.config.writeKey},n.prototype.url=function(e){return this.projectId()?this.config.protocol+"://"+this.config.host+"/projects/"+this.projectId()+e:void this.trigger("error","Client is missing projectId property")},n.log=function(e){n.debug&&"object"==typeof console&&console.log("[Keen IO]",e)},n.noConflict=function(){return r.Keen=a,n},n.ready=function(e){n.loaded?e():n.once("ready",e)},t.exports=n},{"./utils/emitter-shim":30}],17:[function(e,t){function n(e,t){return e+=u({api_key:this.writeKey(),data:o.encode(r.stringify(t)),modified:(new Date).getTime()}),e.length<p()?e:!1}var r=e("../utils/json-shim"),a=e("superagent"),i=e("../index"),o=e("../utils/base64"),l=e("../utils/each"),s=e("../helpers/get-context"),u=e("../helpers/get-query-string"),p=e("../helpers/get-url-max-length"),c=e("../helpers/get-xhr-object"),d=e("../helpers/superagent-request-types"),f=e("../helpers/superagent-handle-response");t.exports=function(e,t,r,o){function u(e,t){f(e,t,w),w=r=null}function p(e){var t="Event not recorded: "+e;g.trigger("error",t),w&&(w.call(g,t,null),w=r=null)}var m,h,g=this,v=this.url("/events/"+encodeURIComponent(e)),y=this.config.requestType,b={},w=r;return m="boolean"==typeof o?o:!0,i.enabled?g.projectId()?g.writeKey()?e&&"string"==typeof e?(g.config.globalProperties&&(b=g.config.globalProperties(e)),l(t,function(e,t){b[t]=e}),c()||"xhr"!==y||(y="jsonp"),"xhr"===y&&m||(h=n.call(g,v,b)),void(h&&"browser"===s()?a.get(h).use(d(y,{async:m})).end(u):c()||"server"===s()?a.post(v).set("Content-Type","application/json").set("Authorization",g.writeKey()).send(b).end(u):g.trigger("error","Request not sent: URL length exceeds current browser limit, and XHR (POST) is not supported."))):void p.call(g,"Collection name must be a string"):void p.call(g,"Missing writeKey property"):void p.call(g,"Missing projectId property"):void p.call(g,"Keen.enabled = false")}},{"../helpers/get-context":9,"../helpers/get-query-string":10,"../helpers/get-url-max-length":12,"../helpers/get-xhr-object":13,"../helpers/superagent-handle-response":14,"../helpers/superagent-request-types":15,"../index":16,"../utils/base64":27,"../utils/each":29,"../utils/json-shim":32,superagent:5}],18:[function(e,t){var n=e("../index"),r=e("superagent"),a=e("../utils/each"),i=e("../helpers/get-context"),o=e("../helpers/get-xhr-object"),l=(e("../helpers/superagent-request-types"),e("../helpers/superagent-handle-response"));t.exports=function(e,t){function s(e){var n="Events not recorded: "+e;u.trigger("error",n),d&&(d.call(u,n,null),d=t=null)}var u=this,p=this.url("/events"),c={},d=t;return n.enabled?u.projectId()?u.writeKey()?arguments.length>2?void s.call(u,"Incorrect arguments provided to #addEvents method"):"object"!=typeof e||e instanceof Array?void s.call(u,"Request payload must be an object"):(u.config.globalProperties?a(e,function(e,t){a(e,function(e){var n=u.config.globalProperties(t);a(e,function(e,t){n[t]=e}),c[t].push(n)})}):c=e,void(o()||"server"===i()?r.post(p).set("Content-Type","application/json").set("Authorization",u.writeKey()).send(c).end(function(e,n){l(e,n,d),d=t=null}):u.trigger("error","Events not recorded: XHR support is required for batch upload"))):void s.call(u,"Missing writeKey property"):void s.call(u,"Missing projectId property"):void s.call(u,"Keen.enabled = false")}},{"../helpers/get-context":9,"../helpers/get-xhr-object":13,"../helpers/superagent-handle-response":14,"../helpers/superagent-request-types":15,"../index":16,"../utils/each":29,superagent:5}],19:[function(e,t){var n=e("superagent"),r=e("../helpers/get-query-string"),a=e("../helpers/superagent-handle-response"),i=e("../helpers/superagent-request-types");t.exports=function(e,t,o,l){var s=this.config.requestType,u=t||{};"beacon"===s&&(s="jsonp"),u.api_key=u.api_key||o,n.get(e+r(u)).use(i(s)).end(function(e,t){a(e,t,l),l=null})}},{"../helpers/get-query-string":10,"../helpers/superagent-handle-response":14,"../helpers/superagent-request-types":15,superagent:5}],20:[function(e,t){var n=e("superagent"),r=e("../helpers/superagent-handle-response");t.exports=function(e,t,a,i){n.post(e).set("Content-Type","application/json").set("Authorization",a).send(t||{}).end(function(e,t){r(e,t,i),i=null})}},{"../helpers/superagent-handle-response":14,superagent:5}],21:[function(e,t){var n=e("../request");t.exports=function(e,t){function r(e){var n="Query not sent: "+e;this.trigger("error",n),o&&(o.call(this,n,null),o=t=null)}var a,i=[],o=t;return this.config.projectId&&this.config.projectId.length||r.call(this,"Missing projectId property"),this.config.readKey&&this.config.readKey.length||r.call(this,"Missing readKey property"),e instanceof Array?i=e:i.push(e),a=new n(this,i,o).refresh(),o=t=null,a}},{"../request":25}],22:[function(e,t){t.exports=function(e){e&&"function"==typeof e?this.config.globalProperties=e:this.trigger("error","Invalid value for global properties: "+e)}},{}],23:[function(e,t){var n=e("./addEvent");t.exports=function(e,t,r,a,i){var o,l,s=e,u=s.currentTarget?s.currentTarget:s.srcElement||s.target,p=a||500,c=!1,d="";return void 0!==u.getAttribute?d=u.getAttribute("target"):u.target&&(d=u.target),"_blank"!=d&&"blank"!=d||s.metaKey||(l=window.open("about:blank"),l.document.location=u.href),"A"===u.nodeName?o=function(){c||s.metaKey||"_blank"===d||"blank"===d||(c=!0,window.location=u.href)}:"FORM"===u.nodeName?o=function(){c||(c=!0,u.submit())}:this.trigger("error","#trackExternalLink method not attached to an <a> or <form> DOM element"),i&&(o=function(){c||(c=!0,i())}),n.call(this,t,r,o),setTimeout(o,p),s.metaKey?void 0:!1}},{"./addEvent":17}],24:[function(e,t){function n(){this.configure.apply(this,arguments)}var r=e("./utils/each"),a=(e("./utils/extend"),e("./helpers/get-timezone-offset")),i=(e("./helpers/get-query-string"),e("./utils/emitter-shim"));i(n.prototype),n.prototype.configure=function(e,t){return this.analysis=e,this.params=this.params||{},this.set(t),void 0===this.params.timezone&&(this.params.timezone=a()),this},n.prototype.set=function(e){var t=this;return r(e,function(e,n){var a=n,i=e;n.match(new RegExp("[A-Z]"))&&(a=n.replace(/([A-Z])/g,function(e){return"_"+e.toLowerCase()})),t.params[a]=i,i instanceof Array&&r(i,function(e,n){e instanceof Array==0&&"object"==typeof e&&r(e,function(e,r){if(r.match(new RegExp("[A-Z]"))){var i=r.replace(/([A-Z])/g,function(e){return"_"+e.toLowerCase()});delete t.params[a][n][r],t.params[a][n][i]=e}})})}),t},n.prototype.get=function(e){var t=e;return t.match(new RegExp("[A-Z]"))&&(t=t.replace(/([A-Z])/g,function(e){return"_"+e.toLowerCase()})),this.params?this.params[t]||null:void 0
},n.prototype.addFilter=function(e,t,n){return this.params.filters=this.params.filters||[],this.params.filters.push({property_name:e,operator:t,property_value:n}),this},t.exports=n},{"./helpers/get-query-string":10,"./helpers/get-timezone-offset":11,"./utils/each":29,"./utils/emitter-shim":30,"./utils/extend":31}],25:[function(e,t){function n(e,t,n){var r=n;this.config={timeout:3e5},this.configure(e,t,r),r=n=null}var r=e("./utils/each"),a=e("./utils/extend"),i=e("./utils/sendQuery"),o=e("./utils/sendSavedQuery"),l=e("./utils/emitter-shim"),s=(e("./"),e("./query"));l(n.prototype),n.prototype.configure=function(e,t,n){var r=n;return a(this,{client:e,queries:t,data:{},callback:r}),r=n=null,this},n.prototype.timeout=function(e){return arguments.length?(this.config.timeout=isNaN(parseInt(e))?null:parseInt(e),this):this.config.timeout},n.prototype.refresh=function(){var e=this,t=0,n=[],a=!1,l=function(r,i,o){if(!a){if(r)return e.trigger("error",r),e.callback&&e.callback(r,null),void(a=!0);n[o]=i,t++,t!=e.queries.length||a||(e.data=1==e.queries.length?n[0]:n,e.trigger("complete",null,e.data),e.callback&&e.callback(null,e.data))}};return r(e.queries,function(t,n){var r=function(e,t){l(e,t,n)},a="/queries";if("string"==typeof t)a+="/saved/"+t+"/result",o.call(e,a,{},r);else if(t instanceof s)a+="/"+t.analysis,"saved"===t.analysis?(a+="/"+t.params.query_name+"/result",o.call(e,a,{},r)):i.call(e,a,t.params,r);else{var u={statusText:"Bad Request",responseText:{message:"Error: Query "+(+n+1)+" of "+e.queries.length+" for project "+e.client.projectId()+" is not a valid request"}};e.trigger("error",u.responseText.message),e.callback&&e.callback(u.responseText.message,null)}}),this},t.exports=n},{"./":16,"./query":24,"./utils/each":29,"./utils/emitter-shim":30,"./utils/extend":31,"./utils/sendQuery":34,"./utils/sendSavedQuery":35}],26:[function(e,t){function n(){var e=this;return this.all=function(t){function n(e,n){a(e,n,t),t=null}var i=e.url("/queries/saved");r.get(i).set("Content-Type","application/json").set("Authorization",e.masterKey()).end(n)},this.get=function(t,n){function i(e,t){a(e,t,n),n=null}var o=e.url("/queries/saved/"+t);r.get(o).set("Content-Type","application/json").set("Authorization",e.masterKey()).end(i)},this.update=function(t,n,i){function o(e,t){a(e,t,i),i=null}var l=e.url("/queries/saved/"+t);r.put(l).set("Content-Type","application/json").set("Authorization",e.masterKey()).send(n||{}).end(o)},this.create=this.update,this.destroy=function(t,n){function i(e,t){a(e,t,n),n=null}var o=e.url("/queries/saved/"+t);r.del(o).set("Content-Type","application/json").set("Authorization",e.masterKey()).end(i)},this}var r=e("superagent"),a=e("./helpers/superagent-handle-response");t.exports=n},{"./helpers/superagent-handle-response":14,superagent:5}],27:[function(e,t){t.exports={map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,r,a,i,o,l,s="",u=0,p=this.map;for(e=this.utf8.encode(e);u<e.length;)t=e.charCodeAt(u++),n=e.charCodeAt(u++),r=e.charCodeAt(u++),a=t>>2,i=(3&t)<<4|n>>4,o=isNaN(n)?64:(15&n)<<2|r>>6,l=isNaN(n)||isNaN(r)?64:63&r,s=s+p.charAt(a)+p.charAt(i)+p.charAt(o)+p.charAt(l);return s},decode:function(e){var t,n,r,a,i,o,l,s="",u=0,p=this.map,c=String.fromCharCode;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)t=p.indexOf(e.charAt(u++)),n=p.indexOf(e.charAt(u++)),r=p.indexOf(e.charAt(u++)),a=p.indexOf(e.charAt(u++)),i=t<<2|n>>4,o=(15&n)<<4|r>>2,l=(3&r)<<6|a,s=s+(c(i)+(64!=r?c(o):""))+(64!=a?c(l):"");return this.utf8.decode(s)},utf8:{encode:function(e){for(var t,n="",r=0,a=String.fromCharCode;r<e.length;)t=e.charCodeAt(r++),n+=128>t?a(t):t>127&&2048>t?a(t>>6|192)+a(63&t|128):a(t>>12|224)+a(t>>6&63|128)+a(63&t|128);return n},decode:function(e){for(var t,n,r="",a=0,i=String.fromCharCode;a<e.length;)n=e.charCodeAt(a),r+=128>n?[i(n),a++][0]:n>191&&224>n?[i((31&n)<<6|63&(t=e.charCodeAt(a+1))),a+=2][0]:[i((15&n)<<12|(63&(t=e.charCodeAt(a+1)))<<6|63&(c3=e.charCodeAt(a+2))),a+=3][0];return r}}}},{}],28:[function(e,t){var n=e("./json-shim");t.exports=function(e){return n.parse(n.stringify(e))}},{"./json-shim":32}],29:[function(e,t){t.exports=function(e,t,n){var r;if(!e)return 0;if(n=n?n:e,e instanceof Array){for(r=0;r<e.length;r++)if(t.call(n,e[r],r,e)===!1)return 0}else for(r in e)if(e.hasOwnProperty(r)&&t.call(n,e[r],r,e)===!1)return 0;return 1}},{}],30:[function(e,t){var n=e("component-emitter");n.prototype.trigger=n.prototype.emit,t.exports=n},{"component-emitter":1}],31:[function(e,t){t.exports=function(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])e[n]=arguments[t][n];return e}},{}],32:[function(e,t){t.exports="undefined"!=typeof window&&window.JSON?window.JSON:e("json3")},{json3:3}],33:[function(e,t){function n(e){for(var t,n={},r=/\+/g,a=/([^&=]+)=?([^&]*)/g,i=function(e){return decodeURIComponent(e.replace(r," "))},o=e.split("?")[1];t=a.exec(o);)n[i(t[1])]=i(t[2]);return n}t.exports=n},{}],34:[function(e,t){var n=e("superagent"),r=e("../helpers/get-context"),a=e("../helpers/get-xhr-object"),i=e("../helpers/superagent-handle-response");t.exports=function(e,t,o){function l(e,t){i(e,t,o),o=null}var s=this.client.url(e);return this.client.projectId()?this.client.readKey()?void(("server"===r()||a())&&n.post(s).set("Content-Type","application/json").set("Authorization",this.client.readKey()).timeout(this.timeout()).send(t||{}).end(l)):void this.client.trigger("error","Query not sent: Missing readKey property"):void this.client.trigger("error","Query not sent: Missing projectId property")}},{"../helpers/get-context":9,"../helpers/get-xhr-object":13,"../helpers/superagent-handle-response":14,superagent:5}],35:[function(e,t){var n=e("superagent"),r=e("../helpers/superagent-handle-response");t.exports=function(e,t,a){var i;this.client.readKey()?i=this.client.readKey():this.client.masterKey()&&(i=this.client.masterKey()),n.get(this.client.url(e)).set("Content-Type","application/json").set("Authorization",i).timeout(this.timeout()).send().end(function(e,t){r(e,t,a),a=null})}},{"../helpers/superagent-handle-response":14,superagent:5}],36:[function(e,t){function n(){this.data={input:{},output:[["Index"]]},this.meta={schema:{},method:void 0},this.parser=void 0,arguments.length>0&&this.parse.apply(this,arguments)}function r(e){var t,r,a=this,i=e||{},o=[],l=[];""!==i.records&&i.records?(r=i.records.split(n.defaults.delimeter),t=c.apply(a,[a.input()].concat(r))[0]):t=[a.input()],u(i.select,function(e){o.push(e.path.split(n.defaults.delimeter))}),0==o.length&&u(t,function(e){var t=p(e);for(var n in t)t.hasOwnProperty(n)&&-1==l.indexOf(n)&&(l.push(n),o.push([n]))});var s=[[]];return u(o,function(e){1==o.length?s[0].push("label","value"):s[0].push(e.join("."))}),u(t,function(e,t){var n=p(e);1==o.length?s.push([o.join("."),n[o.join(".")]]):(s.push([]),u(o,function(e){var r=e.join(".");s[t+1].push(n[r])}))}),a.output(s),a.format(i.select),a}function a(e){var t=this,r=[],a=e.unpack.value?e.unpack.value.path.split(n.defaults.delimeter):!1,i=e.unpack.label?e.unpack.label.path.split(n.defaults.delimeter):!1,o=e.unpack.index?e.unpack.index.path.split(n.defaults.delimeter):!1,l=""!==a[a.length-1]?a[a.length-1]:"Value",s=""!==i[i.length-1]?i[i.length-1]:"Label",p=""!==o[o.length-1]?o[o.length-1]:"Index",d=function(){var r;return r=""==e.records?[t.input()]:c.apply(t,[t.input()].concat(e.records.split(n.defaults.delimeter))),r[0]}();return d instanceof Array==0&&(d=[d]),u(d,function(e){var n=i?c.apply(t,[e].concat(i)):[];n&&(r=n)}),u(d,function(e,n){var i=a?c.apply(t,[e].concat(a)):!1,f=o?c.apply(t,[e].concat(o)):!1;f?u(f,function(){t.data.output.push([])}):t.data.output.push([]),f&&(0==n&&(t.data.output[0].push(p),r.length>0?u(r,function(e){t.data.output[0].push(e)}):t.data.output[0].push(l)),d.length<t.data.output.length-1?0==n&&u(t.data.output,function(e,n){n>0&&t.data.output[n].push(f[n-1])}):t.data.output[n+1].push(f[0])),!f&&r.length>0&&(0==n&&(t.data.output[0].push(s),t.data.output[0].push(l)),t.data.output[n+1].push(r[0])),f||0!=r.length||t.data.output[0].push(""),i?d.length<t.data.output.length-1?0==n&&u(t.data.output,function(e,n){n>0&&t.data.output[n].push(i[n-1])}):u(i,function(e){t.data.output[n+1].push(e)}):u(t.data.output[0],function(e,r){var a=f?0:-1;r>a&&t.data.output[n+1].push(null)})}),t.format(e.unpack),this}function i(e){return u(e.unpack,function(t,n){t&&o(t,"string")&&(e.unpack[n]={path:e.unpack[n]})}),e}function o(e,t){return e=typeof e,t?e==t:"undefined"!=e}function l(e,t){return u(t,function(t,n){o(e[n],"object")&&o(t,"object")?e[n]=l(e[n],t):null!==t&&(e[n]=t)}),e}var s=e("../core/utils/clone"),u=e("../core/utils/each"),p=e("./utils/flatten"),c=e("./utils/parse"),d=e("../core/utils/emitter-shim");n.defaults={delimeter:" -> "},d(n),d(n.prototype),n.parser=e("./utils/parsers")(n),n.prototype.input=function(e){return arguments.length?(this.data.input=e?s(e):null,this):this.data.input},n.prototype.output=function(e){return arguments.length?(this.data.output=e instanceof Array?e:null,this):this.data.output},n.prototype.method=function(e){return arguments.length?(this.meta.method=e?String(e):null,this):this.meta.method},n.prototype.schema=function(e){return arguments.length?(this.meta.schema=e?e:null,this):this.meta.schema},n.prototype.parse=function(e,t){var n;return e&&this.input(e),t&&this.schema(t),this.output([[]]),this.meta.schema.select?(this.method("select"),n=l({records:"",select:!0},this.schema()),r.call(this,i(n))):this.meta.schema.unpack&&(this.method("unpack"),n=l({records:"",unpack:{index:!1,value:!1,label:!1}},this.schema()),a.call(this,i(n))),this},t.exports=n},{"../core/utils/clone":28,"../core/utils/each":29,"../core/utils/emitter-shim":30,"./utils/flatten":49,"./utils/parse":50,"./utils/parsers":51}],37:[function(e,t){var n=e("../core/utils/extend"),r=e("./dataset");n(r.prototype,e("./lib/append")),n(r.prototype,e("./lib/delete")),n(r.prototype,e("./lib/filter")),n(r.prototype,e("./lib/insert")),n(r.prototype,e("./lib/select")),n(r.prototype,e("./lib/set")),n(r.prototype,e("./lib/sort")),n(r.prototype,e("./lib/update")),n(r.prototype,e("./lib/analyses")),n(r.prototype,{format:e("./lib/format")}),t.exports=r},{"../core/utils/extend":31,"./dataset":36,"./lib/analyses":38,"./lib/append":39,"./lib/delete":40,"./lib/filter":41,"./lib/format":42,"./lib/insert":43,"./lib/select":44,"./lib/set":45,"./lib/sort":46,"./lib/update":47}],38:[function(e,t){var n=e("../../core/utils/each"),r=["Average","Maximum","Minimum","Sum"],a={};a.average=function(e,t,r){var a=e.slice(t||0,r?r+1:e.length),i=0;return n(a,function(e){"number"!=typeof e||isNaN(parseFloat(e))||(i+=parseFloat(e))}),i/a.length},a.maximum=function(e,t,r){var a=e.slice(t||0,r?r+1:e.length),i=[];return n(a,function(e){"number"!=typeof e||isNaN(parseFloat(e))||i.push(parseFloat(e))}),Math.max.apply(Math,i)},a.minimum=function(e,t,r){var a=e.slice(t||0,r?r+1:e.length),i=[];return n(a,function(e){"number"!=typeof e||isNaN(parseFloat(e))||i.push(parseFloat(e))}),Math.min.apply(Math,i)},a.sum=function(e,t,r){var a=e.slice(t||0,r?r+1:e.length),i=0;return n(a,function(e){"number"!=typeof e||isNaN(parseFloat(e))||(i+=parseFloat(e))}),i},n(r,function(e){a["getColumn"+e]=a["getRow"+e]=function(t){return this[e.toLowerCase()](t,1)}}),a.getColumnLabel=a.getRowIndex=function(e){return e[0]},t.exports=a},{"../../core/utils/each":29}],39:[function(e,t){function n(e,t){var n=this,o=(Array.prototype.slice.call(arguments,2),void 0!==e?e:null);return"function"==typeof t?(n.data.output[0].push(o),a(n.output(),function(e,r){var a;r>0&&(a=t.call(n,e,r),"undefined"==typeof a&&(a=null),n.data.output[r].push(a))})):(!t||t instanceof Array)&&(t=t||[],t.length<=n.output().length-1?t=t.concat(i(n.output().length-1-t.length)):a(t,function(){n.data.output.length-1<t.length&&r.call(n,String(n.data.output.length))}),n.data.output[0].push(o),a(t,function(e,t){n.data.output[t+1][n.data.output[0].length-1]=e})),n}function r(e,t){var r=this,o=(Array.prototype.slice.call(arguments,2),void 0!==e?e:null),l=[];return l.push(o),"function"==typeof t?(a(r.data.output[0],function(e,n){var a,i;n>0&&(a=r.selectColumn(n),i=t.call(r,a,n),"undefined"==typeof i&&(i=null),l.push(i))}),r.data.output.push(l)):(!t||t instanceof Array)&&(t=t||[],t.length<=r.data.output[0].length-1?t=t.concat(i(r.data.output[0].length-1-t.length)):a(t,function(){r.data.output[0].length-1<t.length&&n.call(r,String(r.data.output[0].length))}),r.data.output.push(l.concat(t))),r}var a=e("../../core/utils/each"),i=e("../utils/create-null-list");t.exports={appendColumn:n,appendRow:r}},{"../../core/utils/each":29,"../utils/create-null-list":48}],40:[function(e,t){function n(e){var t=this,n="number"==typeof e?e:this.data.output[0].indexOf(e);return n>-1&&a(t.data.output,function(e,r){t.data.output[r].splice(n,1)}),t}function r(e){var t="number"==typeof e?e:this.selectColumn(0).indexOf(e);return t>-1&&this.data.output.splice(t,1),this}var a=e("../../core/utils/each");t.exports={deleteColumn:n,deleteRow:r}},{"../../core/utils/each":29}],41:[function(e,t){function n(e){var t=this,n=new Array;return a(t.data.output,function(){n.push([])}),a(t.data.output[0],function(r,i){var o=t.selectColumn(i);(0==i||e.call(t,o,i))&&a(o,function(e,t){n[t].push(e)})}),t.output(n),t}function r(e){var t=this,n=[];return a(t.output(),function(r,a){(0==a||e.call(t,r,a))&&n.push(r)}),t.output(n),t}var a=e("../../core/utils/each");t.exports={filterColumns:n,filterRows:r}},{"../../core/utils/each":29}],42:[function(e,t){function n(e,t){var n=e,a=t||{};return a.replace&&r(a.replace,function(e,t){(n==t||String(n)==String(t)||parseFloat(n)==parseFloat(t))&&(n=e)}),a.type&&"date"==a.type&&(n=a.format&&moment&&moment(e).isValid()?moment(n).format(a.format):new Date(n)),a.type&&"string"==a.type&&(n=String(n)),a.type&&"number"==a.type&&!isNaN(parseFloat(n))&&(n=parseFloat(n)),n}var r=e("../../core/utils/each");t.exports=function(e){var t=this;return"select"===this.method()&&r(t.output(),function(a,i){0==i?r(a,function(n,r){e[r]&&e[r].label&&(t.data.output[i][r]=e[r].label)}):r(a,function(r,a){t.data.output[i][a]=n(t.data.output[i][a],e[a])})}),"unpack"===this.method()&&(e.index&&r(t.output(),function(r,a){0==a?e.index.label&&(t.data.output[a][0]=e.index.label):t.data.output[a][0]=n(t.data.output[a][0],e.index)}),e.label&&(e.index?r(t.output(),function(a,i){r(a,function(r,a){0==i&&a>0&&(t.data.output[i][a]=n(t.data.output[i][a],e.label))})}):r(t.output(),function(r,a){a>0&&(t.data.output[a][0]=n(t.data.output[a][0],e.label))})),e.value&&(e.index?r(t.output(),function(a,i){r(a,function(r,a){i>0&&a>0&&(t.data.output[i][a]=n(t.data.output[i][a],e.value))})}):r(t.output(),function(a,i){r(a,function(r,a){i>0&&(t.data.output[i][a]=n(t.data.output[i][a],e.value))})}))),t}},{"../../core/utils/each":29}],43:[function(e,t){function n(e,t,n){var r,o=this;return r=void 0!==t?t:null,"function"==typeof n?(o.data.output[0].splice(e,0,r),a(o.output(),function(t,r){var a;r>0&&(a=n.call(o,t,r),"undefined"==typeof a&&(a=null),o.data.output[r].splice(e,0,a))})):(!n||n instanceof Array)&&(n=n||[],n.length<=o.output().length-1?n=n.concat(i(o.output().length-1-n.length)):a(n,function(){o.data.output.length-1<n.length&&l.call(o,String(o.data.output.length))}),o.data.output[0].splice(e,0,r),a(n,function(t,n){o.data.output[n+1].splice(e,0,t)})),o}function r(e,t,n){var r,o=this,l=[];return r=void 0!==t?t:null,l.push(r),"function"==typeof n?(a(o.output()[0],function(e,t){var r,a;t>0&&(r=o.selectColumn(t),a=n.call(o,r,t),"undefined"==typeof a&&(a=null),l.push(a))}),o.data.output.splice(e,0,l)):(!n||n instanceof Array)&&(n=n||[],n.length<=o.data.output[0].length-1?n=n.concat(i(o.data.output[0].length-1-n.length)):a(n,function(){o.data.output[0].length-1<n.length&&s.call(o,String(o.data.output[0].length))}),o.data.output.splice(e,0,l.concat(n))),o}var a=e("../../core/utils/each"),i=e("../utils/create-null-list"),o=e("./append"),l=o.appendRow,s=o.appendColumn;t.exports={insertColumn:n,insertRow:r}},{"../../core/utils/each":29,"../utils/create-null-list":48,"./append":39}],44:[function(e,t){function n(e){var t=new Array,n="number"==typeof e?e:this.data.output[0].indexOf(e);return n>-1&&"undefined"!=typeof this.data.output[0][n]&&a(this.data.output,function(e){t.push(e[n])}),t}function r(e){var t=new Array,n="number"==typeof e?e:this.selectColumn(0).indexOf(e);return n>-1&&"undefined"!=typeof this.data.output[n]&&(t=this.data.output[n]),t}var a=e("../../core/utils/each");t.exports={selectColumn:n,selectRow:r}},{"../../core/utils/each":29}],45:[function(e,t){function n(e,t){if(arguments.length<2||e.length<2)throw Error("Incorrect arguments provided for #set method");var n="number"==typeof e[0]?e[0]:this.data.output[0].indexOf(e[0]),i="number"==typeof e[1]?e[1]:a.selectColumn.call(this,0).indexOf(e[1]),o=a.selectColumn.call(this,e[0]),l=a.selectRow.call(this,e[1]);return o.length<1&&(r.appendColumn.call(this,e[0]),n=this.data.output[0].length-1),l.length<1&&(r.appendRow.call(this,e[1]),i=this.data.output.length-1),this.data.output[i][n]=t,this}var r=(e("../../core/utils/each"),e("./append")),a=e("./select");t.exports={set:n}},{"../../core/utils/each":29,"./append":39,"./select":44}],46:[function(e,t){function n(e,t){var n=this,r=this.output()[0].slice(1),i=[],o=t||this.getColumnLabel;return a(r,function(e,t){i.push(n.selectColumn(t+1).slice(0))}),i.sort(function(t,r){var a=o.call(n,t)>o.call(n,r);return a?"asc"===e?1:-1:a?0:"asc"===e?-1:1}),a(i,function(e,t){n.deleteColumn(t+1).insertColumn(t+1,e[0],e.slice(1))}),n}function r(e,t){var n=this,r=this.output().slice(0,1),a=this.output().slice(1),i=t||this.getRowIndex;return a.sort(function(t,r){var a=i.call(n,t)>i.call(n,r);return a?"asc"===e?1:-1:a?0:"asc"===e?-1:1}),n.output(r.concat(a)),n}var a=e("../../core/utils/each");t.exports={sortColumns:n,sortRows:r}},{"../../core/utils/each":29}],47:[function(e,t){function n(e,t){var n=this,r="number"==typeof e?e:this.data.output[0].indexOf(e);return r>-1&&("function"==typeof t?a(n.output(),function(e,a){var i;a>0&&(i=t.call(n,e[r],a,e),"undefined"!=typeof i&&(n.data.output[a][r]=i))}):(!t||t instanceof Array)&&(t=t||[],t.length<=n.output().length-1?t=t.concat(i(n.output().length-1-t.length)):a(t,function(){n.data.output.length-1<t.length&&l.call(n,String(n.data.output.length))}),a(t,function(e,t){n.data.output[t+1][r]=e}))),n}function r(e,t){var n=this,r="number"==typeof e?e:this.selectColumn(0).indexOf(e);return r>-1&&("function"==typeof t?a(n.output()[r],function(e,a){var i=n.selectColumn(a),o=t.call(n,e,a,i);"undefined"!=typeof o&&(n.data.output[r][a]=o)}):(!t||t instanceof Array)&&(t=t||[],t.length<=n.data.output[0].length-1?t=t.concat(i(n.data.output[0].length-1-t.length)):a(t,function(){n.data.output[0].length-1<t.length&&s.call(n,String(n.data.output[0].length))}),a(t,function(e,t){n.data.output[r][t+1]=e}))),n}var a=e("../../core/utils/each"),i=e("../utils/create-null-list"),o=e("./append"),l=o.appendRow,s=o.appendColumn;t.exports={updateColumn:n,updateRow:r}},{"../../core/utils/each":29,"../utils/create-null-list":48,"./append":39}],48:[function(e,t){t.exports=function(e){var t=new Array;for(i=0;e>i;i++)t.push(null);return t}},{}],49:[function(e,t){function n(e){var t={};for(var r in e)if(e.hasOwnProperty(r))if("object"==typeof e[r]&&null!==e[r]){var a=n(e[r]);for(var i in a)a.hasOwnProperty(i)&&(t[r+"."+i]=a[i])}else t[r]=e[r];return t}t.exports=n},{}],50:[function(e,t){var n=e("../../core/utils/each");t.exports=function(){var e=[],t=function(){var r=arguments[0],a=Array.prototype.slice.call(arguments,1),i=a.pop();return 0===a.length&&(r instanceof Array?a=r:"object"==typeof r&&a.push(r)),n(a,function(o){if(""==i&&("number"==typeof o||null==o))return e.push(o);if(o[i]||0===o[i]||void 0!==o[i])return e.push(null===o[i]?null:o[i]);if(!r[o]){if("object"!=typeof r||r instanceof Array!=!1||r[i])return t.apply(this,[o].concat(a.splice(1)).concat(i));throw new Error("Target property does not exist",i)}return r[o]instanceof Array?void n(r[o],function(e,n){var l=[r[o]].concat(r[o][n]).concat(a.slice(1)).concat(i);return t.apply(this,l)}):r[o][i]?e.push(r[o][i]):t.apply(this,[r[o]].concat(a.splice(1)).concat(i))}),e.length>0?e:void 0};return t.apply(this,arguments)}},{"../../core/utils/each":29}],51:[function(e,t){function n(e){return d=e,function(e){var t=Array.prototype.slice.call(arguments,1);if(h[e])return h[e].apply(this,t);throw"Requested parser does not exist"}}function r(){return function(e){var t=new d;return t.data.input=e,t.parser={name:"metric"},t.set(["Value","Result"],e.result)}}function a(){var e=Array.prototype.slice.call(arguments);return function(t){var n=new d;return f(t.result,function(t){var r=e[0]&&"timeframe.end"===e[0]?t.timeframe.end:t.timeframe.start;n.set(["Result",r],t.value)}),n.data.input=t,n.parser="interval",n.parser={name:"interval",options:e},n}}function i(){return function(e){var t=new d;return f(e.result,function(e){var n;f(e,function(e,t){"result"!==t&&(n=t)}),t.set(["Result",String(e[n])],e.result)}),t.data.input=e,t.parser={name:"grouped-metric"},t}}function o(){var e=Array.prototype.slice.call(arguments);return function(t){var n=new d;return f(t.result,function(t){var r=e[0]&&"timeframe.end"===e[0]?t.timeframe.end:t.timeframe.start;t.value.length?f(t.value,function(e){var t;f(e,function(e,n){"result"!==n&&(t=n)}),n.set([String(e[t])||"",r],e.result)}):n.appendRow(r)}),n.data.input=t,n.parser={name:"grouped-interval",options:e},n}}function l(){var e=Array.prototype.slice.call(arguments);if(!e[0])throw"Requested parser requires a sequential list (array) of properties to target as a second argument";return function(t){var n=new d;return f(t.result,function(t){n.set(["Result",t[e[0][0]]+" "+t[e[0][1]]],t.result)}),n.data.input=t,n.parser={name:"double-grouped-metric",options:e},n}}function s(){var e=Array.prototype.slice.call(arguments);if(!e[0])throw"Requested parser requires a sequential list (array) of properties to target as a second argument";return function(t){var n=new d;return f(t.result,function(t){var r=e[1]&&"timeframe.end"===e[1]?t.timeframe.end:t.timeframe.start;f(t.value,function(t){var a=String(t[e[0][0]])+" "+String(t[e[0][1]]);n.set([a,r],t.result)})}),n.data.input=t,n.parser={name:"double-grouped-interval",options:e},n}}function u(){return function(e){var t=new d;return t.appendColumn("Step Value"),f(e.result,function(n,r){t.appendRow(e.steps[r].event_collection,[n])}),t.data.input=e,t.parser={name:"funnel"},t}}function p(){return function(e){var t=new d;return f(e.result,function(e,n){t.set(["Value",n+1],e)}),t.data.input=e,t.parser={name:"list"},t}}function c(){return function(e){var t=new d;return f(e.result,function(e,n){f(m(e),function(e,r){t.set([r,n+1],e)})}),t.deleteColumn(0),t.data.input=e,t.parser={name:"extraction"},t}}var d,f=e("../../core/utils/each"),m=e("./flatten"),h={metric:r,interval:a,"grouped-metric":i,"grouped-interval":o,"double-grouped-metric":l,"double-grouped-interval":s,funnel:u,list:p,extraction:c};t.exports=n},{"../../core/utils/each":29,"./flatten":49}],52:[function(e,t){var n=e("../dataviz"),r=e("../../core/utils/each"),a=e("../../core/utils/extend");t.exports=function(){function e(e){var t=a({axis:{},color:{},data:{},size:{}},this.chartOptions());return t.bindto=this.el(),t.color.pattern=this.colors(),t.data.columns=[],t.size.height=this.height(),t.size.width=this.width(),t.data.type=e,"gauge"===e||("pie"===e||"donut"===e?t[e]={title:this.title()}:(this.dataType().indexOf("chron")>-1?(t.data.x="x",t.axis.x={type:"timeseries",tick:{format:this.dateFormat()||i(this.data()[1][0],this.data()[2][0])}}):"cat-ordinal"===this.dataType()&&(t.axis.x={type:"category",categories:this.labels()}),this.title()&&(t.axis.y={label:this.title()}))),t}function t(){this.view._artifacts.c3&&(this.view._artifacts.c3.destroy(),this.view._artifacts.c3=null)}function i(e,t){var n=Math.abs(new Date(e).getTime()-new Date(t).getTime()),r=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"];return n>=24192e5?function(e){var t=new Date(e);return r[t.getMonth()]+" "+t.getFullYear()}:n>=864e5?function(e){var t=new Date(e);return r[t.getMonth()]+" "+t.getDate()}:n>=36e5?"%I:%M %p":"%I:%M:%S %p"}var o={singular:["gauge"],categorical:["donut","pie"],"cat-interval":["area-step","step","bar","area","area-spline","spline","line"],"cat-ordinal":["bar","area","area-spline","spline","line","step","area-step"],chronological:["area","area-spline","spline","line","bar","step","area-step"],"cat-chronological":["line","spline","area","area-spline","bar","step","area-step"]},l={};r(["gauge","donut","pie","bar","area","area-spline","spline","line","step","area-step"],function(n){l[n]={render:function(){return 1===this.data()[0].length||1===this.data().length?void this.error("No data to display"):(this.view._artifacts.c3=c3.generate(e.call(this,n)),void this.update())},update:function(){var e=this,t=[];"gauge"===n?e.view._artifacts.c3.load({columns:[[e.title(),e.data()[1][1]]]}):"pie"===n||"donut"===n?e.view._artifacts.c3.load({columns:e.dataset.data.output.slice(1)}):(this.dataType().indexOf("chron")>-1&&(t.push(e.dataset.selectColumn(0)),t[0][0]="x"),r(e.data()[0],function(n,r){r>0&&t.push(e.dataset.selectColumn(r))}),e.stacked()&&e.view._artifacts.c3.groups([e.labels()]),e.view._artifacts.c3.load({columns:t}))},destroy:function(){t.call(this)}}}),n.register("c3",l,{capabilities:o})}},{"../../core/utils/each":29,"../../core/utils/extend":31,"../dataviz":54}],53:[function(e,t){var n=e("../../core"),r=(e("../dataviz"),e("../../core/utils/clone")),a=e("../../core/utils/each"),i=e("../../core/utils/extend"),o=e("../utils/prettyNumber");t.exports=function(){var e,t,l;n.Error={defaults:{backgroundColor:"",borderRadius:"4px",color:"#ccc",display:"block",fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:"21px",fontWeight:"light",textAlign:"center"}},n.Spinner.defaults={height:138,lines:10,length:8,width:3,radius:10,corners:1,rotate:0,direction:1,color:"#4d4d4d",speed:1.67,trail:60,shadow:!1,hwaccel:!1,className:"keen-spinner",zIndex:2e9,top:"50%",left:"50%"};var s={singular:["metric"]};e={initialize:function(){var e=document.createElement("style"),t="#49c5b1";e.id="keen-widgets",e.type="text/css",e.innerHTML="  .keen-metric { \n  background: "+t+"; \n  border-radius: 4px; \n  color: #fff; \n  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; \n  padding: 10px 0; \n  text-align: center; \n}   .keen-metric-value { \n  display: block; \n  font-size: 84px; \n  font-weight: 700; \n  line-height: 84px; \n}   .keen-metric-title { \n  display: block; \n  font-size: 24px; \n  font-weight: 200; \n}",document.getElementById(e.id)||document.body.appendChild(e)},render:function(){var e=1==this.colors().length?this.colors()[0]:"#49c5b1",t=this.title()||"Result",n=this.data()[1]&&this.data()[1][1]?this.data()[1][1]:0,r=this.width(),a=this.chartOptions()||{},i="",l="",s={width:r?r+"px":"auto"},u=n;("undefined"==typeof a.prettyNumber||1==a.prettyNumber)&&(isNaN(parseInt(n))||(u=o(n))),a.prefix&&(i='<span class="keen-metric-prefix">'+a.prefix+"</span>"),a.suffix&&(l='<span class="keen-metric-suffix">'+a.suffix+"</span>"),this.el().innerHTML='<div class="keen-widget keen-metric" style="background-color: '+e+"; width:"+s.width+';" title="'+n+'"><span class="keen-metric-value">'+i+u+l+'</span><span class="keen-metric-title">'+t+"</span></div>"}},t={initialize:function(){},render:function(e,t){var o,l,s=r(n.Error.defaults),u=i(s,t);o=document.createElement("div"),o.className="keen-error",a(u,function(e,t){o.style[t]=e}),o.style.height=String(this.height()+"px"),o.style.paddingTop=this.height()/2-15+"px",o.style.width=String(this.width()+"px"),l=document.createElement("span"),l.innerHTML=e||"Yikes! An error occurred!",o.appendChild(l),this.el().innerHTML="",this.el().appendChild(o)},destroy:function(){this.el().innerHTML=""}},l={initialize:function(){},render:function(){var e=document.createElement("div"),t=this.height()||n.Spinner.defaults.height;e.className="keen-loading",e.style.height=String(t+"px"),e.style.position="relative",e.style.width=String(this.width()+"px"),this.el().innerHTML="",this.el().appendChild(e),this.view._artifacts.spinner=new n.Spinner(n.Spinner.defaults).spin(e)},destroy:function(){this.view._artifacts.spinner.stop(),this.view._artifacts.spinner=null}},n.Dataviz.register("keen-io",{metric:e,error:t,spinner:l},{capabilities:s})}},{"../../core":16,"../../core/utils/clone":28,"../../core/utils/each":29,"../../core/utils/extend":31,"../dataviz":54,"../utils/prettyNumber":93}],54:[function(e,t){function n(){this.dataset=new p,this.view={_prepared:!1,_initialized:!1,_rendered:!1,_artifacts:{},adapter:{library:void 0,chartOptions:{},chartType:void 0,defaultChartType:void 0,dataType:void 0},attributes:r(n.defaults),defaults:r(n.defaults),el:void 0,loader:{library:"keen-io",chartType:"spinner"}},n.visuals.push(this)}var r=e("../core/utils/clone"),a=e("../core/utils/each"),i=e("../core/utils/extend"),o=e("./utils/loadScript"),l=e("./utils/loadStyle"),s=e("../core"),u=e("../core/utils/emitter-shim"),p=e("../dataset");i(n,{dataTypeMap:{singular:{library:"keen-io",chartType:"metric"},categorical:{library:"google",chartType:"piechart"},"cat-interval":{library:"google",chartType:"columnchart"},"cat-ordinal":{library:"google",chartType:"barchart"},chronological:{library:"google",chartType:"areachart"},"cat-chronological":{library:"google",chartType:"linechart"},extraction:{library:"google",chartType:"table"},nominal:{library:"google",chartType:"table"}},defaults:{colors:["#00bbde","#fe6672","#eeb058","#8a8ad6","#ff855c","#00cfbb","#5a9eed","#73d483","#c879bb","#0099b6","#d74d58","#cb9141","#6b6bb6","#d86945","#00aa99","#4281c9","#57b566","#ac5c9e","#27cceb","#ff818b","#f6bf71","#9b9be1","#ff9b79","#26dfcd","#73aff4","#87e096","#d88bcb"],indexBy:"timeframe.start",stacked:!1},dependencies:{loading:0,loaded:0,urls:{}},libraries:{},visuals:[]}),u(n),u(n.prototype),n.register=function(e,t,r){var i=this,u=function(e){e.loaded++,e.loaded===e.loading&&(s.loaded=!0,s.trigger("ready"))};n.libraries[e]=n.libraries[e]||{},a(t,function(t,r){n.libraries[e][r]=t}),r&&r.capabilities&&(n.libraries[e]._defaults=n.libraries[e]._defaults||{},a(r.capabilities,function(t,r){n.libraries[e]._defaults[r]=t})),r&&r.dependencies&&a(r.dependencies,function(e){var t=n.dependencies;if(!t.urls[e.url]){t.urls[e.url]=!0,t.loading++;var r="script"===e.type?o:l;r(e.url,function(){e.cb?e.cb.call(i,function(){u(t)}):u(t)})}})},n.find=function(e){if(!arguments.length)return n.visuals;var t,r=e.nodeName?e:document.querySelector(e);return a(n.visuals,function(e){return r==e.el()?(t=e,!1):void 0}),t?t:void 0},t.exports=n},{"../core":16,"../core/utils/clone":28,"../core/utils/each":29,"../core/utils/emitter-shim":30,"../core/utils/extend":31,"../dataset":37,"./utils/loadScript":91,"./utils/loadStyle":92}],55:[function(e,t){var n=e("../../core/utils/clone"),r=e("../../core/utils/extend"),a=e("../dataviz"),i=e("../../core/request");t.exports=function(e,t,o){var l=n(a.defaults),s=new a,u=new i(this,[e]),p=o||{};return s.attributes(r(l,p)).el(t).prepare(),u.refresh(),u.on("complete",function(){s.parseRequest(this).call(function(){p.labels&&this.labels(p.labels)}).render()}),u.on("error",function(e){s.error(e.message)}),s}},{"../../core/request":25,"../../core/utils/clone":28,"../../core/utils/extend":31,"../dataviz":54}],56:[function(e,t){var n=e("../dataviz"),r=e("../../core/utils/extend");t.exports=function(){var e=r({},n.dataTypeMap),t=this.dataType(),a=this.library(),i=this.chartType()||this.defaultChartType();return!a&&e[t]&&(a=e[t].library),a&&!i&&t&&(i=n.libraries[a]._defaults[t][0]),a&&!i&&e[t]&&(i=e[t].chartType),a&&i&&n.libraries[a][i]?n.libraries[a][i]:{}}},{"../../core/utils/extend":31,"../dataviz":54}],57:[function(e,t){t.exports=function(e){var t,n=e.queries[0].analysis.replace("_"," "),r=e.queries[0].get("event_collection");return t=n.replace(/\b./g,function(e){return e.toUpperCase()
}),r&&(t+=" - "+r),t}},{}],58:[function(e,t){t.exports=function(e){var t,n="string"==typeof e.params.interval,r="string"==typeof e.params.group_by,a=e.params.group_by instanceof Array;return r||n||(t="singular"),r&&!n&&(t="categorical"),n&&!r&&(t="chronological"),n&&r&&(t="cat-chronological"),!n&&a&&(t="categorical"),n&&a&&(t="cat-chronological"),"funnel"===e.analysis&&(t="cat-ordinal"),"extraction"===e.analysis&&(t="extraction"),"select_unique"===e.analysis&&(t="nominal"),t}},{}],59:[function(e,t){var n=e("../core/utils/extend"),r=e("./dataviz");n(r.prototype,{adapter:e("./lib/adapter"),attributes:e("./lib/attributes"),call:e("./lib/call"),chartOptions:e("./lib/chartOptions"),chartType:e("./lib/chartType"),colorMapping:e("./lib/colorMapping"),colors:e("./lib/colors"),data:e("./lib/data"),dataType:e("./lib/dataType"),dateFormat:e("./lib/dateFormat"),defaultChartType:e("./lib/defaultChartType"),el:e("./lib/el"),height:e("./lib/height"),indexBy:e("./lib/indexBy"),labelMapping:e("./lib/labelMapping"),labels:e("./lib/labels"),library:e("./lib/library"),parseRawData:e("./lib/parseRawData"),parseRequest:e("./lib/parseRequest"),prepare:e("./lib/prepare"),sortGroups:e("./lib/sortGroups"),sortIntervals:e("./lib/sortIntervals"),stacked:e("./lib/stacked"),title:e("./lib/title"),width:e("./lib/width")}),n(r.prototype,{destroy:e("./lib/actions/destroy"),error:e("./lib/actions/error"),initialize:e("./lib/actions/initialize"),render:e("./lib/actions/render"),update:e("./lib/actions/update")}),t.exports=r},{"../core/utils/extend":31,"./dataviz":54,"./lib/actions/destroy":60,"./lib/actions/error":61,"./lib/actions/initialize":62,"./lib/actions/render":63,"./lib/actions/update":64,"./lib/adapter":65,"./lib/attributes":66,"./lib/call":67,"./lib/chartOptions":68,"./lib/chartType":69,"./lib/colorMapping":70,"./lib/colors":71,"./lib/data":72,"./lib/dataType":73,"./lib/dateFormat":74,"./lib/defaultChartType":75,"./lib/el":76,"./lib/height":77,"./lib/indexBy":78,"./lib/labelMapping":79,"./lib/labels":80,"./lib/library":81,"./lib/parseRawData":82,"./lib/parseRequest":83,"./lib/prepare":84,"./lib/sortGroups":85,"./lib/sortIntervals":86,"./lib/stacked":87,"./lib/title":88,"./lib/width":89}],60:[function(e,t){var n=e("../../helpers/getAdapterActions");t.exports=function(){var e=n.call(this);return e.destroy&&e.destroy.apply(this,arguments),this.el()&&(this.el().innerHTML=""),this.view._prepared=!1,this.view._initialized=!1,this.view._rendered=!1,this.view._artifacts={},this}},{"../../helpers/getAdapterActions":56}],61:[function(e,t){var n=e("../../helpers/getAdapterActions"),r=e("../../dataviz");t.exports=function(){var e=n.call(this);return this.el()?e.error?e.error.apply(this,arguments):r.libraries["keen-io"].error.render.apply(this,arguments):this.emit("error","No DOM element provided"),this}},{"../../dataviz":54,"../../helpers/getAdapterActions":56}],62:[function(e,t){var n=e("../../helpers/getAdapterActions"),r=e("../../dataviz");t.exports=function(){var e=n.call(this),t=r.libraries[this.view.loader.library][this.view.loader.chartType];return this.view._prepared?t.destroy&&t.destroy.apply(this,arguments):this.el()&&(this.el().innerHTML=""),e.initialize?e.initialize.apply(this,arguments):(this.error("Incorrect chartType"),this.emit("error","Incorrect chartType")),this.view._initialized=!0,this}},{"../../dataviz":54,"../../helpers/getAdapterActions":56}],63:[function(e,t){var n=e("../../helpers/getAdapterActions"),r=e("../../utils/applyTransforms");t.exports=function(){var e=n.call(this);return r.call(this),this.view._initialized||this.initialize(),this.el()&&e.render&&(e.render.apply(this,arguments),this.view._rendered=!0),this}},{"../../helpers/getAdapterActions":56,"../../utils/applyTransforms":90}],64:[function(e,t){var n=e("../../helpers/getAdapterActions"),r=e("../../utils/applyTransforms");t.exports=function(){var e=n.call(this);return r.call(this),e.update?e.update.apply(this,arguments):e.render&&this.render(),this}},{"../../helpers/getAdapterActions":56,"../../utils/applyTransforms":90}],65:[function(e,t){var n=e("../../core/utils/each");t.exports=function(e){if(!arguments.length)return this.view.adapter;var t=this;return n(e,function(e,n){t.view.adapter[n]=e?e:null}),this}},{"../../core/utils/each":29}],66:[function(e,t){var n=e("../../core/utils/each"),r=e("./chartOptions");chartType=e("./chartType"),library=e("./library"),t.exports=function(e){if(!arguments.length)return this.view.attributes;var t=this;return n(e,function(e,n){"library"===n?library.call(t,e):"chartType"===n?chartType.call(t,e):"chartOptions"===n?r.call(t,e):t.view.attributes[n]=e}),this}},{"../../core/utils/each":29,"./chartOptions":68,"./chartType":69,"./library":81}],67:[function(e,t){t.exports=function(e){return e.call(this),this}},{}],68:[function(e,t){var n=e("../../core/utils/extend");t.exports=function(e){return arguments.length?("object"==typeof e&&null!==e?n(this.view.adapter.chartOptions,e):this.view.adapter.chartOptions={},this):this.view.adapter.chartOptions}},{"../../core/utils/extend":31}],69:[function(e,t){t.exports=function(e){return arguments.length?(this.view.adapter.chartType=e?String(e):null,this):this.view.adapter.chartType}},{}],70:[function(e,t){function n(){var e=this,t=this.dataset.schema,n=this.dataset.output(),a=this.view.defaults.colors.slice(),i=this.colorMapping(),o=this.dataType()||"";i&&(o.indexOf("chronological")>-1||t.unpack&&n[0].length>2?r(n[0].slice(1),function(e,t){var n=i[e];n&&a[t]!==n&&a.splice(t,0,n)}):r(e.dataset.selectColumn(0).slice(1),function(e,t){var n=i[e];n&&a[t]!==n&&a.splice(t,0,n)}),e.view.attributes.colors=a)}var r=e("../../core/utils/each");t.exports=function(e){return arguments.length?(this.view.attributes.colorMapping=e?e:null,n.call(this),this):this.view.attributes.colorMapping}},{"../../core/utils/each":29}],71:[function(e,t){t.exports=function(e){return arguments.length?(this.view.attributes.colors=e instanceof Array?e:null,this.view.defaults.colors=e instanceof Array?e:null,this):this.view.attributes.colors}},{}],72:[function(e,t){var n=e("../../dataset"),r=e("../../core/request");t.exports=function(e){return arguments.length?(e instanceof n?this.dataset=e:e instanceof r?this.parseRequest(e):this.parseRawData(e),this):this.dataset.output()}},{"../../core/request":25,"../../dataset":37}],73:[function(e,t){t.exports=function(e){return arguments.length?(this.view.adapter.dataType=e?String(e):null,this):this.view.adapter.dataType}},{}],74:[function(e,t){t.exports=function(e){return arguments.length?(this.view.attributes.dateFormat="string"==typeof e||"function"==typeof e?e:void 0,this):this.view.attributes.dateFormat}},{}],75:[function(e,t){t.exports=function(e){return arguments.length?(this.view.adapter.defaultChartType=e?String(e):null,this):this.view.adapter.defaultChartType}},{}],76:[function(e,t){t.exports=function(e){return arguments.length?(this.view.el=e,this):this.view.el}},{}],77:[function(e,t){t.exports=function(e){return arguments.length?(this.view.attributes.height=isNaN(parseInt(e))?null:parseInt(e),this):this.view.attributes.height}},{}],78:[function(e,t){function n(){var e;this.dataset.output().length>1&&!isNaN(new Date(this.dataset.output()[1][0]).getTime())&&(this.dataset.parser&&this.dataset.parser.name&&this.dataset.parser.options?1===this.dataset.parser.options.length?(e=r.parser(this.dataset.parser.name,this.indexBy()),this.dataset.parser.options[0]=this.indexBy()):(e=r.parser(this.dataset.parser.name,this.dataset.parser.options[0],this.indexBy()),this.dataset.parser.options[1]=this.indexBy()):2===this.dataset.output()[0].length?(e=r.parser("interval",this.indexBy()),this.dataset.parser={name:"interval",options:[this.indexBy()]}):(e=r.parser("grouped-interval",this.indexBy()),this.dataset.parser={name:"grouped-interval",options:[this.indexBy()]}),this.dataset=e(this.dataset.input()),this.dataset.updateColumn(0,function(e){return"string"==typeof e?new Date(e):e}))}{var r=e("../../dataset"),a=e("../dataviz");e("../../core/utils/each")}t.exports=function(e){return arguments.length?(this.view.attributes.indexBy=e?String(e):a.defaults.indexBy,n.call(this),this):this.view.attributes.indexBy}},{"../../core/utils/each":29,"../../dataset":37,"../dataviz":54}],79:[function(e,t){function n(){var e=this,t=this.labelMapping(),n=this.dataType()||"";t&&(n.indexOf("chronological")>-1||e.dataset.output()[0].length>2?r(e.dataset.output()[0],function(n,r){r>0&&(e.dataset.data.output[0][r]=t[n]||n)}):2===e.dataset.output()[0].length&&e.dataset.updateColumn(0,function(e){return t[e]||e}))}var r=e("../../core/utils/each");t.exports=function(e){return arguments.length?(this.view.attributes.labelMapping=e?e:null,n.call(this),this):this.view.attributes.labelMapping}},{"../../core/utils/each":29}],80:[function(e,t){function n(){var e=this,t=this.labels()||null,n=this.dataset.output(),r=this.dataType()||"";t&&(r.indexOf("chronological")>-1||n[0].length>2?a(n[0],function(n,r){r>0&&t[r-1]&&(e.dataset.data.output[0][r]=t[r-1])}):a(n,function(n,r){r>0&&t[r-1]&&(e.dataset.data.output[r][0]=t[r-1])}))}function r(){var e,t=this.dataset.output(),n=this.dataType()||"";return e=n.indexOf("chron")>-1||t[0].length>2?this.dataset.selectRow(0).slice(1):this.dataset.selectColumn(0).slice(1)}var a=e("../../core/utils/each");t.exports=function(e){return arguments.length?(this.view.attributes.labels=e instanceof Array?e:null,n.call(this),this):this.view.attributes.labels&&this.view.attributes.labels.length?this.view.attributes.labels:r.call(this)}},{"../../core/utils/each":29}],81:[function(e,t){t.exports=function(e){return arguments.length?(this.view.adapter.library=e?String(e):null,this):this.view.adapter.library}},{}],82:[function(e,t){var n=e("../../dataset"),r=e("../../core/utils/extend");t.exports=function(e){var t,a,i=this.indexBy()?this.indexBy():"timestamp.start",o=[],l="undefined"!=typeof e.query?e.query:{};return l=r({analysis_type:null,event_collection:null,filters:[],group_by:null,interval:null,timeframe:null,timezone:null},l),"funnel"===l.analysis_type?(t="cat-ordinal",a="funnel"):"extraction"===l.analysis_type?(t="extraction",a="extraction"):"select_unique"===l.analysis_type?l.group_by||l.interval||(t="nominal",a="list"):l.analysis_type&&(l.group_by||l.interval?l.group_by&&!l.interval?l.group_by instanceof Array&&l.group_by.length>1?(t="categorical",a="double-grouped-metric",o.push(l.group_by)):(t="categorical",a="grouped-metric"):l.interval&&!l.group_by?(t="chronological",a="interval",o.push(i)):l.group_by&&l.interval&&(l.group_by instanceof Array&&l.group_by.length>1?(t="cat-chronological",a="double-grouped-interval",o.push(l.group_by),o.push(i)):(t="cat-chronological",a="grouped-interval",o.push(i))):(t="singular",a="metric")),a||("number"==typeof e.result&&(t="singular",a="metric"),e.result instanceof Array&&e.result.length>0&&(!e.result[0].timeframe||"number"!=typeof e.result[0].value&&null!=e.result[0].value||(t="chronological",a="interval",o.push(i)),"number"==typeof e.result[0].result&&(t="categorical",a="grouped-metric"),e.result[0].value instanceof Array&&(t="cat-chronological",a="grouped-interval",o.push(i)),"number"==typeof e.result[0]&&"undefined"!=typeof e.steps&&(t="cat-ordinal",a="funnel"),"string"!=typeof e.result[0]&&"number"!=typeof e.result[0]||"undefined"!=typeof e.steps||(t="nominal",a="list"),void 0===t&&(t="extraction",a="extraction"))),t&&this.dataType(t),this.dataset=n.parser.apply(this,[a].concat(o))(e),a.indexOf("interval")>-1&&this.dataset.updateColumn(0,function(e){return new Date(e)}),this}},{"../../core/utils/extend":31,"../../dataset":37}],83:[function(e,t){var n=e("../../core/query"),r=e("./dataType"),a=e("../../core/utils/extend"),i=e("../helpers/getDefaultTitle"),o=e("../helpers/getQueryDataType"),l=e("./parseRawData"),s=e("./title");t.exports=function(e){var t=e.data instanceof Array?e.data[0]:e.data;return e.queries[0]instanceof n&&(t.query=a({analysis_type:e.queries[0].analysis},e.queries[0].params),r.call(this,o(e.queries[0])),this.view.defaults.title=i.call(this,e),s.call(this)||s.call(this,this.view.defaults.title)),l.call(this,t),this}},{"../../core/query":24,"../../core/utils/extend":31,"../helpers/getDefaultTitle":57,"../helpers/getQueryDataType":58,"./dataType":73,"./parseRawData":82,"./title":88}],84:[function(e,t){var n=e("../dataviz");t.exports=function(){var e;return this.view._rendered&&this.destroy(),this.el()&&(this.el().innerHTML="",e=n.libraries[this.view.loader.library][this.view.loader.chartType],e.initialize&&e.initialize.apply(this,arguments),e.render&&e.render.apply(this,arguments),this.view._prepared=!0),this}},{"../dataviz":54}],85:[function(e,t){function n(){var e=this.dataType();this.sortGroups()&&(e&&e.indexOf("chronological")>-1||this.data()[0].length>2?this.dataset.sortColumns(this.sortGroups(),this.dataset.getColumnSum):e&&(e.indexOf("cat-")>-1||e.indexOf("categorical")>-1)&&this.dataset.sortRows(this.sortGroups(),this.dataset.getRowSum))}t.exports=function(e){return arguments.length?(this.view.attributes.sortGroups=e?String(e):null,n.call(this),this):this.view.attributes.sortGroups}},{}],86:[function(e,t){function n(){this.sortIntervals()&&this.dataset.sortRows(this.sortIntervals())}t.exports=function(e){return arguments.length?(this.view.attributes.sortIntervals=e?String(e):null,n.call(this),this):this.view.attributes.sortIntervals}},{}],87:[function(e,t){t.exports=function(e){return arguments.length?(this.view.attributes.stacked=e?!0:!1,this):this.view.attributes.stacked}},{}],88:[function(e,t){t.exports=function(e){return arguments.length?(this.view.attributes.title=e?String(e):null,this):this.view.attributes.title}},{}],89:[function(e,t){t.exports=function(e){return arguments.length?(this.view.attributes.width=isNaN(parseInt(e))?null:parseInt(e),this):this.view.attributes.width}},{}],90:[function(e,t){t.exports=function(){this.labelMapping()&&this.labelMapping(this.labelMapping()),this.colorMapping()&&this.colorMapping(this.colorMapping()),this.sortGroups()&&this.sortGroups(this.sortGroups()),this.sortIntervals()&&this.sortIntervals(this.sortIntervals())}},{}],91:[function(e,t){t.exports=function(e,t){var n,r=document,a=r.head||r.getElementsByTagName("head");setTimeout(function(){if("item"in a){if(!a[0])return void setTimeout(arguments.callee,25);a=a[0]}var n=r.createElement("script"),i=!1;n.onload=n.onreadystatechange=function(){return n.readyState&&"complete"!==n.readyState&&"loaded"!==n.readyState||i?!1:(n.onload=n.onreadystatechange=null,i=!0,void t())},n.src=e,a.insertBefore(n,a.firstChild)},0),null===r.readyState&&r.addEventListener&&(r.readyState="loading",r.addEventListener("DOMContentLoaded",n=function(){r.removeEventListener("DOMContentLoaded",n,!1),r.readyState="complete"},!1))}},{}],92:[function(e,t){t.exports=function(e,t){var n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.type="text/css",n.href=e,t(),document.head.appendChild(n)}},{}],93:[function(e,t){t.exports=function(e){function t(e,n){var e=String(e),r=e.split(".");if(r.length>1){e=r[0];var a=r[1];2==e.length&&a.length>0?a.length>0?e=e+"."+a.charAt(0):e+="0":1==e.length&&a.length>0&&(e=e+"."+a.charAt(0),e+=a.length>1?a.charAt(1):"0")}var o=e.length;return e.split(".").length>1&&o--,3>=o?String(e)+i[n]:t(Number(e)/1e3,n+1)}var n=Number(e),r=n.toPrecision(3),a="",i=["","k","M","B","T"];return Number(r)==n&&String(n).length<=4?String(n):n>=1||-1>=n?(0>n&&(n=-n,a="-"),a+t(n,0)):n.toPrecision(3)}},{}],94:[function(e,t,n){(function(r){!function(e){"function"==typeof define&&define.amd&&define("keen",[],function(){return e()}),"object"==typeof n&&"undefined"!=typeof t&&(t.exports=e());var a=null;"undefined"!=typeof window?a=window:"undefined"!=typeof r?a=r:"undefined"!=typeof self&&(a=self),a&&(a.Keen=e())}(function(){var n=e("./core"),r=e("./core/utils/extend");return r(n.prototype,{addEvent:e("./core/lib/addEvent"),addEvents:e("./core/lib/addEvents"),setGlobalProperties:e("./core/lib/setGlobalProperties"),trackExternalLink:e("./core/lib/trackExternalLink"),get:e("./core/lib/get"),post:e("./core/lib/post"),put:e("./core/lib/post"),run:e("./core/lib/run"),savedQueries:e("./core/saved-queries"),draw:e("./dataviz/extensions/draw")}),n.Query=e("./core/query"),n.Request=e("./core/request"),n.Dataset=e("./dataset"),n.Dataviz=e("./dataviz"),n.Base64=e("./core/utils/base64"),n.Spinner=e("spin.js"),n.utils={domready:e("domready"),each:e("./core/utils/each"),extend:r,parseParams:e("./core/utils/parseParams"),prettyNumber:e("./dataviz/utils/prettyNumber")},e("./dataviz/adapters/keen-io")(),e("./dataviz/adapters/c3")(),n.loaded&&setTimeout(function(){n.utils.domready(function(){n.emit("ready")})},0),e("./core/async")(),t.exports=n,n})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./core":16,"./core/async":8,"./core/lib/addEvent":17,"./core/lib/addEvents":18,"./core/lib/get":19,"./core/lib/post":20,"./core/lib/run":21,"./core/lib/setGlobalProperties":22,"./core/lib/trackExternalLink":23,"./core/query":24,"./core/request":25,"./core/saved-queries":26,"./core/utils/base64":27,"./core/utils/each":29,"./core/utils/extend":31,"./core/utils/parseParams":33,"./dataset":37,"./dataviz":59,"./dataviz/adapters/c3":52,"./dataviz/adapters/keen-io":53,"./dataviz/extensions/draw":55,"./dataviz/utils/prettyNumber":93,domready:2,"spin.js":4}]},{},[94]),define("keen_io",function(){}),require(["jquery","keen_io"],function(){var e=function(){function e(){return("undefined"==typeof t||null==t)&&(t=new Keen({projectId:projectsConfig.keen.projectId,writeKey:projectsConfig.keen.writeKey,readKey:projectsConfig.keen.readKey,requestType:"jsonp"})),t}var t=null,n=14400,r={analysisType:{count:"count",sum:"sum",countUnique:"count_unique",min:"minimum",max:"maximum",avg:"average",selectUnique:"select_unique",extraction:"extraction",percentile:"percentile",median:"median",funnel:"funnel"},eventCollection:{answerQuestion:"answerQuestion",engagement:"click",gameCompletedEvent:"gameCompletedEvent",performance:"gameStartedEvent",pageVisit:"pageVisit",signupLogin:"signupLogin"},timeZone:{utc:"UTC",us:{eastern:"US/Eastern",central:"US/Central",mountain:"US/Mountain",pacific:"US/Pacific",alaska:"US/Alaska",hawaii:"US/Hawaii"},europe:{paris:"Europe/Paris",amsterdam:"Europe/Amsterdam",stockholm:"Europe/Stockholm",prague:"Europe/Prague",istanbul:"Europe/Istanbul",london:"Europe/London",copenhagen:"Europe/Copenhagen"},asia:{dubai:"Asia/Dubai",istanbul:"Asia/Istanbul",jakarta:"Asia/Jakarta",singapore:"Asia/Singapore",tokyo:"Asia/Tokyo"},africa:{casablanca:"Africa/Casablanca",nairobi:"Africa/Nairobi"},america:{sao_paulo:"America/Sao_Paulo"},australia:{sydney:"Australia/Sydney"},pacific:{auckland:"Pacific/Auckland"}},timeFrame:{today:"this_1_days",yesterday:"previous_1_days",past_7_days:"previous_7_days",past_30_days:"previous_30_days",custom:"custom",this_14_days:"this_14_days"},interval:{min:"minutely",hour:"hourly",day:"daily",week:"weekly",month:"monthly",year:"yearly"},filter:{preset:{operator:"eq",property_name:"request.siteUUID",property_value:$("#siteSelector").val()}},groupBy:{country:"visitor.geo.country",city:"visitor.geo.city",device:"visitor.tech.device.family",browser:"visitor.tech.browser.family",operating_system:"visitor.tech.os.family"},targetProperty:{uniqueUser:"jsSession.jsPermanentCookie.id"}},a={analysisType:r.analysisType.count,eventCollection:r.eventCollection.engagement,timeZone:r.timeZone.eastern,timeFrame:r.timeFrame.past_7_days,interval:r.interval.day,filters:[r.filter.preset],max_age:n,groupBy:null,targetProperty:null,updateForMetrics:function(e,t,n){e&&(a.eventCollection=e),a.interval=n?a.timeFrame===r.timeFrame.yesterday||a.timeFrame===r.timeFrame.today?r.interval.hour:n:null,t?(a.groupBy=t,a.analysisType=r.analysisType.countUnique,a.targetProperty=r.targetProperty.uniqueUser):(a.groupBy=null,a.analysisType=r.analysisType.count,a.targetProperty=null)},updateForTimeFrameByLabel:function(e){a.timeFrame=e,a.interval&&(a.interval=e===r.timeFrame.yesterday||e===r.timeFrame.today?r.interval.hour:r.interval.day)},updateForTimeFrameByDate:function(e,t){a.timeFrame={end:t,start:e}},updateSiteUUID:function(e){var t={operator:"eq",property_name:"request.siteUUID",property_value:e};a.filters=[t]},updateForPollMetrics:function(e){a.eventCollection=r.eventCollection.answerQuestion,a.interval=null,a.timeFrame=r.timeFrame.this_14_days,a.groupBy="questionOptionUUID",a.filters=[{operator:"eq",property_name:"questionUUID",property_value:e}]}},i=function(e){Keen.ready(function(){var t=new Keen.Query(a.analysisType,{eventCollection:a.eventCollection,filters:a.filters,groupBy:a.groupBy,targetProperty:a.targetProperty,interval:a.interval,timeframe:a.timeFrame,timezone:a.timeZone,max_age:a.max_age});e&&e(t)})},o=function(e,n){t.run(e,function(e,t){e?console.error("ERR:: get Keen Data - Keen Query"+e):n(t.result)})},l=function(e){var n=document.getElementById("chart");a.groupBy?t.draw(e,n,{library:"c3",chartType:"pie",height:500}):t.draw(e,n,{library:"c3",chartType:"bar",height:500,chartOptions:{axis:{x:{label:"Time"},y:{label:"Actions per day"}}}})};return e(),{client:e(),param:r,selectedParam:a,runKeenQuery:i,drawKeenQueryToCharts:l,getKeenData:o}}();return window.keenUtils=e,e}),define("keen_utils",function(){}),define("pollMetrics",["jquery","keen_utils"],function(e){return PollMetrics=function(){function t(t){var n={};return e.each(t,function(t,r){e.each(r,function(){n[r.questionOptionUUID]=r.result})}),n}var n=60;return{getMetricsForQuestion:function(e,t){var r=new Date;r.setDate(r.getDate()-n),keenUtils.selectedParam.updateForPollMetrics(e),keenUtils.runKeenQuery(function(e){keenUtils.getKeenData(e,function(e){t(e)})})},parseMetricsDataForBarChart:function(n,r){var a=t(n),i=0;return e.each(a,function(e,t){i+=t}),e.each(r,function(e){r[e].percent=0,r[e].votes=0,r[e].totalVotes=i}),e.each(a,function(t,n){var a=e.grep(r,function(e){return e.predictionOptionUUID===t})[0],o=r.indexOf(a);a.percent=(100*n/i).toFixed(2),a.votes=n,r[o]=a}),r}}}()}),function(){function e(e,t){return e.write('<div class="popupbox ').reference(t.get(["className"],!1),t,"h").write('"><i class="fa fa-times popupbox-close" onclick="fadeOut()"></i></div>')}return dust.register("templates/embed/popUpBox",e),e}(),define("popUpBox",function(){});var Permission={READ:"R",WRITE:"W"},App42Connection={},App42Fault={},App42={},apiKey,secretKey,uri="https://api.shephertz.com/cloud/1.0/",name,geoTag,sessionRequest=!1,sessionInvalidate=!1,loggedInUser=null;(function(){this.initialize=function(e,t){apiKey=e,secretKey=t,void 0==localStorage.getItem("_App42_DeviceId")&&localStorage.setItem("_App42_DeviceId",guid())},this.setLoggedInUser=function(e){loggedInUser=e},this.getLoggedInUser=function(){return loggedInUser},this.setBaseUrl=function(e){uri=e},this.URL=function(e){var t=uri,n=t+e;return n},String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})}).apply(App42),App42Exception.prototype=Error.prototype,function(){function e(){this.name="App42Exception";var e="Set your apiKey and secretKey correctly in App42.initialize( )";this.message=e||""}this.throwExceptionIfNullOrBlank=function(e,t){if(""==e||null==e){var n=new App42Exception(e,t);throw n}},this.appError=function(){var t=new e;throw t},e.prototype=Error.prototype}.apply(App42Fault);var version="1.0",XMLHttpFactories=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];(function(){this.get=function(e,t,n,r,a){if(null==t.apiKey||null==secretKey||""==secretKey||""==t.apiKey)return void App42Fault.appError();var i=new jsSHA(sortAssoc(t),"ASCII"),o=i.getHMAC(secretKey,"ASCII","HEX"),l=Convert(o);t.signature=l;var s="";s=t.userList?"&userList="+t.userList:t.jsonQuery?"&jsonQuery="+t.jsonQuery:"";var u="",p="";null!=r&&(u=r.orderByKey?"&orderByKey="+r.orderByKey:"",p=r.orderByType?"&orderByType="+r.orderByType:""),createCORSRequest("GET",e+"?version="+t.version+s+u+p,t.timeStamp,l,t.apiKey,null,n,t.sessionId,t.adminKey,t.fbAccessToken,geoTag,a)},this.post=function(e,t,n,r,a){if(null==t.apiKey||null==secretKey||""==secretKey||""==t.apiKey)return void App42Fault.appError();var i=new jsSHA(sortAssoc(t),"ASCII"),o=i.getHMAC(secretKey,"ASCII","HEX"),l=Convert(o);t.signature=l,createCORSRequest("POST",e+"?version="+t.version,t.timeStamp,l,t.apiKey,n,r,t.sessionId,t.adminKey,t.fbAccessToken,geoTag,a)},this.put=function(e,t,n,r,a){if(null==t.apiKey||null==secretKey||""==secretKey||""==t.apiKey)return void App42Fault.appError();var i=new jsSHA(sortAssoc(t),"ASCII"),o=i.getHMAC(secretKey,"ASCII","HEX"),l=Convert(o);t.signature=l,createCORSRequest("PUT",e+"?version="+t.version,t.timeStamp,l,t.apiKey,n,r,t.sessionId,t.adminKey,t.fbAccessToken,geoTag,a)},this.del=function(e,t,n,r){if(null==t.apiKey||null==secretKey||""==secretKey||""==t.apiKey)return void App42Fault.appError();var a=new jsSHA(sortAssoc(t),"ASCII"),i=a.getHMAC(secretKey,"ASCII","HEX"),o=Convert(i);if(t.signature=o,t.geoPoints){var l="&geoPoints="+t.geoPoints;e=e+"?version="+t.version+l}else t.deviceToken?(l="?deviceToken="+t.deviceToken+"&userName="+t.userName+"&",e=e+l+"?version="+t.version):(l="",e=e+"?version="+t.version+l);createCORSRequest("DELETE",e,t.timeStamp,o,t.apiKey,null,n,t.sessionId,t.adminKey,t.fbAccessToken,geoTag,r)},this.multipart=function(e,t,n,r,a){if(null==t.apiKey||null==secretKey||""==secretKey||""==t.apiKey)return void App42Fault.appError();var i=new jsSHA(sortAssoc(t),"ASCII"),o=i.getHMAC(secretKey,"ASCII","HEX"),l=Convert(o);t.signature=l,t.albumName?multipartCORSRequestForPhoto("POST",e+"?version="+t.version,t.timeStamp,l,t.apiKey,t,n,r,t.sessionId,t.adminKey,t.fbAccessToken,geoTag,a):multipartCORSRequest("POST",e+"?version="+t.version,t.timeStamp,l,t.apiKey,t,n,r,t.sessionId,t.adminKey,t.fbAccessToken,geoTag,a)}}).apply(App42Connection),function(){var e=8,t="",n=0,r=function(t){var n,r=[],a=(1<<e)-1,i=t.length*e;for(n=0;i>n;n+=e)r[n>>5]|=(t.charCodeAt(n/e)&a)<<32-e-n%32;return r},a=function(e){var t,n,r=[],a=e.length;for(t=0;a>t;t+=2){if(n=parseInt(e.substr(t,2),16),isNaN(n))return"INVALID HEX STRING";r[t>>3]|=n<<24-4*(t%8)}return r},i=function(e){var t,r,a=n?"0123456789ABCDEF":"0123456789abcdef",i="",o=4*e.length;for(t=0;o>t;t+=1)r=e[t>>2]>>8*(3-t%4),i+=a.charAt(r>>4&15)+a.charAt(15&r);return i},o=function(e){var n,r,a,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o="",l=4*e.length;for(n=0;l>n;n+=3)for(a=(e[n>>2]>>8*(3-n%4)&255)<<16|(e[n+1>>2]>>8*(3-(n+1)%4)&255)<<8|e[n+2>>2]>>8*(3-(n+2)%4)&255,r=0;4>r;r+=1)o+=8*n+6*r<=32*e.length?i.charAt(a>>6*(3-r)&63):t;return o},l=function(e,t){return e<<t|e>>>32-t},s=function(e,t,n){return e^t^n},u=function(e,t,n){return e&t^~e&n},p=function(e,t,n){return e&t^e&n^t&n},c=function(e,t){var n=(65535&e)+(65535&t),r=(e>>>16)+(t>>>16)+(n>>>16);return(65535&r)<<16|65535&n},d=function(e,t,n,r,a){var i=(65535&e)+(65535&t)+(65535&n)+(65535&r)+(65535&a),o=(e>>>16)+(t>>>16)+(n>>>16)+(r>>>16)+(a>>>16)+(i>>>16);return(65535&o)<<16|65535&i},f=function(e,t){var n,r,a,i,o,f,m,h,g,v=[],y=[1732584193,4023233417,2562383102,271733878,3285377520],b=[1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782];for(e[t>>5]|=128<<24-t%32,e[(t+65>>9<<4)+15]=t,g=e.length,m=0;g>m;m+=16){for(n=y[0],r=y[1],a=y[2],i=y[3],o=y[4],h=0;80>h;h+=1)v[h]=16>h?e[h+m]:l(v[h-3]^v[h-8]^v[h-14]^v[h-16],1),f=20>h?d(l(n,5),u(r,a,i),o,b[h],v[h]):40>h?d(l(n,5),s(r,a,i),o,b[h],v[h]):60>h?d(l(n,5),p(r,a,i),o,b[h],v[h]):d(l(n,5),s(r,a,i),o,b[h],v[h]),o=i,i=a,a=l(r,30),r=n,n=f;y[0]=c(n,y[0]),y[1]=c(r,y[1]),y[2]=c(a,y[2]),y[3]=c(i,y[3]),y[4]=c(o,y[4])}return y},m=function(t,n){if(this.sha1=null,this.strBinLen=null,this.strToHash=null,"HEX"===n){if(0!==t.length%2)return"TEXT MUST BE IN BYTE INCREMENTS";this.strBinLen=4*t.length,this.strToHash=a(t)}else{if("ASCII"!==n&&"undefined"!=typeof n)return"UNKNOWN TEXT INPUT TYPE";this.strBinLen=t.length*e,this.strToHash=r(t)}};m.prototype={getHash:function(e){var t=null,n=this.strToHash.slice();switch(e){case"HEX":t=i;break;case"B64":t=o;break;default:return"FORMAT NOT RECOGNIZED"}return null===this.sha1&&(this.sha1=f(n,this.strBinLen)),t(this.sha1)},getHMAC:function(t,n,l){var s,u,p,c,d,m=[],h=[];switch(l){case"HEX":s=i;break;case"B64":s=o;break;default:return"FORMAT NOT RECOGNIZED"}if("HEX"===n){if(0!==t.length%2)return"KEY MUST BE IN BYTE INCREMENTS";u=a(t),d=4*t.length}else{if("ASCII"!==n)return"UNKNOWN KEY INPUT TYPE";u=r(t),d=t.length*e}for(d/8>64?(u=f(u,d),u[15]&=4294967040):64>d/8&&(u[15]&=4294967040),p=0;15>=p;p+=1)m[p]=909522486^u[p],h[p]=1549556828^u[p];return c=f(m.concat(this.strToHash),512+this.strBinLen),c=f(h.concat(c),672),s(c)}},window.jsSHA=m}();var Operator={EQUALS:"$eq",NOT_EQUALS:"$ne",GREATER_THAN:"$gt",LESS_THAN:"$lt",GREATER_THAN_EQUALTO:"$gte",LESS_THAN_EQUALTO:"$lte",LIKE:"$lk",AND:"$and",OR:"$or"},GeoOperator={NEAR:"$near",WITHIN:"$within"};this.JSON||(this.JSON={}),function(){function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,a,i,o,l=gap,s=t[e];switch(s&&"object"==typeof s&&"function"==typeof s.toJSON&&(s=s.toJSON(e)),"function"==typeof rep&&(s=rep.call(t,e,s)),typeof s){case"string":return quote(s);case"number":return isFinite(s)?String(s):"null";case"boolean":case"null":return String(s);case"object":if(!s)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(s)){for(i=s.length,n=0;i>n;n+=1)o[n]=str(n,s)||"null";return a=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+l+"]":"["+o.join(",")+"]",gap=l,a}if(rep&&"object"==typeof rep)for(i=rep.length,n=0;i>n;n+=1)r=rep[n],"string"==typeof r&&(a=str(r,s),a&&o.push(quote(r)+(gap?": ":":")+a));else for(r in s)Object.hasOwnProperty.call(s,r)&&(a=str(r,s),a&&o.push(quote(r)+(gap?": ":":")+a));return a=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+l+"}":"{"+o.join(",")+"}",gap=l,a}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");
return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,a=e[t];if(a&&"object"==typeof a)for(n in a)Object.hasOwnProperty.call(a,n)&&(r=walk(a,n),void 0!==r?a[n]=r:delete a[n]);return reviver.call(e,t,a)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();var Base64=function(){var e=76,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=function(e){for(var n={},r=0;64>r;r++)n[t.substr(r,1)]=r;e=e.replace(/\s+/g,"");for(var a,i="",o=new Array,l=e.length,r=0;l>r;r+=4)a=(255&n[e.charAt(r)])<<18,a|=(255&n[e.charAt(r+1)])<<12,a|=(255&n[e.charAt(r+2)])<<6,a|=(255&n[e.charAt(r+3)])<<0,i+=String.fromCharCode((16711680&a)>>16),"="!=e.charAt(r+2)&&(i+=String.fromCharCode((65280&a)>>8)),"="!=e.charAt(r+3)&&(i+=String.fromCharCode((255&a)>>0)),i.length>1024&&(o.push(i),i="");i.length>0&&o.push(i);for(var s=new Array;o.length>1;){for(var u=o.length,p=0;u>p;p+=2)s.push(p+1==u?o[p]:""+o[p]+o[p+1]);o=s,s=new Array}return o[0]},r=function(n){for(var r,a,i=new Array,o=0,l="",s=0,l="";n.length>=o+3;)r=(255&n.charCodeAt(o++))<<16|(255&n.charCodeAt(o++))<<8|255&n.charCodeAt(o++),l+=t.charAt((16515072&r)>>18)+t.charAt((258048&r)>>12)+t.charAt((4032&r)>>6)+t.charAt(63&r),s+=4,s>e-3&&(l+="\n",i.push(l),l="",s=0);n.length-o>0&&n.length-o<3&&(a=Boolean(n.length-o-1),r=(255&n.charCodeAt(o++))<<16|(a?(255&n.charCodeAt(o))<<8:0),l+=t.charAt((16515072&r)>>18)+t.charAt((258048&r)>>12)+(a?t.charAt((4032&r)>>6):"=")+"="),i.push(l);for(var u=new Array;i.length>1;){for(var p=i.length,c=0;p>c;c+=2)u.push(c+1==p?i[c]:""+i[c]+i[c+1]);i=u,u=new Array}return i[0]};return{encode:r,decode:n}}(),myObject={AUDIO:"AUDIO",VIDEO:"VIDEO",IMAGE:"IMAGE",BINARY:"BINARY",TXT:"TXT",XML:"XML",CSV:"CSV",JSON:"JSON",OTHER:"OTHER"},OrderByType={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING"},base64_chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_status={DECLINED:"DECLINED",AUTHORIZED:"AUTHORIZED",PENDING:"PENDING"};define("app42",function(){}),function(){function e(e,n){return e.write('<div class="lbHeader"><h1 class="pre-tv-show" style="font-size: 16px;">').reference(n.get(["tvshowTitle"],!1),n,"h").write('</h1><p><i class="fa fa-line-chart"></i>Leaderboard</p></div><div class="profile-attribute"><div class="tv-leaderboard" id="leaderboard-global"><div class="tv-leaderboard-container"><ul>').section(n.get(["rankerList"],!1),n,{block:t},{currentUserUUID:n.getPath(!0,["userUUID"]),currentUserName:n.getPath(!0,["userName"])}).helper("if",n,{block:o},{cond:"userLogin"}).write('</ul></div></div><div class="tv-leaderboard" id="leaderboard-social" style="display: none"><div style="font-weight: 700;font-size: 14px;margin: 40px">Follow other fans and see how you rank against each other.</div></div></div>')}function t(e,t){return e.write('<a class="clickable" hrefLink=\'').helper("getEmbedPageURL",t,{},{}).write('\' analyticsValue="toInsticator" analyticsEventClass="leaderboard">').helper("if",t,{"else":n,block:r},{cond:a}).write('<img data-useruuid="').reference(t.get(["userUUID"],!1),t,"h").write('" class="lb-col-2" src=\'').helper("imgsrc",t,{},{type:"user",subtype:"medium",uuid:i}).write("' alt=\"").reference(t.get(["userName"],!1),t,"h").write('" width="35px" height="35px"><div class="lb-col-3" ><span class="tvlb-name" >').reference(t.get(["userName"],!1),t,"h").write('</span><span class="tvlb-points">').reference(t.get(["userPoints"],!1),t,"h").write(" Pts</span></div></li></a>")}function n(e){return e.write("<li>")}function r(e){return e.write('<li class="currentUserLB" style = "background-color: rgba(92,200,231,0.1);">')}function a(e,t){return e.write("'").reference(t.get(["userUUID"],!1),t,"h").write("' == '").reference(t.get(["currentUserUUID"],!1),t,"h").write("'")}function i(e,t){return e.reference(t.get(["userUUID"],!1),t,"h")}function o(e,t){return e.helper("if",t,{block:l},{cond:u})}function l(e,t){return e.write('<li class="currentUserLB" style = "background-color: rgba(92,200,231,0.1);"><span class="lb-col-1" title="Rank" id="current-user-rank">--</span><img class="lb-col-2" src=\'').helper("imgsrc",t,{},{type:"user",subtype:"medium",uuid:s}).write("' alt=\"").reference(t.get(["userName"],!1),t,"h").write('"><div class="lb-col-3" ><span class="tvlb-name" >').reference(t.get(["userName"],!1),t,"h").write('</span><span class="tvlb-points" id="current-user-points"> -- Points</span></div></li><script>retrieveCurrentUserRanking("').reference(t.get(["tvshowUUID"],!1),t,"h").write('", "').reference(t.get(["userUUID"],!1),t,"h").write('");</script>')}function s(e,t){return e.reference(t.get(["userUUID"],!1),t,"h")}function u(e,t){return e.write("'").reference(t.get(["currentUserIsTopN"],!1),t,"h").write("' != 'true'")}return dust.register("templates/embed/leaderboardHead",e),e}(),define("leaderboard",function(){}),function(){function e(e,a){return e.write('<div id="loginSignupModal" class="user-new-ss"><div class="ss-header"><h1></h1><h2>A place for &nbsp;<span>REAL</span>&nbsp; fan engagement</h2></div><div class="vsContent"><div class="loginUserImage"><i class="fa fa-user"></i></div><h1>Hi There!</h1><p class="bottomP darkColorP">Welcome! Sign up to keep track of your points and rank on the leaderboard!</p></div><form action="/login" onsubmit="return validateForm_loginSignupModal()" method="POST" id="loginSignup" name="login" accept-charset="utf-8" enctype="application/x-www-form-urlencoded" autocomplete="on" novalidate><div class="ss-container"><div class="ss-box ss-submit" style="background-color: #3b5998;color:#fff" onclick="return facebookOnClick(event,this);"><i class="fa fa-facebook"></i>LOG IN WITH FACEBOOK</div><div id="facebookUserValidation" class="validation"></div><div id="displayResponse_loginSignupModal" class="validation"></div><div id="div_email"><input id="email" class="ss-box ss-input" name="email" type="email" maxlength="255"value="" tabindex="1" autocomplete="on" placeholder="Email"onfocus="setFocus()" onblur="setBlur();checkSignupEvent(\'false\');"></div><div id="emailError" class="validation"></div><div id="div_userName" style="display: none"><input id="userName" class="ss-box ss-input" name="UserName" maxlength="50"type="text" value="" tabindex="2" autocomplete="on"autofocus="autofocus" placeholder="Username"></div><div id="userNameError" class="validation"></div><div id="div_password"><input id="password" class="ss-box ss-input" name="password" maxlength="50"type="password" value="" tabindex="3" placeholder="Password"onfocus="setFocus()" onblur="checkSignupEvent(\'false\');"></div><div id="passwordError" class="validation"></div><input class="ss-box ss-submit" type="submit" id="submit_loginSignupModal" value="GET STARTED" class="btn btn-info loginButton" tabindex="3"><div class="ss-box ss-submit guestModeBtn" style="background: #aaa;" onclick="continueAsGuest(); return clickEvent(event,this, clickEventString.guestMode,clickEventString.apiEmbed ,false);">CONTINUE AS GUEST</div><div class="ss-switch ss-login" style="display: none">Already have an account? &nbsp;<a onclick=\'setMode_loginSignupModal("login");\'>Log in</a></div><div class="ss-switch ss-sign">Don\'t have an account? &nbsp;<a onclick=\'setMode_loginSignupModal("signup");\'>Sign Up</a></div><div class="forget-pwd" style="text-align: center;"><a onclick=\'forgetPasswordDisplay();return clickEvent(event, this, clickEventString.forgetPassword, clickEventString.apiEmbed,false);\'>Forgot password?</a></div><!--<p class="terms-policy">Our &nbsp;<a href="/privacy">Privacy Policy</a>&nbsp; and &nbsp;<a href="/terms">&nbsp;Terms of Services</a></p>--></div></form></div><script>').helper("if",a,{"else":t,block:n},{cond:r}).write("</script>")}function t(e){return e.write('set_login_signup("signup");')}function n(e){return e.write('set_login_signup("login");')}function r(e,t){return e.write("'").reference(t.get(["signUpLogin"],!1),t,"h").write("' == 'login'")}return dust.register("templates/embed/signUpLogin",e),e}(),define("signUpLogin",function(){});var DiffProgress=function(){function e(e){return e[Math.floor(Math.random()*e.length)]}function t(e){return Array.apply(null,{length:e}).map(Number.call,Number)}function n(e,t){return Math.floor(Math.random()*(t-e))+e}function r(){var e=$.map(u,function(e,t){return t}),t=e[s];if(c[t]){var n=$("#"+t).val();$(".difficultyTooltip .tooltip-text").html(n),$(".difficultyTooltip").show(),c[t]=!1,setTimeout(function(){$(".difficultyTooltip").hide()},2e3)}}function a(){function e(){var e=Math.floor(timerCount.timerSeconds-p.speed.decreaseTimeBy/100*timerCount.timerSeconds);return e<p.speed.minTimerValue&&(e=p.speed.minTimerValue),e}questionList.currentNum>0&&questionList.currentNum%p.speed.quesAfterSpeedIncrease===0&&timerCount.timerSeconds>p.speed.minTimerValue&&(timerCount.timerSeconds=e())}function i(){function n(n){var r="_",a=n.length,i=n.split(" ");return i.forEach(function(n,o){for(var l=0,s=n.split(""),u=t(s.length),p=Math.ceil(s.length*a/100);p>l;l++){var c=e(u);s[c]=r}i[o]=s.join("")}),i.join(" ")}var r=EmbedUtils.getQuesOptionElements(!0);r.each(function(){var e=$(this).text();$(this).attr("data-original-text",e),$(this).text(n(e))})}function o(){function n(n,r,a){r=r||1,a=a||1;for(var i="abcdefghijklmnopqrstuvwxyz".split(""),o=n.split(" "),l=[],s=0,u=function(t,n){for(var r=e(i),a=e(n);t[a].toLowerCase()===r;)r=e(i);n.splice(n.indexOf(a),1),t[a]===t[a].toUpperCase()&&(r=r.toUpperCase()),t[a]=r},p=function(e){e.forEach(function(n,r){for(var i=0,o=n.split(""),l=t(o.length),s=Math.ceil(o.length*a/100);s>i;i++)u(o,l);e[r]=o.join("")})};r>s;){var c=o.concat();p(c),l.push(c.join(" ")),s++}return l}var r=EmbedUtils.getQuesOptionElements(!0),a=questionList.correctList[questionList.currentNum],i=EmbedUtils.getQuesOptionElement(a),o=n(i.attr("title"),r.length);r.each(function(e){var t=$(this).attr("optionid");t!==a&&$(this).text(o[e])})}function l(){function n(e,t){this.element=$(e),this.settings=$.extend({},r,t),this.init()}var r={time:3,className:"is-vanishing"};n.prototype.init=function(){this.text=this.element.text(),this.chars=this.text.split(""),this.randomizables=t(this.chars.length),this.element.html(this.mountElements()),this.chars=this.removeEmpties(this.chars),this.startTimer()},n.prototype.mountElements=function(){var e="";return $.each(this.chars,function(t,n){e+=" "!==n?"<a>"+n+"</a>":" "}),e},n.prototype.removeEmpties=function(e){return e.filter(function(e){return" "!==e})},n.prototype.remove=function(e){this.randomizables.splice(this.randomizables.indexOf(e),1)},n.prototype.startTimer=function(){var t=this,n=setInterval(function(){var r=e(t.randomizables);t.remove(r),t.element.find("a:eq("+r+")").addClass(t.settings.className).css("opacity",0),0===t.randomizables.length&&clearInterval(n)},1e3*this.settings.time/this.chars.length)},$.fn.vanish=function(e){return this.each(function(){$.data(this,"plugin_vanish")||$.data(this,"plugin_vanish",new n(this,e))})},setTimeout(function(){var e=EmbedUtils.getQuesOptionElements(!0);e.vanish(p.vanishingChars)},p.vanishingChars.startValishingAfterTime)}var s=n(1,5),u={noProgress:0,speed:1,similarSpelling:2,vanishingChars:3,missingChars:4},p={speed:{quesAfterSpeedIncrease:3,decreaseTimeBy:30,minTimerValue:2},vanishingChars:{time:timerCount.timerSeconds,className:"is-vanishing",startValishingAfterTime:1e3}},c={noProgress:!1,speed:!1,similarSpelling:!0,vanishingChars:!0,missingChars:!0};return{mode:u,setMode:function(e){s=e},getMode:function(){return s},executeDiffProgress:function(){var e=$("#difficultProgression"),t=parseInt(e.val());switch(-1===t?s!==u.speed&&(s=n(2,5)):s=t,r(s),s){case u.speed:a();break;case u.missingChars:i();break;case u.similarSpelling:o();break;case u.vanishingChars:l();break;case u.noProgress:break;default:console.error("Invalid difficulty progression num : "+t),e.val(u.noProgress)}}}}();define("gameDiffProgress",function(){}),AnswerObj.resultTypes={correct:1,wrong:-1,notAnswered:0},AnswerObj.getAnswerObj=function(e,t,n,r,a){("undefined"==typeof a||null===a)&&console.error("points is null "),("undefined"==typeof n||null===n)&&console.error("resultType is null "),("undefined"==typeof r||null===r)&&console.error("timeTaken is null ");var i={questioNum:e,questionUUID:t,resultType:n,timeTaken:r,points:a,totalTime:timerCount.timerSeconds};return i},define("gameAnswer",function(){}),GamePlay.initiator=null,GamePlay.widgetSettingUUID=$("#widgetSettingUUID").val(),GamePlay.pairingStatus=!1,GamePlay.currentQuestionNum=0,GamePlay.questionsObj=null,GamePlay.questionsSize=null,GamePlay.started=!1,GamePlay.constants={pairingTimeout:1e4,interval:200,answerQuestionTimeout:1e3*timerCount.timerSeconds+2e3,resultScreenTimeout:5e3,gotChallengerScreenTimeout:5e3},GamePlay.interruptReason={noAnswerFromOtherPLayer:"noAnswerFromOtherPLayer",errorInGetQuestions:"errorInGetQuestions",unableToPair:"unableToPair",errorInRequestVsMode:"errorInRequestVsMode"},GamePlay.startGamePlay=function(){GamePlay.initiator=!0,GamePlay.getVsQuestions()},GamePlay.getVsQuestions=function(){evertest.getVSModeQuestions(hashtagArray,function(e){GamePlay.setGameQuestions(e),GamePlay.sendPairRequestToOtherPlayer()},function(){console.log("unable to get the Set of questions from Server"),GamePlay.interrupted(GamePlay.interruptReason.errorInGetQuestions)},function(){console.log("request for questions compete")})},GamePlay.sendPairRequestToOtherPlayer=function(){var e=Message.getPairMessage(VsResponse.thisPlayer.serialize(),VsResponse.otherPlayer.serialize(),GamePlay.questionsObj);VsResponse.otherPlayer.sendMessage(e),GamePlay.getResponse(function(){return GamePlay.pairingStatus},GamePlay.pairingComplete,function(){GamePlay.interrupted(GamePlay.interruptReason.unableToPair)},GamePlay.constants.pairingTimeout)},GamePlay.pairingComplete=function(){GamePlay.initiator&&VsModeEvent.gameStarted(VsResponse.thisPlayer.serialize(),VsResponse.otherPlayer.serialize()),GameScreen.showChallengerScreen(VsResponse.thisPlayer,VsResponse.otherPlayer,function(){GamePlay.startQuestion(GamePlay.currentQuestionNum)})},GamePlay.startQuestion=function(){0===GamePlay.currentQuestionNum?GameScreen.hideChallengerScreen(GameScreen.showNextQuestion):GameScreen.showNextQuestion(GamePlay.currentQuestionNum)},GamePlay.answerQuestion=function(e,t,n,r){var a=AnswerObj.getAnswerObj(GamePlay.currentQuestionNum,e,t,n,r);VsResponse.thisPlayer.answersArray[GamePlay.currentQuestionNum]=a;var i=Message.getGameMessage(Message.controlType.quesAnswered,a);VsResponse.otherPlayer.sendMessage(i),GameScreen.showResultWaitScreen(),GamePlay.getResponse(function(){return VsResponse.otherPlayer.checkAnswerRecieved(GamePlay.currentQuestionNum)},GamePlay.gotBothAnswers,function(){GamePlay.interrupted(GamePlay.interruptReason.noAnswerFromOtherPLayer)},GamePlay.constants.answerQuestionTimeout)},GamePlay.gotBothAnswers=function(){GameScreen.hideResultWaitScreen(),GameScreen.showResultsScreen(VsResponse.thisPlayer.answersArray[GamePlay.currentQuestionNum],VsResponse.otherPlayer.answersArray[GamePlay.currentQuestionNum]),GamePlay.checkGameEnded()?GamePlay.gameComplete():GamePlay.startTimer(GamePlay.constants.resultScreenTimeout,function(){GamePlay.currentQuestionNum++,questionList.currentNum++,GamePlay.startQuestion(GamePlay.currentQuestionNum),$(".vsStatus").empty()})},GamePlay.gameComplete=function(){var e=GameStats.getGameStats();GamePlay.initiator&&VsModeEvent.gameCompleted(e),GamePlay.startTimer(GamePlay.constants.resultScreenTimeout,function(){GameScreen.gameCompletedScreen(e)})},GamePlay.checkGameEnded=function(){return GamePlay.currentQuestionNum===GamePlay.questionsSize-1?!0:!1},GamePlay.forceAnswer=function(){var e=timerCount.timerSeconds;GamePlay.answerQuestion(null,AnswerObj.resultTypes.notAnswered,e,0)},GamePlay.setGameQuestions=function(e){GamePlay.questionsObj=e,GamePlay.questionsSize=e.length,initializeQuestionList(e);var t=$(window).width()>400?!0:!1;e.dataWidth=t,e.showQuestionImages=embedSettings.showQuestionImages,dust.render(evertest.getEmbedTemplatePath("apiEachQuestion"),e,function(e,t){$("#triviaIsLoading").hide(),$("#triviaContainer").prepend(t),$("#predictionID1 img").addClass("lazypreload")})},GamePlay.startTimer=function(e,t){var n=setTimeout(function(){console.log("timer calling callback : after :"+e),t()},e);return n},GamePlay.getResponse=function(e,t,n,r){var a=0,i=GamePlay.constants.interval,o=setInterval(function(){a+=i,e()?(window.clearInterval(o),t()):a>=r&&(window.clearInterval(o),n())},i)},GamePlay.interrupted=function(e){VsModeEvent.gameInterrupted(e),console.error("game play Interupted :"+e),GameScreen.showGamePlayInteruptedScreen()},GamePlay.playRematch=function(e,t){clickEvent(e,t,clickEventString.rematchVsMode,clickEventString.apiEmbed,!1),VsModeImpl.restartVsMode()},define("gamePlay",function(){}),GameScreen.showArticlesScreen=function(){var e=questionList.answeredCorrect.length,t=questionList.answeredWrong.length,n=e+t||1,r=Math.round(100*e/n),a=Math.round(100*t/n),i={correctAnswers:e,wrongAnswers:t,totalAnswers:n,correctPercentage:r,wrongPercentage:a,pieDeg:3.6*a},o=[],l=[],s=3,u=0,p=$("#vsModeStartPage"),c=function(){dust.render(evertest.getEmbedTemplatePath("showArticlesScreen"),{articles:o,userStatus:i,enableVSmode:enableVSmode},function(e,t){$(".api-container,.bottomContainer").fadeOut("300",function(){p.html(t).fadeIn();var e=p.find(".prevPoll"),n=p.find(".nextPoll");0==u&&e.addClass("disabled"),u+1>=l.length/s&&n.addClass("disabled"),n.on("click",function(e){e.preventDefault(),u+=1,o=l.slice(u*s,(u+1)*s),c()}),e.on("click",function(e){e.preventDefault(),o=l.slice((u-1)*s,u*s),u-=1,c()})})})};window.embedSettings.showArticles?evertest.getArticlesForEmbed(window.embedUUID).then(function(e){l=e,o=l.slice(0,s),c()}):(l=[],c())},GameScreen.showNoGameScreen=function(){var e=gameUser.player1.find(".userImage").html(),t=gameUser.player1.find(".userInfo h1").html();dust.render(evertest.getEmbedTemplatePath("apiSingleNoGame"),{thisUserImage:e,thisUserName:t,enableClick:enableClick},function(e,t){$(".api-container,.bottomContainer").fadeOut("300",function(){$("#vsModeStartPage").html(t).fadeIn()})})},GameScreen.showPromotingScreen=function(){var e=gameUser.player1.find(".userImage").html(),t=gameUser.player1.find(".userInfo h1").html();dust.render(evertest.getEmbedTemplatePath("apiVSpromoting"),{thisUserImage:e,thisUserName:t},function(e,t){$(".api-container,.bottomContainer").fadeOut("300",function(){$("#vsModeStartPage").html(t).fadeIn()})})},GameScreen.showNamingPlayerScreen=function(){dust.render(evertest.getEmbedTemplatePath("apiVSnaming"),{},function(e,t){$(".api-container,.bottomContainer").fadeOut("300",function(){$("#vsModeStartPage").html(t).fadeIn()})})},GameScreen.showFindingPlayerScreen=function(e){dust.render(evertest.getEmbedTemplatePath("apiVSloading"),e,function(e,t){$(".api-container,.bottomContainer").fadeOut("300",function(){$("#vsModeStartPage").html(t).fadeIn()})})},GameScreen.showChallengerScreen=function(e,t,n){$("#theOtherUser .userStatus,#theOtherUser .userInfo p").show(),gameUser.player1.find(".userImage").html('<img src="'+e.playerImage+'">'),gameUser.player1.find(".userInfo h1").html(e.playerName),gameUser.player2.find(".userImage").html('<img src="'+t.playerImage+'">'),gameUser.player2.find(".userInfo h1").html(t.playerName),dust.render(evertest.getEmbedTemplatePath("apiVSMatching"),{thisPlayer:e,otherPlayer:t},function(e,t){$("#vsModeStartPage").animate({opacity:0},300,function(){$("#vsModeStartPage").html(t).animate({opacity:1},300,function(){startGameTimer(GamePlay.constants.gotChallengerScreenTimeout,n)})})})},GameScreen.hideChallengerScreen=function(e){console.log("game screen : hideChallengerScreen"),$("#vsModeStartPage").fadeOut(300,function(){$(".bottomContainer,.api-container").fadeIn(),e(GamePlay.currentQuestionNum)})},GameScreen.showResultsScreen=function(e,t){increasePoints(gameUser.player2,t.points),updateTooltip(gameUser.player2,t.resultType,t.points,t.timeTaken),updateUserStatus(gameUser.player2,t.resultType);var n=GamePlay.currentQuestionNum,r=$("#predictionID"+n);$(".vsWaiting").fadeOut("300",function(){(e.resultType===AnswerObj.resultTypes.wrong||e.resultType===AnswerObj.resultTypes.notAnswered)&&(r.find(".halfCol").hide(),r.find('li.api-each-option[optionid="'+questionList.correctList[n]+'"]').addClass("correct"),r.find('.halfCol[optionid="'+questionList.correctList[n]+'"]').css("width","100%").show()),$(".vsStatus").fadeIn(300,function(){$(".arrow_box").css("display","inline-block")})})},GameScreen.showSoloAnswer=function(e,t,n,r){var a=questionList.currentNum-1,i=$("#predictionID"+a),o=AnswerObj.getAnswerObj(a,null,e,t,n),l=questionList.list[a];$(".vsWaiting").fadeOut("300",function(){if(o.resultType===AnswerObj.resultTypes.wrong||o.resultType===AnswerObj.resultTypes.notAnswered){var e=i.find('li.api-each-option[optionid="'+questionList.correctList[a]+'"]'),t=GameScreen.getCorrectText(e);i.find(".vsContent.vsStatus").first().fadeIn(),r.parent().hide(),e.addClass("correct"),e.html(t),e.parent().css("width","100%").show()}}),o.resultType===AnswerObj.resultTypes.wrong?-1===questionList.answeredWrong.indexOf(l)&&questionList.answeredWrong.push(l):o.resultType===AnswerObj.resultTypes.correct&&-1===questionList.answeredCorrect.indexOf(l)&&questionList.answeredCorrect.push(l)},GameScreen.getCorrectText=function(e){var t=e.attr("data-original-text");return t&&t.length?t:e.text()},GameScreen.showResultWaitScreen=function(){$(".vsWaiting").fadeIn()},GameScreen.hideResultWaitScreen=function(){console.log("game screen : hideResultWaitScreen")},GameScreen.showGamePlayInteruptedScreen=function(){clearInterval(timerCount.timer),dust.render(evertest.getEmbedTemplatePath("apiVSInterupted"),{},function(e,t){$("#vsModeStartPage").is(":hidden")?$(".api-container,.bottomContainer").fadeOut("300",function(){$("#vsModeStartPage").html(t).fadeIn()}):$("#vsModeStartPage").animate({opacity:0},300,function(){$("#vsModeStartPage").html(t).animate({opacity:1},300)})}),GamePlay.startTimer(4e3,function(){VsModeImpl.goBackToSoloMode(function(){location.reload(!0)})})},GameScreen.gameCompletedScreen=function(e){var t=e;t.enableSocial=enableSocial,t.enableLeaderboard=enableLeaderboard,dust.render(evertest.getEmbedTemplatePath("apiVSResult"),t,function(e,t){$(".api-container,.bottomContainer").fadeOut("300",function(){$("#vsModeStartPage").html(t).fadeIn(),updateTheSocialLink()})}),VsModeImpl.stopVsMode()},GameScreen.showNextQuestion=function(e){$(".arrow_box,.vsStatus").hide(),$(".userStatus .current").removeClass("current"),GameScreen.handleSlideUpAndDown(e),e+=1,$(".userStatus span:nth-child("+e+")").addClass("current")},GameScreen.handleSlideUpAndDown=function(e){var t=$("#predictionID"+e);if(updateTheSocialLink(),0===e)t.fadeIn(500,function(){GameScreen.showVSWatchTimer()});else{var n=e-1;$("#predictionID"+n).fadeOut(500,function(){t.fadeIn(500,function(){GameScreen.showVSWatchTimer()})})}},GameScreen.showLeaderboard=function(){$("#vsModeStartPage").fadeOut(300,function(){$(".api-container,.bottomContainer").show(),$('.btn[targetContainer="column2"]').trigger("click")})},GameScreen.showVSWatchTimer=function(){timerCount.timerCurrent=timerCount.timerSeconds,timerCount.timerPoints=questionList.points[questionList.currentNum],$("#predictionID"+questionList.currentNum).find(".timer").html('<div class="percent">'+timerCount.timerCurrent+'</div><div class="time-bg"></div>').show(),timerCount.timer=setInterval(function(){stopWatch()},1e3)},define("gameScreen",function(){}),GameStats.getGameStats=function(){var e=VsResponse.thisPlayer.getTotalPoints(),t=VsResponse.otherPlayer.getTotalPoints(),n=!1;e>=t&&(n=!0);var r={isCurrentPlayerWinner:n,thisPlayer:{playerInfo:VsResponse.thisPlayer.serialize(),totalPoints:e},otherPlayer:{playerInfo:VsResponse.otherPlayer.serialize(),totalPoints:t}};return r},define("gameStats",function(){}),Message.controlType={pair:"pairRequest",pairResponse:"pairResponse",quesAnswered:"answer",gameCompleted:"gameComplete"},Message.getGameMessage=function(e,t){if(null===e)return console.error("ERROR: invalid game message type"),null;var n={controlType:e,responseChannel:VsResponse.thisPlayer.pubNubChannel,message:t};return n},Message.getPairMessage=function(e,t,n){var r={thisPlayer:e,otherPlayer:t,questionObj:n};return Message.getGameMessage(Message.controlType.pair,r)},Message.validatePairRequest=function(e){var t=e.message,n=t.otherPlayer.playerUUID;return n===VsResponse.thisPlayer.playerUUID?!0:(console.error("playerId dont match : "+n),!1)},define("gameMessage",function(){}),PlayerInfo.generateUUID=function(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)});return t},define("gamePlayer",function(){}),PubNubUtils.pubnub=null,PubNubUtils.publishMessage=function(e,t){PubNubUtils.pubnub.publish({channel:e,message:t,error:function(n){console.log("Message send failed - ["+JSON.stringify(n)+"] - Retrying in 3 seconds!"),setTimeout(PubNubUtils.publishMessage(e,t),2e3)}})},PubNubUtils.unsubscribeChannel=function(e){PubNubUtils.pubnub.unsubscribe({channel:e})},PubNubUtils.initPubnub=function(e){console.log("loading pubnub now"),$.ajax({url:"//cdn.pubnub.com/pubnub.min.js",dataType:"script",cache:!0,success:function(){PubNubUtils.pubnub=PUBNUB.init({publish_key:$("#Insticator_Pubnub_Publish_Key").val(),subscribe_key:$("#Insticator_Pubnub_Subscribe_Key").val(),origin:"pubsub.pubnub.com",ssl:!0}),e()},error:function(){VsModeEvent.gameInterrupted("UnableToLoadPubNUb")}})},PubNubUtils.subscribe=function(e,t,n,r,a,i,o){PubNubUtils.pubnub.subscribe({channel:e,message:t,connect:n,disconnect:r,reconnect:a,error:i,presence:o,restore:!0})},PubNubUtils.handleError=function(e){console.log("handleError"+JSON.stringify(e))},PubNubUtils.handleConnect=function(){console.log("handleConnect")},PubNubUtils.handleDisconnect=function(){console.log("handleDisconnect")},PubNubUtils.handleReconnect=function(){console.log("handleReconnect")},PubNubUtils.handlePresence=function(e){console.log("handle Presence: "+JSON.stringify(e))},define("gamePubnul",function(){}),VsModeImpl.getPlayerUUID=function(){var e;if(userIsLoggedIn())e=getCurrentUserUUID();else{var t="instciator_playerUUID";e=$.cookie(t),"undefined"==typeof e&&(e=PlayerInfo.generateUUID(),$.cookie(t,e,{path:"/"}))}return e},VsModeImpl.getPlayerName=function(){var e;return e=gameUser.player1Name},VsModeImpl.clearHTML=function(){$("#triviaContainer .apiEachTri").remove(),$("#currentUser .userInfo p span").html("0"),$(".userStatus").html(""),$("#vsModeStartPage").html(""),$(".vsModeStartPage").hide()},VsModeImpl.initializeVariables=function(){VsResponse.responseStatus=null,VsResponse.thisPlayer=null,VsResponse.otherPlayer=null,GamePlay.initiator=null,GamePlay.pairingStatus=!1,GamePlay.currentQuestionNum=0,GamePlay.questionsObj=null,GamePlay.questionsSize=null,questionList.correctList=[],questionList.points=[],questionList.currentNum=0},VsModeImpl.requestVsMode=function(){PubNubUtils.initPubnub(function(){vsMode=!0,VsModeImpl.requestCreateBotva()})},VsModeImpl.restartVsMode=function(){VsModeImpl.requestVsMode()},VsModeImpl.requestCreateBotva=function(e){$.ajax({type:"GET",url:"/gameplay/requestcreatebot",data:{embedUUID:$("#widgetSettingUUID").val(),playerUUID:VsModeImpl.getPlayerUUID(),playerName:VsModeImpl.getPlayerName()},dataType:"json",success:function(e){VsModeImpl.clearHTML(),VsModeImpl.initializeVariables(),vsMode=!0,(new VsResponse).handleVsModeResponse(e)},error:function(t){console.error("unable to send requestCreateBotva: "+JSON.stringify(t)),vsMode=!1,"undefined"==typeof e?(console.log("retrying the request"),VsModeImpl.requestCreateBotva(!0)):GamePlay.interrupted(GamePlay.interruptReason.errorInRequestVsMode)}})},VsModeImpl.stopVsMode=function(){if("undefined"!=typeof VsResponse.thisPlayer&&null!==VsResponse.thisPlayer&&VsResponse.thisPlayer.unsubscribe(),"undefined"!=typeof VsResponse.otherPlayer&&null!==VsResponse.otherPlayer){var e=Message.getGameMessage(Message.controlType.gameCompleted,{});console.log(JSON.stringify(e)),VsResponse.otherPlayer.sendMessage(e),VsResponse.otherPlayer.unsubscribe()}vsMode=!1,VsModeImpl.initializeVariables()},VsModeImpl.goBackToSoloMode=function(e){VsModeImpl.cancelVsModeRequest(e)},VsModeImpl.cancelVsModeRequest=function(e){$.ajax({type:"GET",url:"/gameplay/cancelrequestvsmode",data:{embedUUID:$("#widgetSettingUUID").val(),playerUUID:VsModeImpl.getPlayerUUID()},dataType:"json",async:!1,success:function(e){console.log("cancel request : "+JSON.stringify(e))},error:function(e){console.error("cancel request error: "+JSON.stringify(e))},complete:function(){VsModeImpl.stopVsMode(),e()}})},VsModeImpl.clearAllTimers=function(){for(var e=window.setTimeout(function(){},0);e--;)window.clearTimeout(e)},define("gameVsModel",function(){}),VsResponse.responseStatusType={wait:0,pair:1,retry:-1},VsResponse.vsConstants={wait_timeout:2500},VsResponse.responseStatus=null,VsResponse.thisPlayer=null,VsResponse.otherPlayer=null,define("gameVsResponse",function(){}),function(){function e(e,r){return e.write('<div class="article-screen-layout"><div class="score-summary"><h3 class="heading-small">Your score summary:</h3><div class="score-summary-results clear"><div class="score-summary-result"><span class="score-summary-count green">').reference(r.getPath(!0,["userStatus","correctAnswers"]),r,"h").write("</span><span>").reference(r.getPath(!0,["userStatus","correctPercentage"]),r,"h").write('%</span></div><div class="timer timer-result score-summary-result"><div id="slice"><div class="pie" style="transform: rotate(').reference(r.getPath(!0,["userStatus","pieDeg"]),r,"h").write('deg);"></div></div><div class="time-bg"></div></div><div class="score-summary-result"><span class="score-summary-count red">').reference(r.getPath(!0,["userStatus","wrongAnswers"]),r,"h").write("</span><span>").reference(r.getPath(!0,["userStatus","wrongPercentage"]),r,"h").write('%</span></div></div></div><div class="btn btn-article" onclick=\'gobackSingleMode()\'><i class="fa fa-arrow-left"></i>Single player mode</div><br />').exists(r.getPath(!0,["enableVSmode"]),r,{block:t},{}).exists(r.get(["articles"],!1),r,{block:n},{}).write("</div>")}function t(e){return e.write('<button class="btn btn-article" onclick="startVsMode(event, this)">Play against an opponent</button>')}function n(e,t){return e.write('<h4 class="heading-small">Now go and read these great posts:</h4><ul class="article-list">').section(t.get(["articles"],!1),t,{block:r},{}).write('</ul><div class="bottom-arrows clear"><a href="#" class="prevPoll"><span class="fa-arrow-left"></span></a><span class="bottom-arrows-caption">Show more articles</span><a href="#" class="nextPoll"><span class="fa-arrow-right"></span></a></div>')}function r(e,t){return e.write('<li><a href="').reference(t.getPath(!0,["articleURL"]),t,"h").write('" target="_blank"><div class="img-wrapper">').exists(t.get(["articleImageURL"],!1),t,{block:a},{}).write("</div><p>").reference(t.getPath(!0,["articleTitle"]),t,"h").write("</p></a></li>")}function a(e,t){return e.write('<img src="').reference(t.getPath(!0,["articleImageURL"]),t,"h").write('" alt="Article image">')}return dust.register("templates/embed/showArticlesScreen",e),e}(),define("articlesScreen",function(){}),function(){function e(e,n){return e.section(n.getPath(!0,[]),n,{block:t},{})}function t(e,t){return e.write('<div class="apiEachTri" id="predictionID').reference(t.get(["$idx"],!1),t,"h").write('" predictionuuid="').reference(t.getPath(!0,["prediction","predictionUUID"]),t,"h").write('" winningPoints="').reference(t.getPath(!0,["prediction","predictionWinningPoints"]),t,"h").write('">').helper("if",t,{block:n},{cond:s}).write('<div class="api-pre-info clear"><div class="left-30"><div class="timer"></div></div><div class="right-70"><div class="pre-tv-show clickable" hrefLink=\'').helper("getEmbedPageURL",t,{},{}).write('\' analyticsValue="toInsticator" analyticsEventClass="categoryTitle">').reference(t.getPath(!0,["tvShowTitle"]),t,"h").write('</div><!--INFOLINKS_ON--><div class="api-pre-title" title="').reference(t.getPath(!0,["prediction","predictionTitle"]),t,"h").write('">').reference(t.getPath(!0,["prediction","predictionTitle"]),t,"h").write('</div><!--INFOLINKS_OFF--></div></div><div class="questions-container"><div class="tooltip difficultyTooltip"><p class="tooltip-text"></p></div><div class="api-option-container enabledOption"><div class="api-pre-option"><ul class="ullist" predictionuuid="').reference(t.getPath(!0,["prediction","predictionUUID"]),t,"h").write('">').section(t.getPath(!0,["predictionOption"]),t,{block:u},{predType:t.getPath(!0,["prediction","predictionType"]),preuuid:t.getPath(!0,["prediction","predictionUUID"])}).write("</ul></div></div></div></div>")
}function n(e,t){return e.write('<div class="api-pre-img">').helper("if",t,{"else":r,block:i},{cond:l}).write("</div>")}function r(e,t){return e.write('<img class="pre-img clickable lazyload" hrefLink=\'').helper("getEmbedPageURL",t,{},{}).write('\' analyticsValue="toInsticator" analyticsEventClass="questionImage" data-src=\'').helper("imgsrc",t,{},{type:"prediction",subtype:"original",uuid:a}).write("'>")}function a(e,t){return e.reference(t.getPath(!0,["prediction","predictionUUID"]),t,"h")}function i(e,t){return e.write('<img class="pre-img clickable lazyload" hrefLink=\'').helper("getEmbedPageURL",t,{},{}).write('\' analyticsValue="toInsticator" analyticsEventClass="questionImage" data-src=\'').helper("imgsrc",t,{},{type:"prediction",subtype:"landscape",uuid:o}).write("'>")}function o(e,t){return e.reference(t.getPath(!0,["prediction","predictionUUID"]),t,"h")}function l(e,t){return e.write("'").reference(t.get(["dataWidth"],!1),t,"h").write("' == 'true'")}function s(e,t){return e.write("'").reference(t.get(["showQuestionImages"],!1),t,"h").write("' == 'true'")}function u(e,t){return e.write('<div class="halfCol" optionid="').reference(t.get(["predictionOptionUUID"],!1),t,"h").write('"><li optionid="').reference(t.get(["predictionOptionUUID"],!1),t,"h").write('" class="api-each-option focused" title="').reference(t.get(["predictionOption"],!1),t,"h").write('"><span>').reference(t.get(["predictionOption"],!1),t,"h").write("</span></li></div>")}return dust.register("templates/embed/apiEachQuestion",e),e}(),define("apiEachQuestion",function(){}),function(){function e(e,n){return e.section(n.getPath(!0,[]),n,{block:t},{})}function t(e,t){return e.write('<div class="apiEachPoll" id="pollID').reference(t.get(["$idx"],!1),t,"h").write('" polluuid="').reference(t.getPath(!0,["prediction","predictionUUID"]),t,"h").write('"><div class="pre-tv-show clickable" hrefLink=\'').helper("getEmbedPageURL",t,{},{}).write('\' analyticsValue="toInsticator" analyticsEventClass="categoryTitle">').reference(t.getPath(!0,["tvShowTitle"]),t,"h").write(' poll:</div><!--INFOLINKS_ON--><div class="api-pre-title" title="').reference(t.getPath(!0,["prediction","predictionTitle"]),t,"h").write('">').reference(t.getPath(!0,["prediction","predictionTitle"]),t,"h").write('</div><!--INFOLINKS_OFF--><ul class="ullist poll-list" predictionuuid="').reference(t.getPath(!0,["prediction","predictionUUID"]),t,"h").write('">').section(t.getPath(!0,["predictionOption"]),t,{block:n},{}).write("</ul></div>")}function n(e,t){return e.write('<li optionid="').reference(t.get(["predictionOptionUUID"],!1),t,"h").write('" class="api-each-option focused" title="').reference(t.get(["predictionOption"],!1),t,"h").write('"><span>').reference(t.get(["predictionOption"],!1),t,"h").write("</span></li>")}return dust.register("templates/embed/apiEachPoll",e),e}(),define("apiEachPoll",function(){}),function(){function e(e,t){return e.write('<div class="vs2"><div class="vsUser"><div class="vsUserContainer"><div class="vsUserImage">').reference(t.get(["thisUserImage"],!1),t,"h",["s"]).write('</div></div></div><div class="vsContent"><p class="bottomP">Hey <span class="highLightPts">').reference(t.get(["thisUserName"],!1),t,"h").write('</span>, You have answered<br>all of the trivia in this community</p><h1>Good Work!</h1></div><div class="user-new-ss" style="margin: 80px 0px;"><div class="ss-container"><div class="ss-box ss-submit" onclick=\'VsModeImpl.requestVsMode();\'>Challenge an Opponent</div></div></div></div>')}return dust.register("templates/embed/apiSingleNoGame",e),e}(),define("apiSingleNoGame",function(){}),function(){function e(e){return e.write('<div class="vs4"><div class="vsUserImage"><i class="fa fa-wifi"></i></div><div class="vsContent"><i class="fa fa-frown-o"></i><p class="bottomP">Connection Lost</p></div><div class="btnContainer backToSingleBtn"><div class="btn" onclick="location.reload(true)"><i class="fa fa-refresh"></i>Reload</div></div></div>')}return dust.register("templates/embed/apiVSInterupted",e),e}(),define("apiVSInterupted",function(){}),function(){function e(e,t){return e.write('<div class="vs1"><div class="vsUser"><div class="vsUserContainer"><div class="vsUserImage"><img src="').reference(t.get(["playerImage"],!1),t,"h").write('"></div></div><div class="vsContent"><p class="bottomP">Hi <span class="highLightPts">').reference(t.get(["playerName"],!1),t,"h").write('</span>! Hang in there<br>while we find you an opponent.<br></p></div></div><div class="vsContent"><div class="customLoading"></div><p class="bottomP">Looking for an<br>opponent</p></div><div class="btnContainer backToSingleBtn"><div class="btn" onclick="gobackSingleMode()"><i class="fa fa-arrow-left"></i>Never mind, back to solo mode</div></div></div>')}return dust.register("templates/embed/apiVSloading",e),e}(),define("apiVSloading",function(){}),function(){function e(e,t){return e.write('<div class="vs2"><div class="vsUser"><div class="vsUserContainer"><div class="vsUserImage"><img src="').reference(t.getPath(!1,["thisPlayer","playerImage"]),t,"h").write('" ></div></div><div class="vsUserContainer">VS</div><div class="vsUserContainer"><div class="vsUserImage"><img src="').reference(t.getPath(!1,["otherPlayer","playerImage"]),t,"h").write('" ></div></div></div><div class="vsContent"><h1>Are You Ready?<br></h1><p class="bottomP"><span class="highLightPts">').reference(t.getPath(!1,["otherPlayer","playerName"]),t,"h").write('</span> wants to play.</p><p class="bottomP"><br><br><br><br><br></p><div class="vsModeStartTimer"><div class="timer"><div class="percent">5</div><div class="time-bg"></div></div></div></div><div class="btnContainer backToSingleBtn"><div class="btn" onclick="gobackSingleMode()"><i class="fa fa-arrow-left"></i>Never mind, back to solo mode</div></div></div>')}return dust.register("templates/embed/apiVSMatching",e),e}(),define("apiVSMatching",function(){}),function(){function e(e){return e.write('<div class="vs1"><div class="vsContent"><div class="loginUserImage"><i class="fa fa-user"></i></div><h1>What\'s your name?</h1><p class="bottomP darkColorP">&nbsp;</p></div><div class="user-new-ss"><div class="ss-container"><div class="ss-box ss-submit" style="background-color: #3b5998;color:#fff" onclick=\'setCustomCookie("facebookUserVS",1);return facebookOnClick(event,this);\'><i class="fa fa-facebook"></i>LOG IN WITH FACEBOOK</div><div class="vsContent" style="text-align: center"><h1>OR</h1></div><input id="tempGuestName" class="ss-box ss-input" maxlength="100" value="Your name" tabindex="1"><script>$( "#tempGuestName").val(gameUser.player1Name);$( "#tempGuestName" ).change(function() {gameUser.player1Name = $(this).val();});</script><input class="ss-box ss-submit" type="submit" value="Play as a guest" class="btn btn-info loginButton" onclick="VsModeImpl.requestVsMode()" tabindex="3"></div></div><div class="btnContainer backToSingleBtn"><div class="btn" onclick="gobackSingleMode()"><i class="fa fa-arrow-left"></i>Never mind, back to solo mode</div></div></div>')}return dust.register("templates/embed/apiVSnaming",e),e}(),define("apiVSnaming",function(){}),function(){function e(e,t){return e.write('<div class="vs2"><div class="vsContent" style="margin-top: 50px;"><h1>Go VS Mode!</h1><p class="darkColorP">Show your skills against someone<br>in the world!</p></div><div class="vsUser"><div class="vsUserContainer"><div class="vsUserImage">').reference(t.get(["thisUserImage"],!1),t,"h",["s"]).write('</div><div class="vsContent"><p><span class="highLightPts">').reference(t.get(["thisUserName"],!1),t,"h").write('</span><br>&nbsp;</p></div></div><div class="vsUserContainer">VS</div><div class="vsUserContainer"><div class="vsUserImage"><img src=\'').helper("getEvertestURL",t,{},{}).write('/public/webimages/userIcon/icon_24.jpg\'></div><div class="vsContent"><p><span class="highLightPts">David Juffe</span><br>Site Champion</p></div></div></div><div class="user-new-ss" style="margin:40px auto;"><div class="ss-container"><div class="ss-box ss-submit" onclick=\'$(".playVSBtn").trigger("click");\'>Play Now</div></div></div><div class="vsContent" style="margin-bottom:50px;"><p class="bottomP"><span class="highLightPts"><i class="fa fa-check-square-o"></i></span>One on one score attack<br><span class="highLightPts"><i class="fa fa-check-square-o"></i></span>Five trivia questions in a row<br><span class="highLightPts"><i class="fa fa-check-square-o"></i></span>Faster answers score higher<br></p></div><div class="btnContainer backToSingleBtn"><div class="btn" onclick="setCustomCookie(\'ck_dontShowVSPromotingScreen\', 60);gobackSingleMode()"><i class="fa fa-arrow-left"></i>Never mind, back to solo mode</div></div></div>')}return dust.register("templates/embed/apiVSpromoting",e),e}(),define("apiVSpromoting",function(){}),function(){function e(e,i){return e.write('<div class="vs3"><div class="vsUser"><div class="vsUserContainer"><div class="vsUserImage"><img src="').reference(i.getPath(!0,["thisPlayer","playerInfo","playerImage"]),i,"h").write('" ></div><div class="vsContent"><p style="font-size: 16px;margin-top:20px;line-height: 24px;" class=').helper("if",i,{"else":t,block:n},{cond:r}).reference(i.getPath(!0,["thisPlayer","totalPoints"]),i,"h").write("</span> pts<br>").section(i.getPath(!0,["thisPlayer","playerInfo","answersArray"]),i,{block:a},{}).write('</p></div></div><div class="vsUserContainer">VS</div><div class="vsUserContainer"><div class="vsUserImage"><img src="').reference(i.getPath(!0,["otherPlayer","playerInfo","playerImage"]),i,"h").write('" ></div><div class="vsContent"><p style="font-size: 16px;margin-top:20px;line-height: 24px;" class=').helper("if",i,{"else":s,block:u},{cond:p}).reference(i.getPath(!0,["otherPlayer","totalPoints"]),i,"h").write("</span> pts<br>").section(i.getPath(!0,["otherPlayer","playerInfo","answersArray"]),i,{block:c},{}).write('</p></div></div><div class="user-new-ss" style="margin:20px auto;"><div class="ss-container">').helper("if",i,{block:h},{cond:g}).write('<div class="ss-box ss-submit" onclick=\'GamePlay.playRematch(event, this)\'><i class="fa fa-reply"></i>Rematch</div><div class="ss-box ss-submit" onclick=\'VsModeImpl.requestVsMode()\'><i class="fa fa-child"></i>Find another opponent</div><div class="ss-box ss-submit" onclick=\'gobackSingleMode()\'><i class="fa fa-arrow-left"></i>Single player mode</div></div></div>').helper("if",i,{block:v},{cond:A}).write("<script>var referralURL = $('#referralURL' ).val();console.log(\"referralURL: \" + referralURL);var pwidget_config = {defaults: {url: referralURL}};</script></div></div>")}function t(e){return e.write('"bottomP"><span><i class="fa fa-trophy"></i></i></span>You Win!<br><span class="highLightPts">')}function n(e){return e.write('"bottomP darkColorP"><span><i class="fa fa-frown-o"></i></i></span> You lose<br><span>')}function r(e,t){return e.write("'").reference(t.getPath(!0,["isCurrentPlayerWinner"]),t,"h").write("' != 'true'")}function a(e,t){return e.helper("if",t,{"else":i,block:o},{cond:l})}function i(e){return e.write('<span><i class="fa fa-times"></i></span>')}function o(e){return e.write('<span><i class="fa fa-check"></i></span>')}function l(e,t){return e.write("'").reference(t.get(["resultType"],!1),t,"h").write("' == '1'")}function s(e){return e.write('"bottomP"><span><i class="fa fa-trophy"></i></i></span> Winner!<br><span class="highLightPts">')}function u(e){return e.write('"bottomP darkColorP"><span><i class="fa fa-frown-o"></i></i></span> You lose<br><span>')}function p(e,t){return e.write("'").reference(t.getPath(!0,["isCurrentPlayerWinner"]),t,"h").write("' == 'true'")}function c(e,t){return e.helper("if",t,{"else":d,block:f},{cond:m})}function d(e){return e.write('<span><i class="fa fa-times"></i></span>')}function f(e){return e.write('<span><i class="fa fa-check"></i></span>')}function m(e,t){return e.write("'").reference(t.get(["resultType"],!1),t,"h").write("' == '1'")}function h(e){return e.write('<div class="ss-box ss-submit resultLeaderboard" onclick=\'GameScreen.showLeaderboard();\'><i class="fa fa-trophy"></i>Leaderboard</div>')}function g(e,t){return e.write("'").reference(t.getPath(!0,["enableLeaderboard"]),t,"h").write("' == 'true'")}function v(e,t){return e.write('<div class="vsContent"><h1 style="font-size: 18px;">Share your results</h1><div id="winnerShare" class="btnContainer" style="margin-top: 20px;" title=').helper("if",t,{"else":y,block:b},{cond:w}).write('<div class="thirdCol" style="width: 45px"><div class="btn fb-icon" onclick="" firsthref="https://www.facebook.com/sharer/sharer.php?u=" secondhref="" gameshare="1"><i class="fa fa-facebook"></i></div></div><div class="thirdCol" style="width: 45px"><div class="btn twitter-icon" onclick="" firsthref="https://twitter.com/share?url=" secondhref="&text=" gameshare="1"><i class="fa fa-twitter"></i></div></div><div class="thirdCol" style="width: 45px"><div class="btn tum-icon" onclick="" firsthref="http://tumblr.com/share?s=&v=3&u=" secondhref="&t=" gameshare="1"><i class="fa fa-tumblr"></i></div></div></div></div>')}function y(e){return e.write('"I won the game!">')}function b(e){return e.write('"You are lucky...">')}function w(e,t){return e.write("'").reference(t.getPath(!0,["isCurrentPlayerWinner"]),t,"h").write("' != 'true'")}function A(e,t){return e.write("'").reference(t.getPath(!0,["enableSocial"]),t,"h").write("' == 'true'")}return dust.register("templates/embed/apiVSResult",e),e}(),define("apiVSResult",function(){}),function(){function e(e,n){return e.write('<div><div class="pre-tv-show clickable">Results:</div><!--INFOLINKS_ON--><div class="api-pre-title" title="').reference(n.getPath(!0,["prediction","predictionTitle"]),n,"h").write('">').reference(n.getPath(!0,["prediction","predictionTitle"]),n,"h").write('</div><!--INFOLINKS_OFF--><ul class="results-list">').section(n.getPath(!0,["predictionOption"]),n,{block:t},{}).write("</ul></div>")}function t(e,t){return e.write('<li><div class="horizontal-bar-wrapper"><div class="horizontal-bar-details clear"><p class="horizontal-bar-text"><span class="horizontal-bar-percent">').reference(t.getPath(!0,["percent"]),t,"h").write("%</span> ").reference(t.getPath(!0,["predictionOption"]),t,"h").write('</p><span class="horizontal-bar-votes">').reference(t.getPath(!0,["votes"]),t,"h").write('</span></div><div class="horizontal-bar"><div class="horizontal-bar-inner" style="width: ').reference(t.getPath(!0,["percent"]),t,"h").write('%;"></div></div></div></li>')}return dust.register("templates/embed/pollResult",e),e}(),define("pollResult",function(){});var triviaGroupsCall={},TriviaGroupTypes={TRIVIA:"TRIVIA",POLL:"POLL"},TriviaGroupCodes={TRIVIA:1,POLL:2};triviaGroupsCall.getalltriviagroupsforclient=function(e,t,n){$.ajax({type:"GET",url:"/triviagroup/getalltriviagroupsforclient",data:e,dataType:"json",async:!1,success:function(e){t(e)},error:function(e){n(e)}})},triviaGroupsCall.gettriviagroupsbytypeforclient=function(e,t,n){$.ajax({type:"GET",url:"/triviagroup/gettriviagroupsbytypeforclient",data:e,dataType:"json",async:!1,success:function(e){t(e)},error:function(e){n(e)}})},triviaGroupsCall.createtriviagroup=function(e,t,n){$.ajax({type:"POST",url:"/triviagroup/createtriviagroup",data:e,success:function(e){t(e)},error:function(e){n(e)}})},triviaGroupsCall.edittriviagroup=function(e,t,n){$.ajax({type:"POST",url:"/triviagroup/edittriviagroup",data:e,success:function(e){t(e)},error:function(e){n(e)}})},triviaGroupsCall.removetriviagroup=function(e,t,n){$.ajax({type:"POST",url:"/triviagroup/removetriviagroup",data:e,success:function(e){t(e)},error:function(e){n(e)}})},define("triviaGroup_control",function(){});var KeenEventStirngs={jsSessionCookie:"jsSessionCookie",jsPermanentCookie:"jsPermanentCookie",PredictEvent:"predict",UcpEvent:"ucp",SignupLoginEvent:"signupLogin",SearchEvent:"search",RedeemRewardEvent:"redeemReward",LoginEvent:"login",DynamicWalkthroughEvent:"dynamicWalkthrough",AccountActivateEvent:"accountActivate",PageVisitEvent:"pageVisit",ClickEvent:"click",HoverEvent:"hover",PubnubMessageSentEvent:"pubnubMessageSentEvent",AnswerQuestion:"answerQuestion",VsModeEvent:{GameStarted:"gameStartedEvent",GameCompleted:"gameCompletedEvent",GameInterrupted:"gameInterruptedEvent"},GlobalProperties:""};requirejs(["keen_io"],function(){requirejs(["keen_utils","jquerycookie","keenmath"],function(){var e=function(){function t(){$.cookie.json=!0;var e=new Date,t=e;t.setMinutes(t.getMinutes()+30);var n=$.cookie(KeenEventStirngs.jsSessionCookie);void 0===n?$.cookie(KeenEventStirngs.jsSessionCookie,{id:Math.uuid(),time:e},{expires:t,path:"/"}):($.removeCookie(KeenEventStirngs.jsSessionCookie,{path:"/"}),$.cookie(KeenEventStirngs.jsSessionCookie,n,{expires:t,path:"/"}));var r=$.cookie(KeenEventStirngs.jsPermanentCookie);void 0===r&&$.cookie(KeenEventStirngs.jsPermanentCookie,{id:Math.uuid(),time:e},{expires:3650,path:"/"})}function n(){function e(){return{jsPermanentCookie:$.cookie(KeenEventStirngs.jsPermanentCookie),jsSessionCookie:$.cookie(KeenEventStirngs.jsSessionCookie)}}function t(){return"true"===$("#isUserMobile").val()?"mobile":"desktop"}return{project:"embed",siteVersion:t(),jsSession:e(),user:{userUUID:$("#userUUID").val(),userName:$("#curr_userName").val()},request:{url:document.URL,urlInfo:{},clientUUID:$("#clientUUID").val(),siteURL:$("#siteURL").val(),siteUUID:$("#siteUUID").val(),embedName:$("#embedName").val(),embedUUID:$("#widgetSettingUUID").val()},visitor:{ipAddress:"${keen.ip}",geo:{},userAgent:"${keen.user_agent}",tech:{},referrer:document.referrer,referrerInfo:{}},keen:{addons:[{name:"keen:ip_to_geo",input:{ip:"visitor.ipAddress"},output:"visitor.geo"},{name:"keen:ua_parser",input:{ua_string:"visitor.userAgent"},output:"visitor.tech"},{name:"keen:url_parser",input:{url:"request.url"},output:"request.urlInfo"},{name:"keen:referrer_parser",input:{referrer_url:"visitor.referrer",page_url:"request.url"},output:"visitor.referrerInfo"}]}}}function r(e,t,n){function r(){l.addEvent(e,t,function(e,t){e?s&&console.error("keen : "+e):s&&console.log(JSON.stringify(t)),n&&n()})}function a(e,t){var n={};for(var r in e)n[r]=e[r];for(var a in t)n[a]=t[a];return n}function i(e){return a(KeenEventStirngs.GlobalProperties,e)}t=i(t),s&&console.log("Sending Event : {}, Properties : {}",e,t),r()}function a(){e.sendEvent(KeenEventStirngs.PageVisitEvent,KeenEventStirngs.GlobalProperties)}function i(){l=keenUtils.client}function o(){$(document).ready(function(){i(),t(),KeenEventStirngs.GlobalProperties=n(),"undefined"!=typeof clientDashBoardPageFlag&&clientDashBoardPageFlag&&(KeenEventStirngs.GlobalProperties.clientDetails=DashBoardUtils.getClientDetails()),"undefined"!=typeof projectsConfig.sendPageVisitEvent&&projectsConfig.sendPageVisitEvent&&a()})}var l=null,s=!0;return{keenClient:l,events:{answerQuestion:function(e,t,n){var a={questionUUID:e,questionOptionUUID:t,type:n};return r(KeenEventStirngs.AnswerQuestion,a),!1},pageVisitEvent:a},refreshGlobalProperties:function(){KeenEventStirngs.GlobalProperties=n()},sendEvent:r,sendGoogleAnalyticsEvent:function(e,t,n){try{ga("send","event",e,t,n)}catch(r){console.log("Unable to send google analytics event: "+r.message)}},init:o}}();e.init(),window.Analytics=e})});var clickEvent=function(e,t,n,r){var a={element:{type:$(t).prop("tagName"),id:$(t).attr("id"),elementClass:$(t).attr("class"),innerHtml:$(t).html(),title:$(t).attr("title"),value:$(t).attr("value"),src:$(t).attr("src"),href:$(t).attr("href"),analyticsValue:$(t).attr("analyticsValue")},type:n,subType:r,logentriesId:"id:: "+("undefined"!=typeof pageId_LE?pageId_LE:"null"),_timestamp:(new Date).getTime()};return e.preventDefault(),Analytics.sendEvent(KeenEventStirngs.ClickEvent,a),Analytics.sendGoogleAnalyticsEvent(KeenEventStirngs.ClickEvent,n,r),!1},clickEventString={customDate:"CLICK_CUSTOM_DATA",exportUsersData:"CLICK_EXPORT_USER_DATA",signup:"CLICK_SIGNUP_POPUP",facebookSignup:"CLICK_SINGUP_FACEBOOK",forgetPassword:"CLICK_FORGET_PASSWORD",staticImage:"CLICK_STATIC_IMAGE",predict:"CLICK_PREDICT",facebookShare:"CLICK_FACEBOOK",twitterShare:"CLICK_TWITTER",tumblrShare:"CLICK_TUMBLR",uploadImage:"CLICK_UPLOAD_IMAGE",toInsticator:"CLICK_TO_INSTICATOR",guestMode:"CLICK_GUEST_MODE",playVsMode:"CLICK_VS_MODE",rematchVsMode:"CLICK_REMATCH_VS_MODE",clientDashabord:"fromClientDashboard",headerIcon:"CLICK_HEADER_ICON",categoryTitle:"CLICK_CATEGORY_TITLE",questionImage:"CLICK_QUESTION_IMAGE",createYourOwnEmbed:"CLICK_CREATE_YOUR_EMBED",leaderboard:"CLICK_IN_LEADERBORD",apiEmbed:"fromApiEmbed",challengeBtn:"fromChallengeBtn",bannerImageBtn:"fromBannerImageBtn",profileImageBtn:"fromProfileImageBtn"},signupLoginEvent=function(e){var t={step:e};return Analytics.sendEvent(KeenEventStirngs.SignupLoginEvent,t),!1},VsModeEvent=function(){return{gameStarted:function(e,t){var n={thisPlayer:e,otherPlayer:t,isWithBot:t.playerUUID.indexOf("bot-")>=0};return Analytics.sendEvent(KeenEventStirngs.VsModeEvent.GameStarted,n),!1},gameCompleted:function(e){var t={gameStats:e,isWithBot:e.otherPlayer.playerInfo.playerUUID.indexOf("bot-")>=0};return Analytics.sendEvent(KeenEventStirngs.VsModeEvent.GameCompleted,t),!1},gameInterrupted:function(e){var t={reason:e};return Analytics.sendEvent(KeenEventStirngs.VsModeEvent.GameInterrupted,t),!1}}}();define("keenevents",function(){}),require(["gameEvertestVal","evertestApi","jquerycookie","keenmath","keen_utils"],function(){require(["pollMetrics","popUpBox","app42","leaderboard","signUpLogin","gameDiffProgress","gameAnswer","gamePlay","gameScreen","gameStats","gameMessage","gamePlayer","gamePubnul","gameVsModel","gameVsResponse","articlesScreen","apiEachQuestion","apiEachPoll","apiSingleNoGame","apiVSInterupted","apiVSloading","apiVSMatching","apiVSnaming","apiVSpromoting","apiVSResult","pollResult","triviaGroup_control","keenevents"],function(e){window.PollMetrics=e,postAction("socialShare","insticator-api-content");var t=0,n=0,r=!0;setInterval(function(){var e=$("#mainContainer").outerHeight(),a=globalSelectors.column1.height();if(t!==e&&(postAction("resize","insticator-api-content"),t=e),enableLeaderboard&&globalSelectors.column2.is(":visible")){var i=globalSelectors.column2.height();if(a!==i){globalSelectors.column1.is(":visible")&&globalSelectors.column2.css("height",a+"px");var o=a-145;$(".tv-leaderboard-container").css("max-height",o+"px")}}if(enableChatting&&globalSelectors.column3.is(":visible")){var l=globalSelectors.column3.height();r&&(evertest.showChatting($("#widgetSettingUUID").val(),$("#chattingTitle").val()),r=!1),a!==l&&globalSelectors.column3.css("height",a+"px")}$(".shining").length&&n%5===0&&$(".shining").toggleClass("active"),n++},100),evertest.getTriviaQuestions(!0,hashtagArray),evertest.getPollsQuestions(!0,embedSettings.pollsHashTagList),embedSettings.showQuestionImages||setMinHeightOfTriviaContainer(250)})}),globalSelectors.body.click(function(){enableRefresh()}),$(".bottomContainer .switchGroup").on("click",".btn:not(.current)",function(){var e=$(this).attr("targetContainer");$(".bottomContainer").find(".current").removeClass("current"),$(this).addClass("current"),$(".col").hide(),$("."+e).css("display","inline-block")}),globalSelectors.column2.on("click",".btn:not(.current)",function(){globalSelectors.column2.hide(),globalSelectors.column3.css("display","inline-block")}),globalSelectors.column3.on("click",".btn:not(.current)",function(){globalSelectors.column3.hide(),globalSelectors.column2.css("display","inline-block")}),$("body").on("click",".clickable",function(){if(enableClick===!0){var e=$(this).attr("hrefLink");return postActionToPartnerSite("refreshAd"),postAction("refresh","displayAds1"),postAction("refresh","displayAds2"),window.open(e,"_blank"),!1}return!1}),$("body").on("click",".btn",function(){postActionToPartnerSite("refreshAd"),postAction("refresh","displayAds1"),postAction("refresh","displayAds2")}),$("body").on("click",".enabledOption .focused",function(e){clickEvent(e,this,clickEventString.predict,clickEventString.apiEmbed,!1);var t=$(this).attr("optionid"),n=$(this).parent().parent().attr("predictionuuid"),r=$('.apiEachTri[predictionuuid="'+n+'"]');Analytics.events.answerQuestion(n,t,TriviaGroupTypes.TRIVIA),showResult(questionList.correctList[questionList.currentNum],t,r),postActionToPartnerSite("refreshAd"),postAction("refresh","displayAds1"),postAction("refresh","displayAds2")}),attachAnalyticsClickEvents(),window.addEventListener("message",executeAction,!1),$(".playVSBtn").click(startVsMode);var EmbedUtils=function(){return{getQuesOptionElements:function(e){var t;return t=e?$(".apiEachTri:visible").find(".enabledOption").find("li,.api-each-option"):$(".apiEachTri").find(".enabledOption").find("li,.api-each-option")},getQuesOptionElement:function(e){return $("[optionid='"+e+"']").find("li")},checkForPolls:function(){function e(e){var t=setInterval(function(){window.pollList.loadPollsAjaxCompleted&&(clearInterval(t),e())},window.pollList.checkPollsLoadedInterval)}function t(){$("#triviaIsLoading").hide(),embedSettings.showPolls&&window.pollList.list.length>0?(window.pollList.autoContinuePoll.active=!0,showPolls()):GameScreen.showNoGameScreen()}console.log("inside checl POlls "),window.pollList.loadPollsAjaxCompleted?t():e(t)}}}();define("embed/solo-mode",function(){}),require(["main"],function(){require(["jquery"],function(){require(["embed/globals"],function(){require(["fastclick","lazysizes","embed/solo-mode"],function(e){e.attach(document.body)})})})}),define("main-embed",function(){});
//# sourceMappingURL=main-embed.js.map