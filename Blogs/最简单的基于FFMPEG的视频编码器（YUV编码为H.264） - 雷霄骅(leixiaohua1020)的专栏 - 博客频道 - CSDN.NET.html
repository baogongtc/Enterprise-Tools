<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0060)http://blog.csdn.net/leixiaohua1020/article/details/25430425 -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script type="text/javascript" async="" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/ecom"></script>   
    
     
    <script type="text/javascript" async="" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/ecom(1)"></script><script type="text/javascript" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/tracking.js" charset="utf-8"></script>  

    <script type="text/javascript">
        var protocol = window.location.protocol;
        document.write('<script type="text/javascript" src="' + protocol + '//csdnimg.cn/pubfooter/js/repoAddr2.js?v=' + Math.random() + '"></' + 'script>');
    </script><script type="text/javascript" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/repoAddr2.js"></script>

  
 <meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" media="handheld" href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#">

    <title>最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏
        - 博客频道 - CSDN.NET</title>
    
    <meta name="description" content="1、如图一所示：在iReport左侧的“ReportInspector”中找到“Variables”项，在其上单击右键，选择“添加variable(A)”，然后在窗体右侧的“variable-属性”中将变量命名为“index”图一2、如图二所示：变量表达式为$V{index}.valueOf( 1 )，初始值为1图二参考网址：http://hi.baidu.com/lxia">
    <script src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/jquery.js" type="text/javascript"></script>
    <script type="text/javascript" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/ad.js"></script>
        <!--new top-->
       
        <link rel="stylesheet" href="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/index.css">
        <!--new top-->

    <link rel="Stylesheet" type="text/css" href="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/style.css">
    <link id="RSSLink" title="RSS" type="application/rss+xml" rel="alternate" href="http://blog.csdn.net/leixiaohua1020/rss/list">
    <link rel="shortcut icon" href="http://c.csdnimg.cn/public/favicon.ico">
    <link type="text/css" rel="stylesheet" href="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/default.css">
 


<script src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/share.js"></script><link rel="stylesheet" type="text/css" href="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/job_reco.css"><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Hover_Arrow {position: absolute; width: 15px; height: 11px; cursor: pointer}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; color: #666666}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_Menu_Close {position: absolute; width: 31px; height: 31px; top: -15px; left: -15px}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><link href="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/bdsstyle.css" rel="stylesheet" type="text/css"><script type="text/javascript" charset="utf-8" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/main.js"></script><link rel="stylesheet" type="text/css" href="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/style(1).css"><link type="text/css" rel="stylesheet" href="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/style(2).css"><script src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/logger.js"></script><link rel="stylesheet" href="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/share_style0_16.css"></head>
<body><div id="BAIDU_DUP_fp_wrapper" style="position: absolute; left: -1px; bottom: -1px; z-index: 0; width: 0px; height: 0px; overflow: hidden; visibility: hidden; display: none;"><iframe id="BAIDU_DUP_fp_iframe" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/o.html" style="width: 0px; height: 0px; visibility: hidden; display: none;"></iframe></div><iframe frameborder="0" style="display: none;"></iframe><div id="MathJax_Message" style="display: none;"></div>
    
   
      <!--new top-->
    <script id="toolbar-tpl-scriptId" fixed="true" prod="blog" skin="black" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/html.js" type="text/javascript"></script><div class="csdn-toolbar csdn-toolbar-skin-black ">        <div class="container row center-block ">          <div class="col-md-3 pull-left logo clearfix"><a href="http://www.csdn.net/?ref=toolbar" title="CSDN首页" target="_blank" class="icon"></a><a title="频道首页" href="http://blog.csdn.net/?ref=toolbar_logo" class="img blog-icon"></a></div>          <div class="pull-right login-wrap unlogin">            <ul class="btns">              <li class="loginlink"><a href="https://passport.csdn.net/account/login?ref=toolbar" target="_top">登录&nbsp;</a>|<a target="_top" href="http://passport.csdn.net/account/mobileregister?ref=toolbar&amp;action=mobileRegister">&nbsp;注册</a></li>              <li class="search">                <div class="icon on-search-icon">                  <div class="wrap">                    <div class="curr-icon-wrap">                      <div class="curr-icon"></div>                    </div>                    <form action="http://so.csdn.net/search" method="get" target="_blank">                      <input type="hidden" value="toolbar" name="ref" accesskey="2">                      <div class="border">                        <input placeholder="搜索" type="text" value="" name="q" accesskey="2"><span class="icon-enter-sm"></span>                      </div>                    </form>                  </div>                </div>              </li>              <li class="favor">                <div class="icon on-favor-icon">                  <div class="wrap">                    <div class="curr-icon-wrap">                      <div class="curr-icon"></div>                    </div>                    <div style="display:none;" class="favor-success"><span class="msg">收藏成功</span>                      <div class="btns"><span class="btn btn-primary ok">确定</span></div>                    </div>                    <div style="display:none;" class="favor-failed"><span class="icon-danger-lg"></span><span class="msg">收藏失败，请重新收藏</span>                      <div class="btns"><span class="btn btn-primary ok">确定</span></div>                    </div>                    <form role="form" class="form-horizontal favor-form">                      <div class="form-group">                        <div class="clearfix">                          <label for="input-title" class="col-sm-2 control-label">标题</label>                          <div class="col-sm-10">                            <input id="inputTitle" type="text" placeholder="" class="title form-control">                          </div>                        </div>                        <div class="alert alert-danger"><strong></strong>标题不能为空</div>                      </div>                      <div class="form-group">                        <label for="input-url" class="col-sm-2 control-label">网址</label>                        <div class="col-sm-10">                          <input id="input-url" type="text" placeholder="" class="url form-control">                        </div>                      </div>                      <div class="form-group">                        <label for="input-tag" class="col-sm-2 tag control-label">标签</label>                        <div class="col-sm-10">                          <input id="input-tag" type="text" class="form-control tag">                        </div>                      </div>                      <div class="form-group">                        <label for="input-description" class="description col-sm-2 control-label">摘要</label>                        <div class="col-sm-10">                          <textarea id="input-description" class="form-control description"></textarea>                        </div>                      </div>                      <div class="form-group">                        <div class="col-sm-offset-2 col-sm-10 ft">                          <div class="col-sm-4 pull-left">                            <div class="checkbox">                              <label>                                <input type="checkbox" name="share" checked="checked" class="share">公开                              </label>                            </div>                          </div>                          <div class="col-sm-8 pull-right favor-btns">                            <button type="button" class="cancel btn btn-default">取消</button>                            <button type="submit" class="submit btn btn-primary">收藏</button>                          </div>                        </div>                      </div>                    </form>                  </div>                </div>              </li>              <li class="notify">                <div style="display:none" class="number"></div>                <div style="display:none" class="icon-hasnotes-sm"></div>                <div id="header_notice_num"></div>                <div class="icon on-notify-icon">                  <div class="wrap">                    <div class="curr-icon-wrap">                      <div class="curr-icon"></div>                    </div>                    <div id="note1" class="csdn_note">                      <div class="box"></div>                    <iframe src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/saved_resource.html" frameborder="0" allowtransparency="true" style="z-index:-1;position:absolute;top:0;left:0;width:100%;height:100%;background:transparent"></iframe></div>                  </div>                </div>              </li>              <li class="ugc">                <div class="icon on-ugc-icon">                  <div class="wrap clearfix">                    <div class="curr-icon-wrap">                      <div class="curr-icon"></div>                    </div>                    <dl>                      <dt><a href="http://geek.csdn.net/news/expert?ref=toolbar" target="_blank" class="p-news clearfix" style="display:none;"><em class="icon"></em><span>分享资讯</span></a></dt>                      <dt style="border: none;"><a href="http://u.download.csdn.net/upload?ref=toolbar" target="_blank" class="p-doc clearfix"><em class="icon"></em><span>传PPT/文档</span></a></dt>                      <dt><a href="http://bbs.csdn.net/topics/new?ref=toolbar" target="_blank" class="p-ask clearfix"><em class="icon"></em><span>提问题</span></a></dt>                      <dt><a href="http://write.blog.csdn.net/postedit?ref=toolbar" target="_blank" class="p-blog clearfix"><em class="icon"></em><span>写博客</span></a></dt>                      <dt><a href="http://u.download.csdn.net/upload?ref=toolbar" target="_blank" class="p-src clearfix"><em class="icon"></em><span>传资源</span></a></dt>                      <dt><a href="https://code.csdn.net/projects/new?ref=toolbar" target="_blank" class="c-obj clearfix"><em class="icon"></em><span>创建项目</span></a></dt>                      <dt><a href="https://code.csdn.net/snippets/new?ref=toolbar" target="_blank" class="c-code clearfix"><em class="icon"></em><span>创建代码片</span></a></dt>                    </dl>                  </div>                </div>              </li>              <li class="profile">                <div class="icon on-profile-icon"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/100x100.jpg" class="curr-icon-img">                  <div class="wrap clearfix">                    <div class="curr-icon-wrap">                      <div class="curr-icon"></div>                    </div>                    <div class="bd">                      <dl class="clearfix">                        <dt class="pull-left img"><a target="_blank" href="http://my.csdn.net/?ref=toolbar" class="avatar"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/100x100.jpg"></a></dt>                        <dd class="info" style="border: none;"><a target="_blank" href="http://my.csdn.net/?ref=toolbar" class="nickname"></a><a class="set-nick" href="https://passport.csdn.net/account/profile">设置昵称<span class="write-icon"></span></a><span class="dec"><a class="fill-dec" href="http://my.csdn.net/" target="_blank">编辑自我介绍，让更多人了解你<span class="write-icon"></span></a></span></dd>                      </dl>                    </div>                    <div class="ft clearfix"><a target="_blank" href="http://my.csdn.net/my/account/changepwd?ref=toolbar" class="pull-left"><span class="icon-cog"></span>帐号设置</a><a href="https://passport.csdn.net/account/logout?ref=toolbar" target="_top" class="pull-left" style="margin-left:132px; width:18px; height:27px; white-space:nowrap; overflow:hidden;"><span class="icon-signout"></span><span class="out">退出</span></a></div>                  </div>                </div>              </li>              <li class="apps">                <div id="chasnew123" class="hasnew" style="display: none;"></div>                <div id="cappsarea123" class="icon on-apps-icon">                  <div class="wrap clearfix">                    <div class="curr-icon-wrap">                      <div class="curr-icon"></div>                    </div>                  <div class="detail">                    <dl>                      <dt>                        <h5>社区</h5>                      </dt>                      <dd> <a href="http://blog.csdn.net/?ref=toolbar" target="_blank">博客</a></dd>                      <dd> <a href="http://bbs.csdn.net/?ref=toolbar" target="_blank">论坛</a></dd>                      <dd> <a href="http://download.csdn.net/?ref=toolbar" target="_blank">下载</a></dd>                      <dd><a href="http://ask.csdn.net/?ref=toolbar" target="_blank">技术问答</a></dd>                      <dd><a href="http://geek.csdn.net/?ref=toolbar" target="_blank">极客头条</a></dd>                      <dd style="display:none"> <a href="http://hero.csdn.net/?ref=toolbar" target="_blank">英雄会</a></dd>                    </dl>                  </div>                  <div class="detail">                    <dl>                      <dt>                        <h5>服务</h5>                      </dt>                      <dd style="display:none"> <a href="http://job.csdn.net/?ref=toolbar" target="_blank">JOB<img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/new.gif" style="display: none; margin-top: -26px; width: 23px;"></a></dd>                      <dd> <a href="http://edu.csdn.net/?ref=toolbar" target="_blank">学院<img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/new.gif" style="display: none; margin-top: -26px; width: 23px;"></a></dd>                      <dd> <a href="https://code.csdn.net/?ref=toolbar" target="_blank">CODE</a></dd>                      <dd> <a href="http://huiyi.csdn.net/?ref=toolbar" target="_blank">活动</a></dd>                      <dd> <a href="http://www.csto.com/?ref=toolbar" target="_blank">CSTO</a></dd>                      <dd> <a href="http://mall.csdn.net/?ref=toolbar" target="_blank">C币兑换<img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/new.gif" style="display: none; margin-top: -26px; width: 23px;"></a></dd>                    </dl>                  </div>                  <div class="detail last">                    <dl>                      <dt>                        <h5>俱乐部</h5>                      </dt>                      <dd> <a href="http://cto.csdn.net/?ref=toolbar" target="_blank">CTO俱乐部</a></dd>                      <dd> <a href="http://student.csdn.net/?ref=toolbar" target="_blank">高校俱乐部</a></dd>                    </dl>                  </div>                </div>              </div>            </li>            </ul>          </div>        </div>    </div>
     <!--new top-->
    <div id="container">
        <div id="header">
    <div class="header">
        <div id="blog_title">
            <h2>
                <a href="http://blog.csdn.net/leixiaohua1020">雷霄骅(leixiaohua1020)的专栏</a></h2>
            <h3>一个广院工科生的视音频技术笔记</h3>
            <div class="clear">
            </div>
        </div>
        <div class="clear">
        </div>
    </div>
</div>
<div id="navigator">
    <div class="navigator_bg">
    </div>
    <div class="navigator">
        <ul>
            
                <li id="btnContents"><a href="http://blog.csdn.net/leixiaohua1020?viewmode=contents"><span onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_mulu&#39;])">
                    <img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/ico_list.gif">目录视图</span></a></li>
                <li id="btnView"><a href="http://blog.csdn.net/leixiaohua1020?viewmode=list"><span onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_zhaiyao&#39;])">
                    <img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/ico_summary.gif">摘要视图</span></a></li>
                <li id="btnRss"><a href="http://blog.csdn.net/leixiaohua1020/rss/list"><span onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_RSS&#39;])">
                    <img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/ico_rss.gif">订阅</span></a></li>                

            </ul>
    </div>
</div>
<script type="text/javascript">
    var username = "leixiaohua1020";
    var _blogger = username;
    var blog_address = "http://blog.csdn.net/leixiaohua1020";
    var static_host = "http://static.blog.csdn.net";
    var currentUserName = "";  
</script>

        <div id="body">
            <div id="main">
                <div class="main">
                        <div class="ad_class">
<div class="notice tracking-ad" data-mod="popu_3"> 

<a href="http://blog.csdn.net/mobanchengshuang/article/details/50945682" target="_blank">
<font color="red">人工智能实战——人工神经网络(C库iOS交叉编译)
</font></a>
&nbsp;&nbsp;&nbsp;
<a href="http://blog.csdn.net/csdnedu/article/details/50788201" target="_blank">
<font color="blue">前端精品课程免费看，写课评赢心动大礼！

</font></a><font color="blue"><a href="http://lib.csdn.net/base/18" target="_blank">
<font color="red">JavaScript知识库发布
</font></a>

</font>
</div>                        </div>
                        



<!--AdForward Begin:-->
<script type="text/javascript" ads-src="http://csdnim.qtmojo.com/main/s?user=csdn|blog|fumeiti&amp;db=csdnim&amp;border=0&amp;local=yes&amp;js=ie" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/AllyesDeliver.min.js" charset="gbk" id="allyes_ins_14cd02922" ads-outputs="0" ads-tid="1c0dac712_0"></script><div id="1c0dac712_0" style="padding:0;margin:0;border:0;"><script type="text/javascript" data-belong="allyes" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/s"></script><script type="text/javascript">
var cpro_id="u2392861";
(window["cproStyleApi"] = window["cproStyleApi"] || {})[cpro_id]={at:"3",rsi0:"300",rsi1:"250",pat:"17",tn:"baiduCustNativeAD_xuanfu",rss1:"#FFFFFF",conBW:"1",adp:"1",ptt:"0",titFF:"%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91",titFS:"14",rss2:"#000000",titSU:"0"}
</script>
<script src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/f.js" type="text/javascript"></script><script type="text/javascript" data-belong="allyes" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/delay.min.js"></script><script type="text/javascript" data-belong="allyes" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/delay.min.js"></script><script type="text/javascript" data-belong="allyes" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/delay.min.js"></script><script type="text/javascript" data-belong="allyes" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/delay.min.js"></script><script type="text/javascript" data-belong="allyes" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/delay.min.js"></script></div>
<!--AdForward End-->

  
<link href="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/comment1.css" type="text/css" rel="stylesheet">
<link href="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/style1.css" type="text/css" rel="stylesheet">
<script language="JavaScript" type="text/javascript" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/jquery.cookie.js"></script>
<script type="text/javascript" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/main(1).js"></script>
<link rel="stylesheet" href="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/markdown_views.css">
<link rel="stylesheet" href="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/category.css">
<script type="text/javascript" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/MathJax.js"></script>

 <script type="text/javascript" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/web-storage-cache.min.js"></script>


  <script type="text/ecmascript">
      window.quickReplyflag = true;
           
            var isBole = false;
            
          
    </script>
<div id="article_details" class="details">
    <div class="article_title">   
         <span class="ico ico_type_Original"></span>


    <h1>
        <span class="link_title"><a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425">
        最简单的基于FFMPEG的视频编码器（YUV编码为H.264）            
        </a></span>
    </h1>
</div>

   

        <div class="article_manage clearfix">
        <div class="article_l">
            <span class="link_categories">
            标签：
              <a href="http://www.csdn.net/tag/ffmpeg" target="_blank" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_tag&#39;]);">ffmpeg</a><a href="http://www.csdn.net/tag/%e8%a7%86%e9%a2%91" target="_blank" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_tag&#39;]);">视频</a><a href="http://www.csdn.net/tag/%e7%bc%96%e7%a0%81" target="_blank" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_tag&#39;]);">编码</a><a href="http://www.csdn.net/tag/yuv" target="_blank" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_tag&#39;]);">yuv</a><a href="http://www.csdn.net/tag/h264" target="_blank" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_tag&#39;]);">h264</a>
            </span>
        </div>
        <div class="article_r">
            <span class="link_postdate">2014-05-12 00:42</span>
            <span class="link_view" title="阅读次数">34057人阅读</span>
            <span class="link_comments" title="评论次数"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#comments" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_pinglun&#39;])">评论</a>(128)</span>
            <span class="link_collect tracking-ad" data-mod="popu_171"> <a href="javascript:void(0);" onclick="javascript:collectArticle(&#39;最简单的基于FFMPEG的视频编码器（YUV编码为H.264）&#39;,&#39;25430425&#39;);return false;" title="收藏" target="_blank">收藏</a></span>
             <span class="link_report"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" onclick="javascript:report(25430425,2);return false;" title="举报">举报</a></span>

        </div>
    </div>
    <div class="embody" style="display:none" id="embody">
        <span class="embody_t">本文章已收录于：</span>
        <div class="embody_c" id="lib" value="{&quot;err&quot;:0,&quot;msg&quot;:&quot;ok&quot;,&quot;data&quot;:[]}"></div>
    </div>
    <style type="text/css">        
            .embody{
                padding:10px 10px 10px;
                margin:0 -20px;
                border-bottom:solid 1px #ededed;                
            }
            .embody_b{
                margin:0 ;
                padding:10px 0;
            }
            .embody .embody_t,.embody .embody_c{
                display: inline-block;
                margin-right:10px;
            }
            .embody_t{
                font-size: 12px;
                color:#999;
            }
            .embody_c{
                font-size: 12px;
            }
            .embody_c img,.embody_c em{
                display: inline-block;
                vertical-align: middle;               
            }
             .embody_c img{               
                width:30px;
                height:30px;
            }
            .embody_c em{
                margin: 0 20px 0 10px;
                color:#333;
                font-style: normal;
            }
    </style>
    <script type="text/javascript">
        $(function () {
            var lib = eval("("+$("#lib").attr("value")+")");
            var html = "";
            if (lib.err == 0) {
                $.each(lib.data, function (i) {
                    var obj = lib.data[i];
                    //html += '<img src="' + obj.logo + '"/>' + obj.name + "&nbsp;&nbsp;";
                    html += ' <a href="' + obj.url + '" target="_blank">';
                    html += ' <img src="' + obj.logo + '">';
                    html += ' <em><b>' + obj.name + '</b></em>';
                    html += ' </a>';
                });
                if (html != "") {
                    setTimeout(function () {
                        $("#lib").html(html);
                        /*
                        var testhtml = "";
                        testhtml += '<a href="#">';
                        testhtml += '<img src="http://img.knowledge.csdn.net/upload/base/1455589744328_328.jpg">';
                        testhtml += '<em>Android知识库</em>';
                        testhtml += '</a>';
                        $(".embody_c").html(testhtml);
                        */
                        $("#embody").show();
                    }, 100);
                }
            }          
            
        });
    </script>
      <div class="category clearfix">
        <div class="category_l">
           <img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/category_icon.jpg">
            <span>分类：</span>
        </div>
        <div class="category_r">
                    <label onclick="GetCategoryArticles(&#39;1360795&#39;,&#39;leixiaohua1020&#39;,&#39;top&#39;,&#39;25430425&#39;);">
                        <span onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_fenlei&#39;]);">FFMPEG<em>（137）</em></span>
                      <img class="arrow-down" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/arrow_triangle _down.jpg" style="display:inline;">
                      <img class="arrow-up" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/arrow_triangle_up.jpg" style="display:none;">
                        <div class="subItem">
                            <div class="subItem_t"><a href="http://blog.csdn.net/leixiaohua1020/article/category/1360795" target="_blank">作者同类文章</a><i class="J_close">X</i></div>
                            <ul class="subItem_l" id="top_1360795">                            
                            </ul>
                        </div>
                    </label>                    
                    <label onclick="GetCategoryArticles(&#39;1843731&#39;,&#39;leixiaohua1020&#39;,&#39;top&#39;,&#39;25430425&#39;);">
                        <span onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_fenlei&#39;]);">我的开源项目<em>（66）</em></span>
                      <img class="arrow-down" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/arrow_triangle _down.jpg" style="display:inline;">
                      <img class="arrow-up" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/arrow_triangle_up.jpg" style="display:none;">
                        <div class="subItem">
                            <div class="subItem_t"><a href="http://blog.csdn.net/leixiaohua1020/article/category/1843731" target="_blank">作者同类文章</a><i class="J_close">X</i></div>
                            <ul class="subItem_l" id="top_1843731">                            
                            </ul>
                        </div>
                    </label>                    
        </div>
    </div>
    <script type="text/javascript" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/category.js"></script>  
        <div class="bog_copyright">         
            <p class="copyright_p">版权声明：本文为博主原创文章，未经博主允许不得转载。</p>
        </div>

  

  
  
     

<div style="clear:both"></div><div style="border:solid 1px #ccc; background:#eee; float:left; min-width:200px;padding:4px 10px;"><p style="text-align:right;margin:0;"><span style="float:left;">目录<a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" title="系统根据文章中H1到H6标签自动生成文章目录">(?)</a></span><a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" onclick="javascript:return openct(this);" title="展开">[+]</a></p><ol style="display:none;margin-left:14px;padding-left:14px;line-height:160%;"><li><a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#t0">流程</a></li><li><a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#t1">代码</a></li><li><a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#t2">结果</a></li><li><a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#t3">下载</a></li></ol></div><div style="clear:both"></div><div id="article_content" class="article_content">
<p></p><p>=====================================================<br></p><p>最简单的基于FFmpeg的视频编码器文章列表：<br></p><p><a target="_blank" href="http://blog.csdn.net/leixiaohua1020/article/details/25430425">最简单的基于FFMPEG的视频编码器（YUV编码为H.264）</a><br></p><p><a target="_blank" href="http://blog.csdn.net/leixiaohua1020/article/details/39770947">最简单的基于FFmpeg的视频编码器-更新版（YUV编码为HEVC(H.265)）</a><br></p><p><a target="_blank" href="http://blog.csdn.net/leixiaohua1020/article/details/42181271">最简单的基于FFmpeg的编码器-纯净版（不包含libavformat）</a><br></p><p>=====================================================</p><br><p>本文介绍一个最简单的基于FFMPEG的视频编码器。该编码器实现了YUV420P的像素数据编码为H.264的压缩编码数据。编码器代码十分简单，但是每一行代码都很重要，适合好好研究一下。弄清楚了本代码也就基本弄清楚了FFMPEG的编码流程。目前我虽然已经调通了程序，但是还是有些地方没有完全搞明白，需要下一步继续探究然后补充内容。</p><p>本程序使用最新版的类库（编译时间为2014.5.6），开发平台为VC2010。所有的配置都已经做好，只需要运行就可以了。</p><p><br></p><h2><a name="t0"></a>流程</h2><p>下面附一张使用FFmpeg编码视频的流程图。使用该流程，不仅可以编码H.264的视频，而且可以编码MPEG4/MPEG2/VP8等等各种FFmpeg支持的视频。图中蓝色背景的函数是实际输出数据的函数。浅绿色的函数是视频编码的函数。</p><p style="text-align: center;"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/20140929220326509" alt=""><br></p><p>简单介绍一下流程中各个函数的意义：</p><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><p>av_register_all()：注册FFmpeg所有编解码器。</p><p>avformat_alloc_output_context2()：初始化输出码流的AVFormatContext。</p><p>avio_open()：打开输出文件。</p><p>av_new_stream()：创建输出码流的AVStream。</p><p>avcodec_find_encoder()：查找编码器。</p><p>avcodec_open2()：打开编码器。</p><p>avformat_write_header()：写文件头（对于某些没有文件头的封装格式，不需要此函数。比如说MPEG2TS）。</p><p>avcodec_encode_video2()：编码一帧视频。即将AVFrame（存储YUV像素数据）编码为AVPacket（存储H.264等格式的码流数据）。</p><p>av_write_frame()：将编码后的视频码流写入文件。</p><p>flush_encoder()：输入的像素数据读取完成后调用此函数。用于输出编码器中剩余的AVPacket。</p><p>av_write_trailer()：写文件尾（对于某些没有文件头的封装格式，不需要此函数。比如说MPEG2TS）。</p><p><br></p></blockquote><h2><a name="t1"></a>代码</h2><p>&nbsp;</p><div class="dp-highlighter bg_cpp"><div class="bar"><div class="tools"><b>[cpp]</b> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><span class="tracking-ad" data-mod="popu_168"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" target="_blank">copy</a><div style="position: absolute; left: 422px; top: 2154px; width: 18px; height: 18px; z-index: 99;"><embed id="ZeroClipboardMovie_1" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_1" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=1&amp;width=18&amp;height=18" wmode="transparent"></div></span><span class="tracking-ad" data-mod="popu_169"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" target="_blank">print</a></span><a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-cpp"><li class="alt"><span><span class="comment">/**</span>&nbsp;</span></li><li class=""><span><span class="comment">&nbsp;*&nbsp;最简单的基于FFmpeg的视频编码器</span>&nbsp;</span></li><li class="alt"><span><span class="comment">&nbsp;*&nbsp;Simplest&nbsp;FFmpeg&nbsp;Video&nbsp;Encoder</span>&nbsp;</span></li><li class=""><span><span class="comment">&nbsp;*&nbsp;</span>&nbsp;</span></li><li class="alt"><span><span class="comment">&nbsp;*&nbsp;雷霄骅&nbsp;Lei&nbsp;Xiaohua</span>&nbsp;</span></li><li class=""><span><span class="comment">&nbsp;*&nbsp;leixiaohua1020@126.com</span>&nbsp;</span></li><li class="alt"><span><span class="comment">&nbsp;*&nbsp;中国传媒大学/数字电视技术</span>&nbsp;</span></li><li class=""><span><span class="comment">&nbsp;*&nbsp;Communication&nbsp;University&nbsp;of&nbsp;China&nbsp;/&nbsp;Digital&nbsp;TV&nbsp;Technology</span>&nbsp;</span></li><li class="alt"><span><span class="comment">&nbsp;*&nbsp;http://blog.csdn.net/leixiaohua1020</span>&nbsp;</span></li><li class=""><span><span class="comment">&nbsp;*&nbsp;</span>&nbsp;</span></li><li class="alt"><span><span class="comment">&nbsp;*&nbsp;本程序实现了YUV像素数据编码为视频码流（H264，MPEG2，VP8等等）。</span>&nbsp;</span></li><li class=""><span><span class="comment">&nbsp;*&nbsp;是最简单的FFmpeg视频编码方面的教程。</span>&nbsp;</span></li><li class="alt"><span><span class="comment">&nbsp;*&nbsp;通过学习本例子可以了解FFmpeg的编码流程。</span>&nbsp;</span></li><li class=""><span><span class="comment">&nbsp;*&nbsp;This&nbsp;software&nbsp;encode&nbsp;YUV420P&nbsp;data&nbsp;to&nbsp;H.264&nbsp;bitstream.</span>&nbsp;</span></li><li class="alt"><span><span class="comment">&nbsp;*&nbsp;It's&nbsp;the&nbsp;simplest&nbsp;video&nbsp;encoding&nbsp;software&nbsp;based&nbsp;on&nbsp;FFmpeg.&nbsp;</span>&nbsp;</span></li><li class=""><span><span class="comment">&nbsp;*&nbsp;Suitable&nbsp;for&nbsp;beginner&nbsp;of&nbsp;FFmpeg&nbsp;</span>&nbsp;</span></li><li class="alt"><span><span class="comment">&nbsp;*/</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span><span class="preprocessor">#include&nbsp;&lt;stdio.h&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span><span class="preprocessor">#define&nbsp;__STDC_CONSTANT_MACROS</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span><span class="preprocessor">#ifdef&nbsp;_WIN32</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span><span class="comment">//Windows</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span><span class="keyword">extern</span><span>&nbsp;</span><span class="string">"C"</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>{&nbsp;&nbsp;</span></li><li class="alt"><span><span class="preprocessor">#include&nbsp;"libavutil/opt.h"</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span><span class="preprocessor">#include&nbsp;"libavcodec/avcodec.h"</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span><span class="preprocessor">#include&nbsp;"libavformat/avformat.h"</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>};&nbsp;&nbsp;</span></li><li class="alt"><span><span class="preprocessor">#else</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span><span class="comment">//Linux...</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span><span class="preprocessor">#ifdef&nbsp;__cplusplus</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span><span class="keyword">extern</span><span>&nbsp;</span><span class="string">"C"</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>{&nbsp;&nbsp;</span></li><li class=""><span><span class="preprocessor">#endif</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span><span class="preprocessor">#include&nbsp;&lt;libavutil/opt.h&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span><span class="preprocessor">#include&nbsp;&lt;libavcodec/avcodec.h&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span><span class="preprocessor">#include&nbsp;&lt;libavformat/avformat.h&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span><span class="preprocessor">#ifdef&nbsp;__cplusplus</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>};&nbsp;&nbsp;</span></li><li class=""><span><span class="preprocessor">#endif</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span><span class="preprocessor">#endif</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span><span class="datatypes">int</span><span>&nbsp;flush_encoder(AVFormatContext&nbsp;*fmt_ctx,unsigned&nbsp;</span><span class="datatypes">int</span><span>&nbsp;stream_index){&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes">int</span><span>&nbsp;ret;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes">int</span><span>&nbsp;got_frame;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;AVPacket&nbsp;enc_pkt;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(!(fmt_ctx-&gt;streams[stream_index]-&gt;codec-&gt;codec-&gt;capabilities&nbsp;&amp;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CODEC_CAP_DELAY))&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;0;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">while</span><span>&nbsp;(1)&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;enc_pkt.data&nbsp;=&nbsp;NULL;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;enc_pkt.size&nbsp;=&nbsp;0;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;av_init_packet(&amp;enc_pkt);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ret&nbsp;=&nbsp;avcodec_encode_video2&nbsp;(fmt_ctx-&gt;streams[stream_index]-&gt;codec,&nbsp;&amp;enc_pkt,&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NULL,&nbsp;&amp;got_frame);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;av_frame_free(NULL);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(ret&nbsp;&lt;&nbsp;0)&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">break</span><span>;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(!got_frame){&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ret=0;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">break</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span class="string">"Flush&nbsp;Encoder:&nbsp;Succeed&nbsp;to&nbsp;encode&nbsp;1&nbsp;frame!\tsize:%5d\n"</span><span>,enc_pkt.size);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">/*&nbsp;mux&nbsp;encoded&nbsp;frame&nbsp;*/</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ret&nbsp;=&nbsp;av_write_frame(fmt_ctx,&nbsp;&amp;enc_pkt);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(ret&nbsp;&lt;&nbsp;0)&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">break</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;ret;&nbsp;&nbsp;</span></span></li><li class="alt"><span>}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span><span class="datatypes">int</span><span>&nbsp;main(</span><span class="datatypes">int</span><span>&nbsp;argc,&nbsp;</span><span class="datatypes">char</span><span>*&nbsp;argv[])&nbsp;&nbsp;</span></span></li><li class=""><span>{&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;AVFormatContext*&nbsp;pFormatCtx;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;AVOutputFormat*&nbsp;fmt;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;AVStream*&nbsp;video_st;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;AVCodecContext*&nbsp;pCodecCtx;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;AVCodec*&nbsp;pCodec;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;AVPacket&nbsp;pkt;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;uint8_t*&nbsp;picture_buf;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;AVFrame*&nbsp;pFrame;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes">int</span><span>&nbsp;picture_size;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes">int</span><span>&nbsp;y_size;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes">int</span><span>&nbsp;framecnt=0;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//FILE&nbsp;*in_file&nbsp;=&nbsp;fopen("src01_480x272.yuv",&nbsp;"rb");&nbsp;//Input&nbsp;raw&nbsp;YUV&nbsp;data&nbsp;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes">FILE</span><span>&nbsp;*in_file&nbsp;=&nbsp;fopen(</span><span class="string">"../ds_480x272.yuv"</span><span>,&nbsp;</span><span class="string">"rb"</span><span>);&nbsp;&nbsp;&nbsp;</span><span class="comment">//Input&nbsp;raw&nbsp;YUV&nbsp;data</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes">int</span><span>&nbsp;in_w=480,in_h=272;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//Input&nbsp;data's&nbsp;width&nbsp;and&nbsp;height</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes">int</span><span>&nbsp;framenum=100;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//Frames&nbsp;to&nbsp;encode</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//const&nbsp;char*&nbsp;out_file&nbsp;=&nbsp;"src01.h264";&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//Output&nbsp;Filepath&nbsp;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//const&nbsp;char*&nbsp;out_file&nbsp;=&nbsp;"src01.ts";</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//const&nbsp;char*&nbsp;out_file&nbsp;=&nbsp;"src01.hevc";</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">const</span><span>&nbsp;</span><span class="datatypes">char</span><span>*&nbsp;out_file&nbsp;=&nbsp;</span><span class="string">"ds.h264"</span><span>;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;av_register_all();&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//Method1.</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;pFormatCtx&nbsp;=&nbsp;avformat_alloc_context();&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//Guess&nbsp;Format</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;fmt&nbsp;=&nbsp;av_guess_format(NULL,&nbsp;out_file,&nbsp;NULL);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;pFormatCtx-&gt;oformat&nbsp;=&nbsp;fmt;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//Method&nbsp;2.</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//avformat_alloc_output_context2(&amp;pFormatCtx,&nbsp;NULL,&nbsp;NULL,&nbsp;out_file);</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//fmt&nbsp;=&nbsp;pFormatCtx-&gt;oformat;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//Open&nbsp;output&nbsp;URL</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(avio_open(&amp;pFormatCtx-&gt;pb,out_file,&nbsp;AVIO_FLAG_READ_WRITE)&nbsp;&lt;&nbsp;0){&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span class="string">"Failed&nbsp;to&nbsp;open&nbsp;output&nbsp;file!&nbsp;\n"</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;-1;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;video_st&nbsp;=&nbsp;avformat_new_stream(pFormatCtx,&nbsp;0);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//video_st-&gt;time_base.num&nbsp;=&nbsp;1;&nbsp;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//video_st-&gt;time_base.den&nbsp;=&nbsp;25;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(video_st==NULL){&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;-1;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//Param&nbsp;that&nbsp;must&nbsp;set</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;pCodecCtx&nbsp;=&nbsp;video_st-&gt;codec;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//pCodecCtx-&gt;codec_id&nbsp;=AV_CODEC_ID_HEVC;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;pCodecCtx-&gt;codec_id&nbsp;=&nbsp;fmt-&gt;video_codec;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;pCodecCtx-&gt;codec_type&nbsp;=&nbsp;AVMEDIA_TYPE_VIDEO;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;pCodecCtx-&gt;pix_fmt&nbsp;=&nbsp;AV_PIX_FMT_YUV420P;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;pCodecCtx-&gt;width&nbsp;=&nbsp;in_w;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;pCodecCtx-&gt;height&nbsp;=&nbsp;in_h;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;pCodecCtx-&gt;bit_rate&nbsp;=&nbsp;400000;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;pCodecCtx-&gt;gop_size=250;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;pCodecCtx-&gt;time_base.num&nbsp;=&nbsp;1;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;pCodecCtx-&gt;time_base.den&nbsp;=&nbsp;25;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//H264</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//pCodecCtx-&gt;me_range&nbsp;=&nbsp;16;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//pCodecCtx-&gt;max_qdiff&nbsp;=&nbsp;4;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//pCodecCtx-&gt;qcompress&nbsp;=&nbsp;0.6;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;pCodecCtx-&gt;qmin&nbsp;=&nbsp;10;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;pCodecCtx-&gt;qmax&nbsp;=&nbsp;51;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//Optional&nbsp;Param</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;pCodecCtx-&gt;max_b_frames=3;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;Set&nbsp;Option</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;AVDictionary&nbsp;*param&nbsp;=&nbsp;0;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//H.264</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>(pCodecCtx-&gt;codec_id&nbsp;==&nbsp;AV_CODEC_ID_H264)&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;av_dict_set(¶m,&nbsp;<span class="string">"preset"</span><span>,&nbsp;</span><span class="string">"slow"</span><span>,&nbsp;0);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;av_dict_set(¶m,&nbsp;<span class="string">"tune"</span><span>,&nbsp;</span><span class="string">"zerolatency"</span><span>,&nbsp;0);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//av_dict_set(¶m,&nbsp;"profile",&nbsp;"main",&nbsp;0);</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//H.265</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>(pCodecCtx-&gt;codec_id&nbsp;==&nbsp;AV_CODEC_ID_H265){&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;av_dict_set(¶m,&nbsp;<span class="string">"preset"</span><span>,&nbsp;</span><span class="string">"ultrafast"</span><span>,&nbsp;0);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;av_dict_set(¶m,&nbsp;<span class="string">"tune"</span><span>,&nbsp;</span><span class="string">"zero-latency"</span><span>,&nbsp;0);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//Show&nbsp;some&nbsp;Information</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;av_dump_format(pFormatCtx,&nbsp;0,&nbsp;out_file,&nbsp;1);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;pCodec&nbsp;=&nbsp;avcodec_find_encoder(pCodecCtx-&gt;codec_id);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(!pCodec){&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span class="string">"Can&nbsp;not&nbsp;find&nbsp;encoder!&nbsp;\n"</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;-1;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(avcodec_open2(pCodecCtx,&nbsp;pCodec,¶m)&nbsp;&lt;&nbsp;0){&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span class="string">"Failed&nbsp;to&nbsp;open&nbsp;encoder!&nbsp;\n"</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;-1;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;pFrame&nbsp;=&nbsp;av_frame_alloc();&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;picture_size&nbsp;=&nbsp;avpicture_get_size(pCodecCtx-&gt;pix_fmt,&nbsp;pCodecCtx-&gt;width,&nbsp;pCodecCtx-&gt;height);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;picture_buf&nbsp;=&nbsp;(uint8_t&nbsp;*)av_malloc(picture_size);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;avpicture_fill((AVPicture&nbsp;*)pFrame,&nbsp;picture_buf,&nbsp;pCodecCtx-&gt;pix_fmt,&nbsp;pCodecCtx-&gt;width,&nbsp;pCodecCtx-&gt;height);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//Write&nbsp;File&nbsp;Header</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;avformat_write_header(pFormatCtx,NULL);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;av_new_packet(&amp;pkt,picture_size);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;y_size&nbsp;=&nbsp;pCodecCtx-&gt;width&nbsp;*&nbsp;pCodecCtx-&gt;height;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">for</span><span>&nbsp;(</span><span class="datatypes">int</span><span>&nbsp;i=0;&nbsp;i&lt;framenum;&nbsp;i++){&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//Read&nbsp;raw&nbsp;YUV&nbsp;data</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(fread(picture_buf,&nbsp;1,&nbsp;y_size*3/2,&nbsp;in_file)&nbsp;&lt;=&nbsp;0){&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span class="string">"Failed&nbsp;to&nbsp;read&nbsp;raw&nbsp;data!&nbsp;\n"</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;-1;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<span class="keyword">else</span><span>&nbsp;</span><span class="keyword">if</span><span>(feof(in_file)){&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">break</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pFrame-&gt;data[0]&nbsp;=&nbsp;picture_buf;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;Y</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pFrame-&gt;data[1]&nbsp;=&nbsp;picture_buf+&nbsp;y_size;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;U&nbsp;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pFrame-&gt;data[2]&nbsp;=&nbsp;picture_buf+&nbsp;y_size*5/4;&nbsp;&nbsp;<span class="comment">//&nbsp;V</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//PTS</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//pFrame-&gt;pts=i;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pFrame-&gt;pts=i*(video_st-&gt;time_base.den)/((video_st-&gt;time_base.num)*25);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes">int</span><span>&nbsp;got_picture=0;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//Encode</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes">int</span><span>&nbsp;ret&nbsp;=&nbsp;avcodec_encode_video2(pCodecCtx,&nbsp;&amp;pkt,pFrame,&nbsp;&amp;got_picture);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>(ret&nbsp;&lt;&nbsp;0){&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span class="string">"Failed&nbsp;to&nbsp;encode!&nbsp;\n"</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;-1;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(got_picture==1){&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span class="string">"Succeed&nbsp;to&nbsp;encode&nbsp;frame:&nbsp;%5d\tsize:%5d\n"</span><span>,framecnt,pkt.size);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;framecnt++;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pkt.stream_index&nbsp;=&nbsp;video_st-&gt;index;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ret&nbsp;=&nbsp;av_write_frame(pFormatCtx,&nbsp;&amp;pkt);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;av_free_packet(&amp;pkt);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//Flush&nbsp;Encoder</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes">int</span><span>&nbsp;ret&nbsp;=&nbsp;flush_encoder(pFormatCtx,0);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(ret&nbsp;&lt;&nbsp;0)&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span class="string">"Flushing&nbsp;encoder&nbsp;failed\n"</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;-1;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//Write&nbsp;file&nbsp;trailer</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;av_write_trailer(pFormatCtx);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//Clean</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(video_st){&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;avcodec_close(video_st-&gt;codec);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;av_free(pFrame);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;av_free(picture_buf);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;avio_close(pFormatCtx-&gt;pb);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;avformat_free_context(pFormatCtx);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;fclose(in_file);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;0;&nbsp;&nbsp;</span></span></li><li class="alt"><span>}&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="cpp" style="display: none;">/**
 * 最简单的基于FFmpeg的视频编码器
 * Simplest FFmpeg Video Encoder
 * 
 * 雷霄骅 Lei Xiaohua
 * leixiaohua1020@126.com
 * 中国传媒大学/数字电视技术
 * Communication University of China / Digital TV Technology
 * http://blog.csdn.net/leixiaohua1020
 * 
 * 本程序实现了YUV像素数据编码为视频码流（H264，MPEG2，VP8等等）。
 * 是最简单的FFmpeg视频编码方面的教程。
 * 通过学习本例子可以了解FFmpeg的编码流程。
 * This software encode YUV420P data to H.264 bitstream.
 * It's the simplest video encoding software based on FFmpeg. 
 * Suitable for beginner of FFmpeg 
 */

#include &lt;stdio.h&gt;

#define __STDC_CONSTANT_MACROS

#ifdef _WIN32
//Windows
extern "C"
{
#include "libavutil/opt.h"
#include "libavcodec/avcodec.h"
#include "libavformat/avformat.h"
};
#else
//Linux...
#ifdef __cplusplus
extern "C"
{
#endif
#include &lt;libavutil/opt.h&gt;
#include &lt;libavcodec/avcodec.h&gt;
#include &lt;libavformat/avformat.h&gt;
#ifdef __cplusplus
};
#endif
#endif


int flush_encoder(AVFormatContext *fmt_ctx,unsigned int stream_index){
	int ret;
	int got_frame;
	AVPacket enc_pkt;
	if (!(fmt_ctx-&gt;streams[stream_index]-&gt;codec-&gt;codec-&gt;capabilities &amp;
		CODEC_CAP_DELAY))
		return 0;
	while (1) {
		enc_pkt.data = NULL;
		enc_pkt.size = 0;
		av_init_packet(&amp;enc_pkt);
		ret = avcodec_encode_video2 (fmt_ctx-&gt;streams[stream_index]-&gt;codec, &amp;enc_pkt,
			NULL, &amp;got_frame);
		av_frame_free(NULL);
		if (ret &lt; 0)
			break;
		if (!got_frame){
			ret=0;
			break;
		}
		printf("Flush Encoder: Succeed to encode 1 frame!\tsize:%5d\n",enc_pkt.size);
		/* mux encoded frame */
		ret = av_write_frame(fmt_ctx, &amp;enc_pkt);
		if (ret &lt; 0)
			break;
	}
	return ret;
}

int main(int argc, char* argv[])
{
	AVFormatContext* pFormatCtx;
	AVOutputFormat* fmt;
	AVStream* video_st;
	AVCodecContext* pCodecCtx;
	AVCodec* pCodec;
	AVPacket pkt;
	uint8_t* picture_buf;
	AVFrame* pFrame;
	int picture_size;
	int y_size;
	int framecnt=0;
	//FILE *in_file = fopen("src01_480x272.yuv", "rb");	//Input raw YUV data 
	FILE *in_file = fopen("../ds_480x272.yuv", "rb");   //Input raw YUV data
	int in_w=480,in_h=272;                              //Input data's width and height
	int framenum=100;                                   //Frames to encode
	//const char* out_file = "src01.h264";              //Output Filepath 
	//const char* out_file = "src01.ts";
	//const char* out_file = "src01.hevc";
	const char* out_file = "ds.h264";

	av_register_all();
	//Method1.
	pFormatCtx = avformat_alloc_context();
	//Guess Format
	fmt = av_guess_format(NULL, out_file, NULL);
	pFormatCtx-&gt;oformat = fmt;
	
	//Method 2.
	//avformat_alloc_output_context2(&amp;pFormatCtx, NULL, NULL, out_file);
	//fmt = pFormatCtx-&gt;oformat;


	//Open output URL
	if (avio_open(&amp;pFormatCtx-&gt;pb,out_file, AVIO_FLAG_READ_WRITE) &lt; 0){
		printf("Failed to open output file! \n");
		return -1;
	}

	video_st = avformat_new_stream(pFormatCtx, 0);
	//video_st-&gt;time_base.num = 1; 
	//video_st-&gt;time_base.den = 25;  

	if (video_st==NULL){
		return -1;
	}
	//Param that must set
	pCodecCtx = video_st-&gt;codec;
	//pCodecCtx-&gt;codec_id =AV_CODEC_ID_HEVC;
	pCodecCtx-&gt;codec_id = fmt-&gt;video_codec;
	pCodecCtx-&gt;codec_type = AVMEDIA_TYPE_VIDEO;
	pCodecCtx-&gt;pix_fmt = AV_PIX_FMT_YUV420P;
	pCodecCtx-&gt;width = in_w;  
	pCodecCtx-&gt;height = in_h;
	pCodecCtx-&gt;bit_rate = 400000;  
	pCodecCtx-&gt;gop_size=250;

	pCodecCtx-&gt;time_base.num = 1;  
	pCodecCtx-&gt;time_base.den = 25;  

	//H264
	//pCodecCtx-&gt;me_range = 16;
	//pCodecCtx-&gt;max_qdiff = 4;
	//pCodecCtx-&gt;qcompress = 0.6;
	pCodecCtx-&gt;qmin = 10;
	pCodecCtx-&gt;qmax = 51;

	//Optional Param
	pCodecCtx-&gt;max_b_frames=3;

	// Set Option
	AVDictionary *param = 0;
	//H.264
	if(pCodecCtx-&gt;codec_id == AV_CODEC_ID_H264) {
		av_dict_set(¶m, "preset", "slow", 0);
		av_dict_set(¶m, "tune", "zerolatency", 0);
		//av_dict_set(¶m, "profile", "main", 0);
	}
	//H.265
	if(pCodecCtx-&gt;codec_id == AV_CODEC_ID_H265){
		av_dict_set(¶m, "preset", "ultrafast", 0);
		av_dict_set(¶m, "tune", "zero-latency", 0);
	}

	//Show some Information
	av_dump_format(pFormatCtx, 0, out_file, 1);

	pCodec = avcodec_find_encoder(pCodecCtx-&gt;codec_id);
	if (!pCodec){
		printf("Can not find encoder! \n");
		return -1;
	}
	if (avcodec_open2(pCodecCtx, pCodec,¶m) &lt; 0){
		printf("Failed to open encoder! \n");
		return -1;
	}


	pFrame = av_frame_alloc();
	picture_size = avpicture_get_size(pCodecCtx-&gt;pix_fmt, pCodecCtx-&gt;width, pCodecCtx-&gt;height);
	picture_buf = (uint8_t *)av_malloc(picture_size);
	avpicture_fill((AVPicture *)pFrame, picture_buf, pCodecCtx-&gt;pix_fmt, pCodecCtx-&gt;width, pCodecCtx-&gt;height);

	//Write File Header
	avformat_write_header(pFormatCtx,NULL);

	av_new_packet(&amp;pkt,picture_size);

	y_size = pCodecCtx-&gt;width * pCodecCtx-&gt;height;

	for (int i=0; i&lt;framenum; i++){
		//Read raw YUV data
		if (fread(picture_buf, 1, y_size*3/2, in_file) &lt;= 0){
			printf("Failed to read raw data! \n");
			return -1;
		}else if(feof(in_file)){
			break;
		}
		pFrame-&gt;data[0] = picture_buf;              // Y
		pFrame-&gt;data[1] = picture_buf+ y_size;      // U 
		pFrame-&gt;data[2] = picture_buf+ y_size*5/4;  // V
		//PTS
		//pFrame-&gt;pts=i;
		pFrame-&gt;pts=i*(video_st-&gt;time_base.den)/((video_st-&gt;time_base.num)*25);
		int got_picture=0;
		//Encode
		int ret = avcodec_encode_video2(pCodecCtx, &amp;pkt,pFrame, &amp;got_picture);
		if(ret &lt; 0){
			printf("Failed to encode! \n");
			return -1;
		}
		if (got_picture==1){
			printf("Succeed to encode frame: %5d\tsize:%5d\n",framecnt,pkt.size);
			framecnt++;
			pkt.stream_index = video_st-&gt;index;
			ret = av_write_frame(pFormatCtx, &amp;pkt);
			av_free_packet(&amp;pkt);
		}
	}
	//Flush Encoder
	int ret = flush_encoder(pFormatCtx,0);
	if (ret &lt; 0) {
		printf("Flushing encoder failed\n");
		return -1;
	}

	//Write file trailer
	av_write_trailer(pFormatCtx);

	//Clean
	if (video_st){
		avcodec_close(video_st-&gt;codec);
		av_free(pFrame);
		av_free(picture_buf);
	}
	avio_close(pFormatCtx-&gt;pb);
	avformat_free_context(pFormatCtx);

	fclose(in_file);

	return 0;
}
</pre><br><p></p><p><br></p><h2><a name="t2"></a>结果</h2><p></p><p>软件运行截图（受限于文件体积，原始YUV帧数很少）：</p><p style="text-align:center"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/20140512004021078" alt=""><br></p><p>编码前的YUV序列：</p><p style="text-align:center"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/20140512003916546" alt=""><br></p><p>编码后的H.264码流：</p><p style="text-align:center"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/20140512003920687" alt=""><br></p><p><br></p><h2><a name="t3"></a>下载</h2><p><br></p><p><strong>Simplest FFmpeg Video Encoder</strong></p><p><br></p><p><strong>项目主页</strong></p><p>SourceForge：<a target="_blank" href="https://sourceforge.net/projects/simplestffmpegvideoencoder/">https://sourceforge.net/projects/simplestffmpegvideoencoder/</a></p><p>Github：<a target="_blank" href="https://github.com/leixiaohua1020/simplest_ffmpeg_video_encoder">https://github.com/leixiaohua1020/simplest_ffmpeg_video_encoder</a></p><p>开源中国：<a target="_blank" href="http://git.oschina.net/leixiaohua1020/simplest_ffmpeg_video_encoder">http://git.oschina.net/leixiaohua1020/simplest_ffmpeg_video_encoder</a><br></p><p><br></p><p>下载地址：</p><p><a target="_blank" href="http://download.csdn.net/detail/leixiaohua1020/7324115">http://download.csdn.net/detail/leixiaohua1020/7324115</a></p><p></p><p>【修正】之前发现编码后的H.264码流与YUV输入的帧数不同。经过观察对比其他程序后发现需要调用flush_encoder()将编码器中剩余的视频帧输出。已经将该问题修正。</p><p>CSDN下载地址（修正后）：</p><p><a target="_blank" href="http://download.csdn.net/detail/leixiaohua1020/7466649">http://download.csdn.net/detail/leixiaohua1020/7466649</a></p><p>PUDN下载地址（修正后）：</p><p><a target="_blank" href="http://www.pudn.com/downloads644/sourcecode/multimedia/detail2605258.html">http://www.pudn.com/downloads644/sourcecode/multimedia/detail2605258.html</a><br></p><p>SourceForge上已经更新。<br></p><p><br></p><p></p><p><strong>更新-1.1 (2015.1.03)=========================================</strong></p><p>增加了《<a target="_blank" href="http://blog.csdn.net/leixiaohua1020/article/details/42181271">最简单的基于FFmpeg的编码器-纯净版（不包含libavformat）</a>》中的simplest_ffmpeg_video_encoder_pure工程。</p>CSDN下载地址：<a target="_blank" href="http://download.csdn.net/detail/leixiaohua1020/8322003">http://download.csdn.net/detail/leixiaohua1020/8322003</a><br><p><br></p><p><strong>更新-1.2 (2015.2.13)=========================================</strong></p><p>这次考虑到了跨平台的要求，调整了源代码。经过这次调整之后，源代码可以在以下平台编译通过：</p><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><p><em>VC++：打开sln文件即可编译，无需配置。</em></p></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><p><em>cl.exe：打开compile_cl.bat即可命令行下使用cl.exe进行编译，注意可能需要按照VC的安装路径调整脚本里面的参数。编译命令如下。</em></p></blockquote><p></p><div class="dp-highlighter bg_plain"><div class="bar"><div class="tools"><b>[plain]</b> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><span class="tracking-ad" data-mod="popu_168"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" target="_blank">copy</a><div style="position: absolute; left: 431px; top: 8576px; width: 18px; height: 18px; z-index: 99;"><embed id="ZeroClipboardMovie_2" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_2" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=2&amp;width=18&amp;height=18" wmode="transparent"></div></span><span class="tracking-ad" data-mod="popu_169"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" target="_blank">print</a></span><a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><span class="tracking-ad" data-mod="popu_167"><a href="https://code.csdn.net/snippets/604319" target="_blank" title="在CODE上查看代码片" style="text-indent:0;"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/CODE_ico.png" width="12" height="12" alt="在CODE上查看代码片" style="position:relative;top:1px;left:2px;"></a></span><span class="tracking-ad" data-mod="popu_170"><a href="https://code.csdn.net/snippets/604319/fork" target="_blank" title="派生到我的代码片" style="text-indent:0;"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/ico_fork.svg" width="12" height="12" alt="派生到我的代码片" style="position:relative;top:2px;left:2px;"></a></span></div></div><ol start="1"><li class="alt"><span><span>::VS2010&nbsp;Environment&nbsp;&nbsp;</span></span></li><li class=""><span>call&nbsp;"D:\Program&nbsp;Files\Microsoft&nbsp;Visual&nbsp;Studio&nbsp;10.0\VC\vcvarsall.bat"&nbsp;&nbsp;</span></li><li class="alt"><span>::include&nbsp;&nbsp;</span></li><li class=""><span>@set&nbsp;INCLUDE=include;%INCLUDE%&nbsp;&nbsp;</span></li><li class="alt"><span>::lib&nbsp;&nbsp;</span></li><li class=""><span>@set&nbsp;LIB=lib;%LIB%&nbsp;&nbsp;</span></li><li class="alt"><span>::compile&nbsp;and&nbsp;link&nbsp;&nbsp;</span></li><li class=""><span>cl&nbsp;simplest_ffmpeg_video_encoder.cpp&nbsp;/link&nbsp;avcodec.lib&nbsp;avformat.lib&nbsp;avutil.lib&nbsp;^&nbsp;&nbsp;</span></li><li class="alt"><span>avdevice.lib&nbsp;avfilter.lib&nbsp;postproc.lib&nbsp;swresample.lib&nbsp;swscale.lib&nbsp;/OPT:NOREF&nbsp;&nbsp;</span></li></ol></div><pre code_snippet_id="604319" snippet_file_name="blog_20150213_2_9664931" name="code" class="plain" style="display: none;">::VS2010 Environment
call "D:\Program Files\Microsoft Visual Studio 10.0\VC\vcvarsall.bat"
::include
@set INCLUDE=include;%INCLUDE%
::lib
@set LIB=lib;%LIB%
::compile and link
cl simplest_ffmpeg_video_encoder.cpp /link avcodec.lib avformat.lib avutil.lib ^
avdevice.lib avfilter.lib postproc.lib swresample.lib swscale.lib /OPT:NOREF</pre><p></p><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><p><em>MinGW：MinGW命令行下运行compile_mingw.sh即可使用MinGW的g++进行编译。编译命令如下。</em></p></blockquote><p></p><div class="dp-highlighter bg_plain"><div class="bar"><div class="tools"><b>[plain]</b> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><span class="tracking-ad" data-mod="popu_168"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" target="_blank">copy</a><div style="position: absolute; left: 431px; top: 8835px; width: 18px; height: 18px; z-index: 99;"><embed id="ZeroClipboardMovie_3" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_3" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=3&amp;width=18&amp;height=18" wmode="transparent"></div></span><span class="tracking-ad" data-mod="popu_169"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" target="_blank">print</a></span><a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><span class="tracking-ad" data-mod="popu_167"><a href="https://code.csdn.net/snippets/604319" target="_blank" title="在CODE上查看代码片" style="text-indent:0;"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/CODE_ico.png" width="12" height="12" alt="在CODE上查看代码片" style="position:relative;top:1px;left:2px;"></a></span><span class="tracking-ad" data-mod="popu_170"><a href="https://code.csdn.net/snippets/604319/fork" target="_blank" title="派生到我的代码片" style="text-indent:0;"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/ico_fork.svg" width="12" height="12" alt="派生到我的代码片" style="position:relative;top:2px;left:2px;"></a></span></div></div><ol start="1"><li class="alt"><span><span>g++&nbsp;simplest_ffmpeg_video_encoder.cpp&nbsp;-g&nbsp;-o&nbsp;simplest_ffmpeg_video_encoder.exe&nbsp;\&nbsp;&nbsp;</span></span></li><li class=""><span>-I&nbsp;/usr/local/include&nbsp;-L&nbsp;/usr/local/lib&nbsp;\&nbsp;&nbsp;</span></li><li class="alt"><span>-lavformat&nbsp;-lavcodec&nbsp;-lavutil&nbsp;&nbsp;</span></li></ol></div><pre code_snippet_id="604319" snippet_file_name="blog_20150213_3_9452260" name="code" class="plain" style="display: none;">g++ simplest_ffmpeg_video_encoder.cpp -g -o simplest_ffmpeg_video_encoder.exe \
-I /usr/local/include -L /usr/local/lib \
-lavformat -lavcodec -lavutil</pre><p></p><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><p><em>GCC：Linux或者MacOS命令行下运行compile_gcc.sh即可使用GCC进行编译。编译命令如下。</em></p></blockquote><p></p><div class="dp-highlighter bg_plain"><div class="bar"><div class="tools"><b>[plain]</b> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><span class="tracking-ad" data-mod="popu_168"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" target="_blank">copy</a><div style="position: absolute; left: 431px; top: 8991px; width: 18px; height: 18px; z-index: 99;"><embed id="ZeroClipboardMovie_4" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_4" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=4&amp;width=18&amp;height=18" wmode="transparent"></div></span><span class="tracking-ad" data-mod="popu_169"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" target="_blank">print</a></span><a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><span class="tracking-ad" data-mod="popu_167"><a href="https://code.csdn.net/snippets/604319" target="_blank" title="在CODE上查看代码片" style="text-indent:0;"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/CODE_ico.png" width="12" height="12" alt="在CODE上查看代码片" style="position:relative;top:1px;left:2px;"></a></span><span class="tracking-ad" data-mod="popu_170"><a href="https://code.csdn.net/snippets/604319/fork" target="_blank" title="派生到我的代码片" style="text-indent:0;"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/ico_fork.svg" width="12" height="12" alt="派生到我的代码片" style="position:relative;top:2px;left:2px;"></a></span></div></div><ol start="1"><li class="alt"><span><span>gcc&nbsp;simplest_ffmpeg_video_encoder.cpp&nbsp;-g&nbsp;-o&nbsp;simplest_ffmpeg_video_encoder.out&nbsp;\&nbsp;&nbsp;</span></span></li><li class=""><span>-I&nbsp;/usr/local/include&nbsp;-L&nbsp;/usr/local/lib&nbsp;-lavformat&nbsp;-lavcodec&nbsp;-lavutil&nbsp;&nbsp;</span></li></ol></div><pre code_snippet_id="604319" snippet_file_name="blog_20150213_4_6646828" name="code" class="plain" style="display: none;">gcc simplest_ffmpeg_video_encoder.cpp -g -o simplest_ffmpeg_video_encoder.out \
-I /usr/local/include -L /usr/local/lib -lavformat -lavcodec -lavutil</pre><p></p><p>PS：相关的编译命令已经保存到了工程文件夹中<br><br><br>CSDN下载地址：<a target="_blank" href="http://download.csdn.net/detail/leixiaohua1020/8444967">http://download.csdn.net/detail/leixiaohua1020/8444967</a></p><p>SourceForge上已经更新。<br></p><p><br></p>   
</div>




<!-- Baidu Button BEGIN -->




<div class="bdsharebuttonbox tracking-ad bdshare-button-style0-16" style="float: right;" data-mod="popu_172" data-bd-bind="1458711568885">
<a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" class="bds_more" data-cmd="more" style="background-position:0 0 !important; background-image: url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=d754dcc0.png) !important" target="_blank"></a>
<a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间" style="background-position:0 -52px !important" target="_blank"></a>
<a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博" style="background-position:0 -104px !important" target="_blank"></a>
<a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博" style="background-position:0 -260px !important" target="_blank"></a>
<a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" class="bds_renren" data-cmd="renren" title="分享到人人网" style="background-position:0 -208px !important" target="_blank"></a>
<a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" class="bds_weixin" data-cmd="weixin" title="分享到微信" style="background-position:0 -1612px !important" target="_blank"></a>
</div>
<script>window._bd_share_config = { "common": { "bdSnsKey": {}, "bdText": "", "bdMini": "1", "bdMiniList": false, "bdPic": "", "bdStyle": "0", "bdSize": "16" }, "share": {} }; with (document) 0[(getElementsByTagName('head')[0] || body).appendChild(createElement('script')).src = 'http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion=' + ~(-new Date() / 36e5)];</script>
<!-- Baidu Button END -->

   <link rel="stylesheet" href="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/blog_detail.css">

    
<!--172.16.140.11-->

<!-- Baidu Button BEGIN -->
<script type="text/javascript" id="bdshare_js" data="type=tools&amp;uid=1536434" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/bds_s_v2.js"></script>

<script type="text/javascript">
    document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date()/3600000)
</script>
<!-- Baidu Button END -->

 

        <div id="digg" articleid="25430425">
            <dl id="btnDigg" class="digg digg_disable">
               
                 <dt>顶</dt>
                <dd>39</dd>
            </dl>
            <dl id="btnBury" class="digg digg_disable">
              
                  <dt>踩</dt>
                <dd>0</dd>
            </dl>
        </div>

   <ul class="article_next_prev">
                <li class="prev_article"><span onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_shangyipian&#39;]);location.href=&#39;/leixiaohua1020/article/details/25430449&#39;;">上一篇</span><a href="http://blog.csdn.net/leixiaohua1020/article/details/25430449" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_shangyipian&#39;])">最简单的基于FFMPEG的音频编码器（PCM编码为AAC）</a></li>
                <li class="next_article"><span onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_xiayipian&#39;]);location.href=&#39;/leixiaohua1020/article/details/25662609&#39;;">下一篇</span><a href="http://blog.csdn.net/leixiaohua1020/article/details/25662609" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_xiayipian&#39;])">数字信号处理与音频处理（使用Audition）</a></li>
    </ul>

    <div style="clear:both; height:10px;"></div>


        <div class="similar_article" style="">
                <h4>我的同类文章</h4>
                <div class="similar_c" style="margin:20px 0px 0px 0px">
                    <div class="similar_c_t">
                                <label class="similar_cur">
                                    <span style="cursor:pointer" onclick="GetCategoryArticles(&#39;1360795&#39;,&#39;leixiaohua1020&#39;,&#39;foot&#39;,&#39;25430425&#39;);">FFMPEG<em>（137）</em></span>
                                </label>
                                <label class="">
                                    <span style="cursor:pointer" onclick="GetCategoryArticles(&#39;1843731&#39;,&#39;leixiaohua1020&#39;,&#39;foot&#39;,&#39;25430425&#39;);">我的开源项目<em>（66）</em></span>
                                </label>
                    </div>
                   
                    <div class="similar_wrap tracking-ad" data-mod="popu_141" style="max-height:195px;">
                        <a href="http://blog.csdn.net/" style="display:none" target="_blank">http://blog.csdn.net</a>
                        <ul class="similar_list fl"><li><em>•</em><a href="http://blog.csdn.net/leixiaohua1020/article/details/50618190" id="foot_aritcle_50618190undefined6575422616067506" target="_blank" title="最简单的基于FFmpeg的AVfilter的例子-纯净版">最简单的基于FFmpeg的AVfilter的例子-纯净版</a><span>2016-02-01</span><label><i>阅读</i><b>1556</b></label></li> <li><em>•</em><a href="http://blog.csdn.net/leixiaohua1020/article/details/47072861" id="foot_aritcle_47072861undefined08318759127648434" target="_blank" title="最简单的基于FFmpeg的移动端例子附件：IOS自带播放器">最简单的基于FFmpeg的移动端例子附件：IOS自带播放器</a><span>2015-08-01</span><label><i>阅读</i><b>3017</b></label></li> <li><em>•</em><a href="http://blog.csdn.net/leixiaohua1020/article/details/47072519" id="foot_aritcle_47072519undefined6144956350439568" target="_blank" title="最简单的基于FFmpeg的移动端例子：IOS 推流器">最简单的基于FFmpeg的移动端例子：IOS 推流器</a><span>2015-07-29</span><label><i>阅读</i><b>3976</b></label></li> <li><em>•</em><a href="http://blog.csdn.net/leixiaohua1020/article/details/47071547" id="foot_aritcle_47071547undefined1989675626165639" target="_blank" title="最简单的基于FFmpeg的移动端例子：IOS HelloWorld">最简单的基于FFmpeg的移动端例子：IOS HelloWorld</a><span>2015-07-27</span><label><i>阅读</i><b>3756</b></label></li> <li><em>•</em><a href="http://blog.csdn.net/leixiaohua1020/article/details/47059553" id="foot_aritcle_47059553undefined44641590705518763" target="_blank" title="最简单的基于FFmpeg的移动端例子附件：SDL Android HelloWorld">最简单的基于FFmpeg的移动端例子附件：SDL Android HelloWorld</a><span>2015-07-25</span><label><i>阅读</i><b>3349</b></label></li> </ul>

                        <ul class="similar_list fr"><li><em>•</em><a href="http://blog.csdn.net/leixiaohua1020/article/details/47191283" id="foot_aritcle_47191283undefined32872519648906295" target="_blank" title="最简单的基于FFmpeg的移动端例子：Windows Phone HelloWorld">最简单的基于FFmpeg的移动端例子：Windows Phone HelloWorld</a><span>2015-08-01</span><label><i>阅读</i><b>2750</b></label></li> <li><em>•</em><a href="http://blog.csdn.net/leixiaohua1020/article/details/47072673" id="foot_aritcle_47072673undefined6793563206515598" target="_blank" title="最简单的基于FFmpeg的移动端例子：IOS 视频转码器">最简单的基于FFmpeg的移动端例子：IOS 视频转码器</a><span>2015-08-01</span><label><i>阅读</i><b>3310</b></label></li> <li><em>•</em><a href="http://blog.csdn.net/leixiaohua1020/article/details/47072257" id="foot_aritcle_47072257undefined8228953538073673" target="_blank" title="最简单的基于FFmpeg的移动端例子：IOS 视频解码器">最简单的基于FFmpeg的移动端例子：IOS 视频解码器</a><span>2015-07-28</span><label><i>阅读</i><b>3930</b></label></li> <li><em>•</em><a href="http://blog.csdn.net/leixiaohua1020/article/details/47068015" id="foot_aritcle_47068015undefined679292398658843" target="_blank" title="《基于 FFmpeg + SDL 的视频播放器的制作》课程的视频">《基于 FFmpeg + SDL 的视频播放器的制作》课程的视频</a><span>2015-07-26</span><label><i>阅读</i><b>8750</b></label></li> <li><em>•</em><a href="http://blog.csdn.net/leixiaohua1020/article/details/47056733" id="foot_aritcle_47056733undefined9403641576629198" target="_blank" title="最简单的基于FFmpeg的移动端例子附件：Android 自带播放器">最简单的基于FFmpeg的移动端例子附件：Android 自带播放器</a><span>2015-07-25</span><label><i>阅读</i><b>3850</b></label></li> </ul>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/1360795" class="MoreArticle">更多文章</a></div>
                </div>
            </div>    
    <script type="text/javascript">
        $(function () {
            GetCategoryArticles('1360795', 'leixiaohua1020','foot','25430425');
        });
    </script>
      
</div>
<div id="suggest">

</div>
         <script language="javascript" type="text/javascript">     
             $(function(){
                 $.get("/leixiaohua1020/svc/GetSuggestContent/25430425",function(data){
                     $("#suggest").html(data);
                 });     
             });             
         </script>  


<style>
.blog-ass-articl dd {
color: #369;
width: 99%; /*修改行*/
float: left;
overflow: hidden;
font: normal normal 12px/23px "SimSun";
height: 23px;
margin: 0;
padding: 0 0 0 10px;
margin-right: 30px;
background: url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px;
}
</style>

<dl class="blog-ass-articl" id="res-relatived"> 
    <div class="embody embody_b" id="libkeyparent" style="display:none">
            <span class="embody_t">更多资料请参考：</span>
            <div class="embody_c" id="libkey"></div>
    </div>


     <dt><span>猜你在找</span></dt>    


   


    <div id="adCollege" style="width: 42%;float: left;"> 
        <script src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/job_reco.js" type="text/javascript"></script> 
        <script type="text/javascript">
            csdn.position.showEdu({
                sourceType: "blog",
                searchType: "detail",
                searchKey: "25430425",
                username: "",
                recordcount: "5",
                containerId: "adCollege" //容器DIV的id。 
            });
        </script> 
    <div class="tracking-ad" data-mod="popu_84"><dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px; white-space: nowrap;"><a href="http://edu.csdn.net/course/detail/1487" title="Ceph—分布式存储系统的另一个选择" strategy="v4:content" target="_blank">Ceph—分布式存储系统的另一个选择</a></dd><dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px; white-space: nowrap;"><a href="http://edu.csdn.net/course/detail/1564" title="4.7.存储类&amp;作用域&amp;生命周期&amp;链接属性-C语言高级专题第7部分" strategy="v4:content" target="_blank">4.7.存储类&amp;作用域&amp;生命周期&amp;链接属性-C语言高级专题第7部分</a></dd><dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px; white-space: nowrap;"><a href="http://edu.csdn.net/course/detail/1780" title="Spark零基础入门（1）：Scala基本数据类型及程序控制" strategy="v4:content" target="_blank">Spark零基础入门（1）：Scala基本数据类型及程序控制</a></dd><dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px; white-space: nowrap;"><a href="http://edu.csdn.net/course/detail/1956" title="Excel数据透视表实战视频课程【你学得会】" strategy="v4:content" target="_blank">Excel数据透视表实战视频课程【你学得会】</a></dd><dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px; white-space: nowrap;"><a href="http://edu.csdn.net/course/detail/1386" title="CSDN“攒课”课题2：Hadoop入门和大数据应用" strategy="v4:content" target="_blank">CSDN“攒课”课题2：Hadoop入门和大数据应用</a></dd></div></div>  

    
     <div id="res" data-mod="popu_36" class="tracking-ad" style="width: 42%; float: left; margin-right: 30px; display: none;"></div>
   
</dl>


<script type="text/javascript">
    $(function () {
        setTimeout(function () {
            var searchtitletags = '最简单的基于FFMPEG的视频编码器（YUV编码为H.264）' + ',' + $("#tags").html();
            searchService({
                index: 'blog',
                query: searchtitletags,
                from: 5,
                size: 5,
                appendTo: '#res',
                url: 'recommend',
                his: 2,
                client: "blog_cf_enhance",
                tmpl: '<dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px;"><a href="#{ url }" title="#{ title }" strategy="#{ strategy }">#{ title }</a></dd>'
            });
        }, 500);
    });    

 </script>  

    <div id="ad_cen">        
<!--AdForward Begin:-->
<script type="text/javascript" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/s(1)" charset="gbk"></script><script type="text/javascript">
var cpro_id="u1607657";
(window["cproStyleApi"] = window["cproStyleApi"] || {})[cpro_id]={at:"3",rsi0:"728",rsi1:"90",pat:"6",tn:"baiduCustNativeAD",rss1:"#FFFFFF",conBW:"1",adp:"1",ptt:"0",titFF:"%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91",titFS:"14",rss2:"#000000",titSU:"0",ptbg:"90",piw:"0",pih:"0",ptp:"0"}
</script>
<script src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/c.js" type="text/javascript"></script><div id="BAIDU_UNION__wrapper_u1607657_0"><iframe id="iframeu1607657_0" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/ecom.html" width="728" height="90" align="center,center" vspace="0" hspace="0" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" style="border:0; vertical-align:bottom;margin:0;" allowtransparency="true"></iframe></div>
<!--AdForward End-->    </div>  

<div class="comment_class">
    <div id="comment_title" class="panel_head">
        <span class="see_comment">查看评论</span><a name="comments"></a></div>
    <div id="comment_list"><dl class="comment_item comment_topic" id="comment_item_5937119"><dt class="comment_head" floor="59">59楼 <span class="user"><a class="username" href="http://blog.csdn.net/wanglf1986" target="_blank">2015贤</a> <span class="ptime">5天前 09:41发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5937119" username="wanglf1986"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/wanglf1986" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_wanglf1986.jpg" width="40" height="40"></a></dd><dd class="comment_body">雷老师你好，我在用ffmppeg3.0版本对视频进行录制mp4文件时，使用avcodec_encode_video2这个函数特别耗费cpu，视频编码采用了H264，这个函数的cpu耗费达到了20%多， 为什么呢？可以换别的方式吗？我是对rtp流进行录像的。</dd></dl><dl class="comment_item comment_topic" id="comment_item_5918448"><dt class="comment_head" floor="58">58楼 <span class="user"><a class="username" href="http://blog.csdn.net/sanmao0932" target="_blank">sanmao0932</a> <span class="ptime">2016-03-04 11:04发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5918448" username="sanmao0932"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/sanmao0932" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_sanmao0932.jpg" width="40" height="40"></a></dd><dd class="comment_body"><div class="dp-highlighter bg_cpp"><div class="bar"><div class="tools"><b>[cpp]</b> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><span class="tracking-ad" data-mod="popu_168"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy</a><div style="position: absolute; left: 484px; top: 10273px; width: 18px; height: 18px; z-index: 99;"><embed id="ZeroClipboardMovie_5" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_5" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=5&amp;width=18&amp;height=18" wmode="transparent"></div></span><span class="tracking-ad" data-mod="popu_169"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a></span><a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-cpp"><li class="alt"><span><span>编码成H264,&nbsp;保存成文件,没有文件总时间和当前播放时间&nbsp;&nbsp;</span></span></li></ol></div><pre name="code2" class="cpp" style="display: none;">编码成H264, 保存成文件,没有文件总时间和当前播放时间
</pre></dd></dl><dl class="comment_item comment_topic" id="comment_item_5918447"><dt class="comment_head" floor="57">57楼 <span class="user"><a class="username" href="http://blog.csdn.net/sanmao0932" target="_blank">sanmao0932</a> <span class="ptime">2016-03-04 11:04发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5918447" username="sanmao0932"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/sanmao0932" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_sanmao0932.jpg" width="40" height="40"></a></dd><dd class="comment_body">DEMO 编码成H264, 保存成文件,没有文件总时间和当前播放时间,请问这需要在哪里调整 谢谢</dd></dl><dl class="comment_item comment_topic" id="comment_item_5895378"><dt class="comment_head" floor="56">56楼 <span class="user"><a class="username" href="http://blog.csdn.net/wyy_12345" target="_blank">wyy_12345</a> <span class="ptime">2016-02-25 20:54发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5895378" username="wyy_12345"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/wyy_12345" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_wyy_12345.jpg" width="40" height="40"></a></dd><dd class="comment_body">博主你好，你的博客内容对我帮助太大了，否则完全不知道怎么入门ffmpeg。想问点问题，Android摄像头预览的帧数据是NV21（YUV420sp）格式的，是否支持直接转码为H.264呢？还是说必须先转化为YUV420P或其他格式才能转码？<br>另外，最近打算做Android端直播推流，看了一下资料，觉得思路应该是：通过摄像头读取视频流并转码为H.264格式，同时麦克风读取PCM音频并转码为AAC格式，然后将转码后的视频流和音频流封装为Flv格式的数据流，通过RTMP推送到服务端。这个思路正确吗？</dd></dl><dl class="comment_item comment_topic" id="comment_item_5895376"><dt class="comment_head" floor="55">55楼 <span class="user"><a class="username" href="http://blog.csdn.net/wyy_12345" target="_blank">wyy_12345</a> <span class="ptime">2016-02-25 20:53发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5895376" username="wyy_12345"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/wyy_12345" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_wyy_12345.jpg" width="40" height="40"></a></dd><dd class="comment_body">博主你好，你的博客内容对我帮助太大了，否则完全不知道怎么入门ffmpeg。想问点问题，Android摄像头预览的帧数据是NV21（YUV420sp）格式的，是否支持直接转码为H.264呢？还是说必须先转化为YUV420P或其他格式才能转码？<br>另外，最近打算做Android端直播推流，看了一下资料，觉得思路应该是：通过摄像头读取视频流并转码为H.264格式，同时麦克风读取PCM音频并转码为AAC格式，然后将转码后的视频流和音频流封装为Flv格式的数据流，通过RTMP推送到服务端。这个思路正确吗？</dd></dl><dl class="comment_item comment_topic" id="comment_item_5883711"><dt class="comment_head" floor="54">54楼 <span class="user"><a class="username" href="http://blog.csdn.net/yyx199219" target="_blank">yyx199219</a> <span class="ptime">2016-02-17 12:22发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5883711" username="yyx199219"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/yyx199219" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_yyx199219.jpg" width="40" height="40"></a></dd><dd class="comment_body">雷老师,我在做ios端rtmp推流,从何学起,网上的资料太乱看不懂啊</dd></dl><dl class="comment_item comment_topic" id="comment_item_5883708"><dt class="comment_head" floor="53">53楼 <span class="user"><a class="username" href="http://blog.csdn.net/yyx199219" target="_blank">yyx199219</a> <span class="ptime">2016-02-17 12:21发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5883708" username="yyx199219"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/yyx199219" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_yyx199219.jpg" width="40" height="40"></a></dd><dd class="comment_body">雷老师,我在做ios端rtmp推流,从何学起,网上的资料太乱看不懂啊</dd><dl class="comment_item comment_reply" id="comment_item_5887023"><dt class="comment_head" floor="53">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2016-02-19 20:05发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5887023" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复yyx199219：可以按照这篇文章中的顺序看：<br>《[总结]FFMPEG视音频编解码零基础学习方法》</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_5765241"><dt class="comment_head" floor="52">52楼 <span class="user"><a class="username" href="http://blog.csdn.net/u013699869" target="_blank">Sunray-ME</a> <span class="ptime">2016-01-04 17:34发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5765241" username="u013699869"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/u013699869" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_u013699869.jpg" width="40" height="40"></a></dd><dd class="comment_body">av_new_packet(&amp;pkt, picture_size);怎么不直接用av_init_packet(&amp;pkt);？没发现分配大小的意义</dd><dl class="comment_item comment_reply" id="comment_item_5873857"><dt class="comment_head" floor="52">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2016-01-31 23:36发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5873857" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复u013699869：这个地方我原来正好测试过。发现对于某些编码器，必须使用av_new_packet()而不能用av_init_packet()，否则就会出错</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_5764495"><dt class="comment_head" floor="51">51楼 <span class="user"><a class="username" href="http://blog.csdn.net/u010069760" target="_blank">蓝调咖啡燕</a> <span class="ptime">2016-01-04 06:09发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5764495" username="u010069760"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/u010069760" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_u010069760.jpg" width="40" height="40"></a></dd><dd class="comment_body">楼主超nice啊，一个个回答问题，感觉很温馨。刚开始学习视频编解码。向大神致敬！</dd><dl class="comment_item comment_reply" id="comment_item_5873863"><dt class="comment_head" floor="51">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2016-01-31 23:37发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5873863" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复u010069760：哈，希望能和大家交流，共同进步~</dd><dl class="comment_item comment_reply" id="comment_item_5874946"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/u010069760" target="_blank">蓝调咖啡燕</a> <span class="ptime">2016-02-02 06:40发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5874946" username="u010069760"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/u010069760" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_u010069760.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复leixiaohua1020：想问下楼主，有没有做过图像/视频特征压缩呢？这种特征压缩怎么和像素压缩结合呢？毕竟每一帧提取的特征个数不一定相同，楼主有什么建议吗？</dd><dl class="comment_item comment_reply" id="comment_item_5877021"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2016-02-03 16:11发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5877021" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复u010069760：“特征压缩”没接触过，只提取过特征</dd></dl></dl></dl></dl><dl class="comment_item comment_topic" id="comment_item_5736470"><dt class="comment_head" floor="50">50楼 <span class="user"><a class="username" href="http://blog.csdn.net/ilotuo" target="_blank">ilotuo</a> <span class="ptime">2015-12-23 23:16发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5736470" username="ilotuo"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/ilotuo" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_ilotuo.jpg" width="40" height="40"></a></dd><dd class="comment_body">很奇怪 .全局搜索<br>PIX_FMT_YUV422P在 old_pix_fmts.h<br>This header exists to prevent new pixel formats from being accidentally added<br> * to the deprecated list.<br> * Do not include it directly. It will be removed on next major bump<br> *<br> * Do not add new items to this list. Use the AVPixelFormat enum instead.<br><br>不知道你的代码是抄哪里的.<br>这个变量甚至在ffmpeg documentation页都找不到</dd></dl><dl class="comment_item comment_topic" id="comment_item_5721481"><dt class="comment_head" floor="49">49楼 <span class="user"><a class="username" href="http://blog.csdn.net/b1a4love" target="_blank">b1a4love</a> <span class="ptime">2015-12-15 15:51发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5721481" username="b1a4love"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/b1a4love" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_b1a4love.jpg" width="40" height="40"></a></dd><dd class="comment_body">急求雷神帮忙答疑解惑！！！<br>       雷神，我试了一下发现解码后得到的.yuv文件基本上都少了2帧，原来未编解码前是90帧，编解码后只剩下88帧，我想问一下这是什么原因，应该怎么办，急急急！！！需雷神帮忙解答一下，不胜感激</dd><dl class="comment_item comment_reply" id="comment_item_5731692"><dt class="comment_head" floor="49">Re: <span class="user"><a class="username" href="http://blog.csdn.net/u013759134" target="_blank">老醋</a> <span class="ptime">2015-12-20 20:10发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5731692" username="u013759134"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/u013759134" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_u013759134.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复b1a4love：ffmpeg中AVCodecContext中好像有变量，为读出的数据结构avpacket的链表头指针，你再写一个for循环两次，调用解码函数，就能把剩余的帧解出来。</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_5711819"><dt class="comment_head" floor="48">48楼 <span class="user"><a class="username" href="http://blog.csdn.net/b1a4love" target="_blank">b1a4love</a> <span class="ptime">2015-12-10 22:27发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5711819" username="b1a4love"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/b1a4love" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_b1a4love.jpg" width="40" height="40"></a></dd><dd class="comment_body">求大神指点<br>我的.yuv文件是150帧的，gop类型是IBBPBBPBBPBB，所以设置gop_size=12,max_b_frames =2,但是出现了一个问题，每次编码都是从第14帧开始，编到90帧结束后，又进行13次刷新编码，而且最后编码得到的.h264视频，明显持续时间变短，想问一下这是什么原因，应该怎么办，急急急！！！求雷神给予帮助</dd><dl class="comment_item comment_reply" id="comment_item_5712743"><dt class="comment_head" floor="48">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2015-12-11 12:58发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5712743" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复b1a4love：没问题。你第14帧开始编码的时候，实际上编码的是第1帧，以此类推，所以最后才会刷新编码。如果是H.264裸流的话，没有时间戳信息，显示的播放时间自然是有问题的。</dd><dl class="comment_item comment_reply" id="comment_item_5714973"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/b1a4love" target="_blank">b1a4love</a> <span class="ptime">2015-12-12 15:49发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5714973" username="b1a4love"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/b1a4love" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_b1a4love.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复leixiaohua1020：雷神，我试了一下发现解码后得到的.yuv文件基本上都少了2帧，原来未编解码前是90帧，编解码后只剩下88帧，我想问一下这是什么原因，应该怎么办，急急急！！！需雷神帮忙解答一下，不胜感激</dd></dl><dl class="comment_item comment_reply" id="comment_item_5712919"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/b1a4love" target="_blank">b1a4love</a> <span class="ptime">2015-12-11 14:21发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5712919" username="b1a4love"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/b1a4love" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_b1a4love.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复leixiaohua1020：哦，好的，谢谢雷神，那意思是前面编码了77帧，加上后面刷新编码的13帧，这样相当于总的编码的90帧吗？那就是刷新编码和编码是没什么区别的？还有关于持续时间的问题，我用KMPlayer直接播放编码后的.h264视频，持续时间变短也是正常的？</dd></dl></dl></dl><dl class="comment_item comment_topic" id="comment_item_5709375"><dt class="comment_head" floor="47">47楼 <span class="user"><a class="username" href="http://blog.csdn.net/baidu_23388893" target="_blank">baidu_23388893</a> <span class="ptime">2015-12-09 21:33发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5709375" username="baidu_23388893"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/baidu_23388893" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_baidu_23388893.jpg" width="40" height="40"></a></dd><dd class="comment_body">楼主你好，我的yuv视频序列有300帧的，90帧的，260帧的，我想问一下怎么设置GOP结构为IBBPBBPBBPBB，以及怎么设置码率为2Mb/s和5Mb/s</dd><dl class="comment_item comment_reply" id="comment_item_5712747"><dt class="comment_head" floor="47">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2015-12-11 13:00发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5712747" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复baidu_23388893：这个变量在代码里面有明确的说明，都在AVCodecContext里面，你研究一下</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_5704069"><dt class="comment_head" floor="46">46楼 <span class="user"><a class="username" href="http://blog.csdn.net/mj1523" target="_blank">mj1523</a> <span class="ptime">2015-12-07 18:43发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5704069" username="mj1523"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/mj1523" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_mj1523.jpg" width="40" height="40"></a></dd><dd class="comment_body">雷博士 你好。<br>我现在也在用ffmpeg+libx264编码视频，现在遇到一个情况。就是编码出来的视频fps和bit_rate与我设置的不一样（帧率达到几百或者几千，码率则无法观察到），我追到了libx264.c里面 看见里面的值应该也是正确的，我的ffmpeg版本是2.8.2，在ffmpeg0.10.13上是可以用的。</dd><dl class="comment_item comment_reply" id="comment_item_5704665"><dt class="comment_head" floor="46">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2015-12-07 23:48发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5704665" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复mj1523：你输出的是否是H.264裸流？可以在外面添加一个封装格式试试</dd><dl class="comment_item comment_reply" id="comment_item_5727993"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/mj1523" target="_blank">mj1523</a> <span class="ptime">2015-12-17 17:35发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5727993" username="mj1523"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/mj1523" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_mj1523.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复leixiaohua1020：我的是编码成了一个mp4的文件，大部分代码都是照着这篇博客写的，您的这篇文章就是编码出来一个视频文件吧</dd></dl></dl></dl><dl class="comment_item comment_topic" id="comment_item_5680903"><dt class="comment_head" floor="45">45楼 <span class="user"><a class="username" href="http://blog.csdn.net/chlfamily" target="_blank">chlfamily</a> <span class="ptime">2015-12-02 16:34发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5680903" username="chlfamily"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/chlfamily" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_chlfamily.jpg" width="40" height="40"></a></dd><dd class="comment_body">雷老师：<br>请问ffmpeg编码mpeg4效率如何呀，比如编成1920*1080 帧率25 码流4000 i5的机器大约可以编几路呢</dd><dl class="comment_item comment_reply" id="comment_item_5698505"><dt class="comment_head" floor="45">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2015-12-05 23:31发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5698505" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复chlfamily：这个建议自己写一个脚本测试一下</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_5632075"><dt class="comment_head" floor="44">44楼 <span class="user"><a class="username" href="http://blog.csdn.net/u013217561" target="_blank">BlueWater1412</a> <span class="ptime">2015-11-23 08:53发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5632075" username="u013217561"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/u013217561" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_u013217561.jpg" width="40" height="40"></a></dd><dd class="comment_body">ffmpeg包含h264的库吗？为什么能变成.h264格式。</dd><dl class="comment_item comment_reply" id="comment_item_5645215"><dt class="comment_head" floor="44">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2015-11-26 22:59发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5645215" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复u013217561：嗯，我这个库编译的时候包含了libx264</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_5505053"><dt class="comment_head" floor="43">43楼 <span class="user"><a class="username" href="http://blog.csdn.net/u011430225" target="_blank">lk989898</a> <span class="ptime">2015-10-14 09:33发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5505053" username="u011430225"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/u011430225" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_u011430225.jpg" width="40" height="40"></a></dd><dd class="comment_body">楼主好！<br>请教一个问题：为方便问题的描述，我采用Opencv。<br>cv::Mat image(Size(400,300),CV_32FC1); //存储单帧温度数据。浮点型<br>vector&lt;cv::Mat&gt; vecImages; //存储多帧连续的温度数据。<br><br>现在我想将vecImages 的数据编码为H.264,  进行输出，有什么思路吗？<br><br>我的困惑是，一帧浮点型数据，可以像视频帧那样编码成h.264吗？</dd><dl class="comment_item comment_reply" id="comment_item_5645223"><dt class="comment_head" floor="43">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2015-11-26 23:03发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5645223" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复u011430225：我觉得还是要转换成为整形的数据才可以编码吧~</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_5422909"><dt class="comment_head" floor="42">42楼 <span class="user"><a class="username" href="http://blog.csdn.net/fantasymax410" target="_blank">fantasymax410</a> <span class="ptime">2015-09-19 02:45发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5422909" username="fantasymax410"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/fantasymax410" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_fantasymax410.jpg" width="40" height="40"></a></dd><dd class="comment_body">请教下楼主，如果觉得H.264编码出来的视频质量太低了，应该更改哪个参数的设置比较好呢？<br>我用了楼主的参数设置，出来的压缩比太大，画质损失太多，所以想改进下。</dd><dl class="comment_item comment_reply" id="comment_item_5458441"><dt class="comment_head" floor="42">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2015-09-29 14:25发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5458441" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复fantasymax410：提高ACodecContext的bit_rate应该就可以了</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_5422815"><dt class="comment_head" floor="41">41楼 <span class="user"><a class="username" href="http://blog.csdn.net/jipingyuan" target="_blank">PlainJi</a> <span class="ptime">2015-09-18 22:54发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5422815" username="jipingyuan"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/jipingyuan" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_jipingyuan.jpg" width="40" height="40"></a></dd><dd class="comment_body">博主好，请教个问题。<br>用这个代码，将YUV420P成功编码为H264，但是我希望把YUYV格式的YUV数据编码为H264；<br>pCodecCtx-&gt;pix_fmt = PIX_FMT_YUYV422，失败；<br>报错：[libx264 @ 0xb16ec60] Specified pixel format yuyv422 is invalid or not supported<br>是必须要把其他格式的YUV转化为YUV420P才可以进行H264编码吗？<br>感谢！</dd><dl class="comment_item comment_reply" id="comment_item_5458433"><dt class="comment_head" floor="41">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2015-09-29 14:23发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5458433" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复jipingyuan：应该是。你看一下libx264都支持哪些YUV格式</dd><dl class="comment_item comment_reply" id="comment_item_5597273"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/lanlanlan12345" target="_blank">dhu137</a> <span class="ptime">2015-11-07 14:33发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5597273" username="lanlanlan12345"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/lanlanlan12345" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_lanlanlan12345.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复leixiaohua1020：您好！请问，您提供的VS下配置ffmpeg的视频编解码程序，当初编译ffmpeg时加了x264吗？看您的回复应该是加了。我在cygwin环境下写C++ 工程，想用ffmpeg编码H.264会显示没有编码器，所以又编译了个libx264，加到ffmpeg里。但是在我的环境下 编码 的速度比您程序里编码的速度慢很多，3倍多。一直想解决这个问题，请您指点一下~</dd></dl></dl></dl><dl class="comment_item comment_topic" id="comment_item_5406917"><dt class="comment_head" floor="40">40楼 <span class="user"><a class="username" href="http://blog.csdn.net/u013759134" target="_blank">老醋</a> <span class="ptime">2015-09-11 16:17发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5406917" username="u013759134"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/u013759134" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_u013759134.jpg" width="40" height="40"></a></dd><dd class="comment_body">雷博士，您好。我用你的代码对yuv文件编码为h.264，之后我根据AVFrame中pict_type字段判断帧类型，发现每隔250帧(设置的GOP大小)有一个I帧，其余的全部是P帧，竟没有一个B帧或其他类型帧。有点不解，因为用软件对一个图像序列按照h.264格式编码，其中I帧是在场景变换时动态调整，有P、B帧。望回复，谢谢。</dd><dl class="comment_item comment_reply" id="comment_item_5458379"><dt class="comment_head" floor="40">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2015-09-29 14:13发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5458379" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复u013759134：应该是AVCodecContext中参数设置有问题。你检查下</dd><dl class="comment_item comment_reply" id="comment_item_5461637"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/u013759134" target="_blank">老醋</a> <span class="ptime">2015-09-29 19:29发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5461637" username="u013759134"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/u013759134" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_u013759134.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复leixiaohua1020：多谢回复，我找到原因了，AVCodecContext-&gt;max_b_frames没有设，设置该值就行了，感谢楼主的博客。</dd><dl class="comment_item comment_reply" id="comment_item_5711655"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/b1a4love" target="_blank">b1a4love</a> <span class="ptime">2015-12-10 21:00发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5711655" username="b1a4love"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/b1a4love" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_b1a4love.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复u013759134：我想问一下如果我想设置gop格式为IBBPBBPBBPBB,应该修改和设置哪些参数呢</dd><dl class="comment_item comment_reply" id="comment_item_5731688" style="margin-left:0;"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/u013759134" target="_blank">老醋</a> <span class="ptime">2015-12-20 20:06发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5731688" username="u013759134"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/u013759134" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_u013759134.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复b1a4love：这个还真不知道，gop设置只是个阀值，gop好像不是设置了就一直是这个大小，编码时会自适应编码I帧。</dd></dl></dl></dl></dl></dl><dl class="comment_item comment_topic" id="comment_item_5333309"><dt class="comment_head" floor="39">39楼 <span class="user"><a class="username" href="http://blog.csdn.net/pb1207" target="_blank">pb1207</a> <span class="ptime">2015-08-24 15:22发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5333309" username="pb1207"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/pb1207" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_pb1207.jpg" width="40" height="40"></a></dd><dd class="comment_body">楼主很伟大。 楼主有没有好的书推荐（关于视频封装格式的讲解和视频编解码的关键知识点） 。谢谢</dd><dl class="comment_item comment_reply" id="comment_item_5386417"><dt class="comment_head" floor="39">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2015-09-02 14:34发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5386417" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复pb1207：封装格式的讲解好像一般都是网上的资料。<br>书的话，入门的可以参考：<br>《视频技术内幕》《现代电视原理》这些<br>高级的可以参考：<br>毕厚杰的《新一代视频压缩码标准-H.264》</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_5287559"><dt class="comment_head" floor="38">38楼 <span class="user"><a class="username" href="http://blog.csdn.net/lin070161614" target="_blank">lin070161614</a> <span class="ptime">2015-08-08 18:15发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5287559" username="lin070161614"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/lin070161614" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_lin070161614.jpg" width="40" height="40"></a></dd><dd class="comment_body">你好，请问为什么在头几帧调用avcodec_encode_video2时got_picture一直是返回0，而后面突然又返回1呢，我的代码跟你的方法基本一样，但是我got_picture返回0的帧数多很多，我尝试一直使用同一样的数据不停调用avcodec_encode_video2，结果也是前面的一部分帧got_picture一直返回0，然后后面又正常返回1。</dd><dl class="comment_item comment_reply" id="comment_item_5386431"><dt class="comment_head" floor="38">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2015-09-02 14:38发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5386431" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复lin070161614：编码的时候本身需要缓存一些帧，也正常。你对比看下输出的H.264码流和输入的YUV数据就知道编码有没有问题了~</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_5287557"><dt class="comment_head" floor="37">37楼 <span class="user"><a class="username" href="http://blog.csdn.net/lin070161614" target="_blank">lin070161614</a> <span class="ptime">2015-08-08 18:14发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5287557" username="lin070161614"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/lin070161614" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_lin070161614.jpg" width="40" height="40"></a></dd><dd class="comment_body">你好，请问为什么在头几帧调用avcodec_encode_video2时got_picture一直是返回0，而后面突然又返回1呢，我的代码跟你的方法基本一样，但是我got_picture返回0的帧数多很多，我尝试一直使用同一样的数据不停调用avcodec_encode_video2，结果也是前面的一部分帧got_picture一直返回0，然后后面又正常返回1</dd></dl><dl class="comment_item comment_topic" id="comment_item_5279243"><dt class="comment_head" floor="36">36楼 <span class="user"><a class="username" href="http://blog.csdn.net/qq_29900615" target="_blank">qq_29900615</a> <span class="ptime">2015-08-05 14:11发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5279243" username="qq_29900615"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/qq_29900615" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_qq_29900615.jpg" width="40" height="40"></a></dd><dd class="comment_body">您好，我想知道压缩生成后的.h264格式的文件要达到怎样的标准才算是压缩成功的呢？</dd><dl class="comment_item comment_reply" id="comment_item_5289537"><dt class="comment_head" floor="36">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2015-08-09 22:23发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5289537" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复qq_29900615：一般情况下，使用视频播放器（QQ影音，VLC这些）可以播放就可以了</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_5274193"><dt class="comment_head" floor="35">35楼 <span class="user"><a class="username" href="http://blog.csdn.net/zh_ang_hua" target="_blank">flyinghero09</a> <span class="ptime">2015-08-03 16:48发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5274193" username="zh_ang_hua"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/zh_ang_hua" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_zh_ang_hua.jpg" width="40" height="40"></a></dd><dd class="comment_body">fread(picture_buf, 1, y_size*3/2, in_file)这一句是读取in_file数据，如果我现在有一帧图像数据byte[],是否直接赋值给picture_buf？这一块不是很明白，希望楼主给讲讲</dd><dl class="comment_item comment_reply" id="comment_item_5276091"><dt class="comment_head" floor="35">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2015-08-04 11:12发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5276091" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复zh_ang_hua：是可以的，你试一下~</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_5274173"><dt class="comment_head" floor="34">34楼 <span class="user"><a class="username" href="http://blog.csdn.net/zh_ang_hua" target="_blank">flyinghero09</a> <span class="ptime">2015-08-03 16:43发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5274173" username="zh_ang_hua"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/zh_ang_hua" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_zh_ang_hua.jpg" width="40" height="40"></a></dd><dd class="comment_body">雷神，<br>if (fread(picture_buf, 1, y_size*3/2, in_file) &lt;= 0){  <br>            printf("Failed to read raw data! \n");  <br>            return -1;  <br>        }else if(feof(in_file)){  <br>            break;  <br>        }  <br>        pFrame-&gt;data[0] = picture_buf;              // Y  <br>        pFrame-&gt;data[1] = picture_buf+ y_size;      // U   <br>        pFrame-&gt;data[2] = picture_buf+ y_size*5/4;  // V  <br>这里是读取文件赋值给pFrame，但是如果我现在在android平台只有byte* 数据（yuv），怎么进行赋值呢？</dd></dl><dl class="comment_item comment_topic" id="comment_item_5207623"><dt class="comment_head" floor="33">33楼 <span class="user"><a class="username" href="http://blog.csdn.net/shansmile" target="_blank">shansmile</a> <span class="ptime">2015-07-16 23:48发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5207623" username="shansmile"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/shansmile" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_shansmile.jpg" width="40" height="40"></a></dd><dd class="comment_body">您好，<br>  ffmpeg主页的广告，有一句命令: $ ffmpeg -i input.mp4 output.avi , 为什么不能直接用这条命令呢？<br>  <br>  另外想请教您，这段程序里有： *in_file = fopen("src01_480x272.yuv", "rb");    <br>  1. 看起来input是一个已经存在的文件，相当于这段编码是非实时的编码。对于实时数据的编码怎么操作呢？<br>  2. 如果实时数据存放在一个指针指向的buffer里，这里的in_file可以直接等于这个buffer地址吗？<br><br>  谢谢</dd></dl><dl class="comment_item comment_topic" id="comment_item_5207621"><dt class="comment_head" floor="32">32楼 <span class="user"><a class="username" href="http://blog.csdn.net/shansmile" target="_blank">shansmile</a> <span class="ptime">2015-07-16 23:47发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5207621" username="shansmile"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/shansmile" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_shansmile.jpg" width="40" height="40"></a></dd><dd class="comment_body">您好，<br>  ffmpeg主页的广告，有一句命令: $ ffmpeg -i input.mp4 output.avi , 为什么不能直接用这条命令呢？<br>  <br>  另外想请教您，这段程序里有： *in_file = fopen("src01_480x272.yuv", "rb");    <br>  1. 看起来input是一个已经存在的文件，相当于这段编码是非实时的编码。对于实时数据的编码怎么操作呢？<br>  2. 如果实时数据存放在一个指针指向的buffer里，这里的in_file可以直接等于这个buffer地址吗？<br><br>  谢谢</dd><dl class="comment_item comment_reply" id="comment_item_5207891"><dt class="comment_head" floor="32">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2015-07-17 09:46发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5207891" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复shansmile：你好啊。ffmpeg -i ...那个是命令行调用，这个是程序，功能不一样了。<br>这个in_file可以直接替换成内存，实时编码内存中的数据，这也是命令行无法实现的一个功能了</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_5204049"><dt class="comment_head" floor="31">31楼 <span class="user"><a class="username" href="http://blog.csdn.net/she8275081" target="_blank">she8275081</a> <span class="ptime">2015-07-15 14:19发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5204049" username="she8275081"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/she8275081" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_she8275081.jpg" width="40" height="40"></a></dd><dd class="comment_body">先感谢下先</dd><dl class="comment_item comment_reply" id="comment_item_5207879"><dt class="comment_head" floor="31">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2015-07-17 09:43发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5207879" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复she8275081：谢支持！</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_5195457"><dt class="comment_head" floor="30">30楼 <span class="user"><a class="username" href="http://blog.csdn.net/KZF10071011" target="_blank">KZF10071011</a> <span class="ptime">2015-07-10 11:41发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5195457" username="KZF10071011"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/KZF10071011" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_kzf10071011.jpg" width="40" height="40"></a></dd><dd class="comment_body">雷老师您好！为什么您代码中输入视频文件大概9M多，H.264编码输出后的文件才20k，264压缩比没这么大啊，什么原因呢，谢谢！！！！！！</dd><dl class="comment_item comment_reply" id="comment_item_5207847"><dt class="comment_head" floor="30">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2015-07-17 09:39发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5207847" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复KZF10071011：264压缩比确实很大，你检查一下输出的H.264码流是否可以正常播放就知道是否压缩正常了。</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_5195403"><dt class="comment_head" floor="29">29楼 <span class="user"><a class="username" href="http://blog.csdn.net/KZF10071011" target="_blank">KZF10071011</a> <span class="ptime">2015-07-10 11:29发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5195403" username="KZF10071011"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/KZF10071011" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_kzf10071011.jpg" width="40" height="40"></a></dd><dd class="comment_body">雷老师您好！这个代码中您输入的yuv源视频文件有9M多，采用H.264编码后的输出文件为什么只有20k左右，264的压缩比没这么大啊</dd></dl><dl class="comment_item comment_topic" id="comment_item_5183973"><dt class="comment_head" floor="28">28楼 <span class="user"><a class="username" href="http://blog.csdn.net/dong123ohyes" target="_blank">爱上的云</a> <span class="ptime">2015-07-03 20:38发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5183973" username="dong123ohyes"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/dong123ohyes" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_dong123ohyes.jpg" width="40" height="40"></a></dd><dd class="comment_body">雷老师，您好！<br>我想问下第184行的  ¶m  是什么？<br>   //H.264  <br>    if(pCodecCtx-&gt;codec_id == AV_CODEC_ID_H264) {  <br>        av_dict_set(¶m, "preset", "slow", 0);  <br>        av_dict_set(¶m, "tune", "zerolatency", 0);  <br>        //av_dict_set(¶m, "profile", "main", 0);  <br>    }  <br><br>我用的VS2010环境编译，把 ¶m 换成NULL能编译通过。但是执行到av_dict_set(¶m, "preset", "slow", 0);  这句时，报错：xxx.exe中的 0x5ede798f 处有未经处理的异常: 0xC0000005: 读取位置 0x00000000 时发生访问冲突。<br>求助，懂的哥哥也可以回答下。</dd><dl class="comment_item comment_reply" id="comment_item_5184293"><dt class="comment_head" floor="28">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2015-07-04 01:01发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5184293" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复dong123ohyes：这里应该是网页显示错误<br>应该是&amp;param</dd><dl class="comment_item comment_reply" id="comment_item_5184987"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/dong123ohyes" target="_blank">爱上的云</a> <span class="ptime">2015-07-04 17:03发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5184987" username="dong123ohyes"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/dong123ohyes" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_dong123ohyes.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复leixiaohua1020：我尝试了下，好像像素必须为2的整数倍才行</dd></dl><dl class="comment_item comment_reply" id="comment_item_5184889"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/dong123ohyes" target="_blank">爱上的云</a> <span class="ptime">2015-07-04 15:33发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5184889" username="dong123ohyes"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/dong123ohyes" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_dong123ohyes.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复leixiaohua1020： 喔，谢谢！ 我用你的代码，为什么avcodec_open2()打开编码器时一直失败呢（返回-1）？</dd><dl class="comment_item comment_reply" id="comment_item_5615743"><dt class="comment_head" floor="2">Re: <span class="user"><a class="username" href="http://blog.csdn.net/WoAiXiaoJiaA" target="_blank">我爱小家啊</a> <span class="ptime">2015-11-16 09:45发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5615743" username="WoAiXiaoJiaA"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/WoAiXiaoJiaA" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_woaixiaojiaa.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复dong123ohyes：因为你的AVCodecContext的参数没有设置好！</dd></dl></dl></dl></dl><dl class="comment_item comment_topic" id="comment_item_5156065"><dt class="comment_head" floor="27">27楼 <span class="user"><a class="username" href="http://blog.csdn.net/jacknian" target="_blank">jacknian</a> <span class="ptime">2015-06-22 21:39发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5156065" username="jacknian"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/jacknian" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_jacknian.jpg" width="40" height="40"></a></dd><dd class="comment_body">雷老师，我的YUV显示最后为黑白的，请问啥情况，咋解决呢</dd><dl class="comment_item comment_reply" id="comment_item_5184287"><dt class="comment_head" floor="27">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2015-07-04 00:52发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5184287" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复jacknian：可能是U、V数据有问题吧。。</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_5155197"><dt class="comment_head" floor="26">26楼 <span class="user"><a class="username" href="http://blog.csdn.net/gjf048100" target="_blank">gjf048100</a> <span class="ptime">2015-06-22 11:14发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5155197" username="gjf048100"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/gjf048100" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_gjf048100.jpg" width="40" height="40"></a></dd><dd class="comment_body">为什么在android上编出来的码总是花屏，像马赛克一样</dd><dl class="comment_item comment_reply" id="comment_item_5184285"><dt class="comment_head" floor="26">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2015-07-04 00:51发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5184285" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复gjf048100：看下是不是参数设置有问题，这个代码应该可以在安卓上跑的。</dd><dl class="comment_item comment_reply" id="comment_item_5207595"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/shansmile" target="_blank">shansmile</a> <span class="ptime">2015-07-16 23:26发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5207595" username="shansmile"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/shansmile" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_shansmile.jpg" width="40" height="40"></a></dd><dd class="comment_body">您好，<br>  ffmpeg主页的广告，有一句命令: $ ffmpeg -i input.mp4 output.avi , 为什么不能直接用这条命令呢？<br>  <br>  另外想请教您，这段程序里有： *in_file = fopen("src01_480x272.yuv", "rb");    <br>  1. 看起来input是一个已经存在的文件，相当于这段编码是非实时的编码。对于实时数据的编码怎么操作呢？<br>  2. 如果实时数据存放在一个指针指向的buffer里，这里的in_file可以直接等于这个buffer地址吗？<br><br>  谢谢</dd></dl></dl></dl><dl class="comment_item comment_topic" id="comment_item_5126981"><dt class="comment_head" floor="25">25楼 <span class="user"><a class="username" href="http://blog.csdn.net/yessey88" target="_blank">yessey88</a> <span class="ptime">2015-06-06 19:59发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5126981" username="yessey88"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/yessey88" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_yessey88.jpg" width="40" height="40"></a></dd><dd class="comment_body">雷老师 请问我直接把.h264改成.mkv 这样能封装成mkv视频么</dd><dl class="comment_item comment_reply" id="comment_item_5134037"><dt class="comment_head" floor="25">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2015-06-09 23:32发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5134037" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复yessey88：可以。FFmpeg会自动判断后缀（位于“.”后面的认为是后缀），如果是某种封装格式，就会进行相应的封装。</dd><dl class="comment_item comment_reply" id="comment_item_5184411"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/yessey88" target="_blank">yessey88</a> <span class="ptime">2015-07-04 10:20发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5184411" username="yessey88"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/yessey88" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_yessey88.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复leixiaohua1020：老师 如果我直接将yuv封装成.mkv的文件 没办法播放是什么原因？</dd></dl></dl></dl><dl class="comment_item comment_topic" id="comment_item_5074349"><dt class="comment_head" floor="24">24楼 <span class="user"><a class="username" href="http://blog.csdn.net/feirose" target="_blank">飞默</a> <span class="ptime">2015-05-25 14:31发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5074349" username="feirose"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/feirose" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_feirose.jpg" width="40" height="40"></a></dd><dd class="comment_body">群主，一直在看你的博客，受益匪浅，最近一直对时间戳设置不了解，能否出个专栏讲解下时间戳在编码和解码的设置呢，谢谢。</dd><dl class="comment_item comment_reply" id="comment_item_5121723"><dt class="comment_head" floor="24">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2015-06-04 16:11发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5121723" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复feirose：有时间会考虑~</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_4860539"><dt class="comment_head" floor="23">23楼 <span class="user"><a class="username" href="http://blog.csdn.net/fantasymax410" target="_blank">fantasymax410</a> <span class="ptime">2015-03-19 07:02发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4860539" username="fantasymax410"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/fantasymax410" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_fantasymax410.jpg" width="40" height="40"></a></dd><dd class="comment_body">最近在研究ffmpeg编码，试了你的程序，为什么在win上能跑，但是在linux一直提示undefined reference to av_frame_free &amp; av_frame_alloc，这两个函数有什么问题吗？一直没法解决，特来求教，谢谢~</dd><dl class="comment_item comment_reply" id="comment_item_4868427"><dt class="comment_head" floor="23">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2015-03-22 20:59发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4868427" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复fantasymax410：应该是FFmpeg的版本问题，av_frame_alloc()好像是后来加入的API，你换个新版本的FFmpeg类库试试</dd><dl class="comment_item comment_reply" id="comment_item_4871521"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/fantasymax410" target="_blank">fantasymax410</a> <span class="ptime">2015-03-24 02:42发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4871521" username="fantasymax410"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/fantasymax410" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_fantasymax410.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复leixiaohua1020：需要重装个新版的ffmpeg么？我看了下我的ffmpeg是2.2版本的，请问你用的是什么版本呢？谢谢~</dd><dl class="comment_item comment_reply" id="comment_item_4908897"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2015-04-02 01:23发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4908897" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复fantasymax410：具体版本我不记得了。我上个月还在当前最新的FFmpeg类库上测试过，是可以用的~</dd></dl></dl></dl></dl><dl class="comment_item comment_topic" id="comment_item_4822605"><dt class="comment_head" floor="22">22楼 <span class="user"><a class="username" href="http://blog.csdn.net/isluckyguo" target="_blank">isluckyguo</a> <span class="ptime">2015-03-04 10:45发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4822605" username="isluckyguo"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/isluckyguo" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_isluckyguo.jpg" width="40" height="40"></a></dd><dd class="comment_body">雷神好，最近在学习你的博客，想问一下上面代码中got_picture该如何理解？看上去好像是got_picture==1时才编码成功</dd><dl class="comment_item comment_reply" id="comment_item_4837067"><dt class="comment_head" floor="22">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2015-03-10 16:14发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4837067" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复isluckyguo：对，函数是这样定义的，想深入研究的话可以看一下源代码</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_4805857"><dt class="comment_head" floor="21">21楼 <span class="user"><a class="username" href="http://blog.csdn.net/feifei0831" target="_blank">feifei0831</a> <span class="ptime">2015-02-25 13:54发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4805857" username="feifei0831"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/feifei0831" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_feifei0831.jpg" width="40" height="40"></a></dd><dd class="comment_body">请问一下，我是在LINUX系统下编译的，但是出现av_frame_free()和av_frame_alloc()找不到的错误，这是怎么回事，又怎么解决呢？</dd><dl class="comment_item comment_reply" id="comment_item_4837055"><dt class="comment_head" floor="21">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2015-03-10 16:11发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4837055" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复feifei0831：应该是FFmpeg版本的问题，你试一下新版本</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_4751875"><dt class="comment_head" floor="20">20楼 <span class="user"><a class="username" href="http://blog.csdn.net/z4656207" target="_blank">z4656207</a> <span class="ptime">2015-01-29 15:54发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4751875" username="z4656207"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/z4656207" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_z4656207.jpg" width="40" height="40"></a></dd><dd class="comment_body">非常感谢雷哥的分享，还有几个问题不太懂，av_new_packet(&amp;pkt,y_size*3); 这里*3是什么意思？还有下面的y_size*3/2和y_size*5/4，要是关键代码部分有注释就更完美了~</dd><dl class="comment_item comment_reply" id="comment_item_4800207"><dt class="comment_head" floor="20">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2015-02-15 22:45发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4800207" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复z4656207：av_new_packet()里面的y_size*3是预先分配的内存的大小，这里实际上是随意分配了一个比较大的内存空间（足以存下包括3个分量的1帧数据）。<br>y_size*3/2是一帧YUV数据的大小。<br>y_size*5/4是V数据的起始点。</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_4751815"><dt class="comment_head" floor="19">19楼 <span class="user"><a class="username" href="http://blog.csdn.net/keke274233971" target="_blank">keke274233971</a> <span class="ptime">2015-01-29 15:45发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4751815" username="keke274233971"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/keke274233971" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_keke274233971.jpg" width="40" height="40"></a></dd><dd class="comment_body">hi，楼主，pCodecCtx-&gt;gop_size=250;这里我设为0后，出来的画面很差。这怎么改</dd><dl class="comment_item comment_reply" id="comment_item_4794765"><dt class="comment_head" floor="19">Re: <span class="user"><a class="username" href="http://blog.csdn.net/casic207" target="_blank">casic207</a> <span class="ptime">2015-02-12 11:10发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4794765" username="casic207"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/casic207" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_casic207.jpg" width="40" height="40"></a></dd><dd class="comment_body">这个参数的含义是 I帧间隔，不能为0啊</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_4692155"><dt class="comment_head" floor="18">18楼 <span class="user"><a class="username" href="http://blog.csdn.net/casic207" target="_blank">casic207</a> <span class="ptime">2015-01-07 17:20发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4692155" username="casic207"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/casic207" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_casic207.jpg" width="40" height="40"></a></dd><dd class="comment_body">雷博好！<br>通过学习你的这段代码，我有个问题现在仍不清楚：<br>对yuv编码后，调用av_write_frame(pFormatCtx, &amp;pkt);  写文件，那么编码后的264数据在哪呢？怎么能提取出这个编码后的数据呢？</dd><dl class="comment_item comment_reply" id="comment_item_4696775"><dt class="comment_head" floor="18">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2015-01-09 13:18发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4696775" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复casic207：这个编码后的数据经过AVIOContext直接输出到文件中了。如果你想要获取这个数据的话，可以自定义输出的回调函数。</dd><dl class="comment_item comment_reply" id="comment_item_4712545"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/casic207" target="_blank">casic207</a> <span class="ptime">2015-01-15 17:44发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4712545" username="casic207"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/casic207" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_casic207.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复leixiaohua1020：为什么我写的文件用vlc播放的时候，在拖动滚动条时会花屏呢？</dd><dl class="comment_item comment_reply" id="comment_item_4718231"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2015-01-18 13:43发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4718231" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复casic207：这个应该和编码时候用的参数有关吧</dd><dl class="comment_item comment_reply" id="comment_item_4794759" style="margin-left:0;"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/casic207" target="_blank">casic207</a> <span class="ptime">2015-02-12 11:09发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4794759" username="casic207"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/casic207" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_casic207.jpg" width="40" height="40"></a></dd><dd class="comment_body">谢谢雷博，问题已解决</dd></dl></dl></dl></dl></dl><dl class="comment_item comment_topic" id="comment_item_4690695"><dt class="comment_head" floor="17">17楼 <span class="user"><a class="username" href="http://blog.csdn.net/hnrayer" target="_blank">www点elesos点com</a> <span class="ptime">2015-01-07 10:48发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4690695" username="hnrayer"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/hnrayer" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_hnrayer.jpg" width="40" height="40"></a></dd><dd class="comment_body">got_picture用got_packet更好</dd><dl class="comment_item comment_reply" id="comment_item_4696769"><dt class="comment_head" floor="17">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2015-01-09 13:15发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4696769" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复hnrayer：哈哈，更形象</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_4645571"><dt class="comment_head" floor="16">16楼 <span class="user"><a class="username" href="http://blog.csdn.net/dancing_night" target="_blank">dancing_night</a> <span class="ptime">2014-12-29 11:49发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4645571" username="dancing_night"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/dancing_night" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_dancing_night.jpg" width="40" height="40"></a></dd><dd class="comment_body">雷神，我的avcodec_encode_video2每压缩一帧内存就会涨，我已经av_free_packet了还是会涨，请问怎么解决？我是用dc抓桌面 压制avi</dd></dl><dl class="comment_item comment_topic" id="comment_item_4618325"><dt class="comment_head" floor="15">15楼 <span class="user"><a class="username" href="http://blog.csdn.net/liuxuejin" target="_blank">liuxuejin</a> <span class="ptime">2014-12-18 00:36发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4618325" username="liuxuejin"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/liuxuejin" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_liuxuejin.jpg" width="40" height="40"></a></dd><dd class="comment_body">这个直接把文件改为xxx.flv 打开生成的文件 会只要一个画面</dd><dl class="comment_item comment_reply" id="comment_item_4622569"><dt class="comment_head" floor="15">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2014-12-19 19:59发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4622569" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复liuxuejin：看看log信息输出是什么</dd><dl class="comment_item comment_reply" id="comment_item_4629387"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/liuxuejin" target="_blank">liuxuejin</a> <span class="ptime">2014-12-23 09:56发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4629387" username="liuxuejin"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/liuxuejin" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_liuxuejin.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复leixiaohua1020：Codec for stream 0 does not use global headers but container format requires global headers<br><br>这一行有没有关系？</dd></dl></dl></dl><dl class="comment_item comment_topic" id="comment_item_4547495"><dt class="comment_head" floor="14">14楼 <span class="user"><a class="username" href="http://blog.csdn.net/zj6715894" target="_blank">zj6715894</a> <span class="ptime">2014-11-25 16:57发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4547495" username="zj6715894"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/zj6715894" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_zj6715894.jpg" width="40" height="40"></a></dd><dd class="comment_body">雷老师你好，avformat_write_header执行是成功的，返回值是0，但是实际没有将信息头写入文件中，请问是什么原因</dd><dl class="comment_item comment_reply" id="comment_item_4622519"><dt class="comment_head" floor="14">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2014-12-19 19:46发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4622519" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复zj6715894：如果是类似于MPEG2TS这种的封装格式，属于“没有头”的封装格式，avformat_write_header()不会写入任何内容的</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_4528997"><dt class="comment_head" floor="13">13楼 <span class="user"><a class="username" href="http://blog.csdn.net/anluo1988" target="_blank">anluo1988</a> <span class="ptime">2014-11-19 13:51发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4528997" username="anluo1988"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/anluo1988" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_anluo1988.jpg" width="40" height="40"></a></dd><dd class="comment_body">雷博士，你好，我想请问一下，我的电脑调试您的程序时avcodec_find_encoder执行后都是找不到编码器，我的环境是Win 7 + VS2010，<br>if (!pCodec)<br>{<br>		printf("没有找到合适的编码器！\n");<br>		return -1;<br>}</dd><dl class="comment_item comment_reply" id="comment_item_5396305"><dt class="comment_head" floor="13">Re: <span class="user"><a class="username" href="http://blog.csdn.net/langyunming" target="_blank">langyunming</a> <span class="ptime">2015-09-07 18:11发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5396305" username="langyunming"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/langyunming" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_langyunming.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复anluo1988：没装x264库吧，编个就可以了。</dd></dl><dl class="comment_item comment_reply" id="comment_item_4619375"><dt class="comment_head" floor="13">Re: <span class="user"><a class="username" href="http://blog.csdn.net/liuxuejin" target="_blank">liuxuejin</a> <span class="ptime">2014-12-18 14:55发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4619375" username="liuxuejin"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/liuxuejin" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_liuxuejin.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复anluo1988：明显你没有安装这个编码器吧</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_4493881"><dt class="comment_head" floor="12">12楼 <span class="user"><a class="username" href="http://blog.csdn.net/chenFteng" target="_blank">陈腾腾</a> <span class="ptime">2014-11-07 00:17发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4493881" username="chenFteng"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/chenFteng" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_chenfteng.jpg" width="40" height="40"></a></dd><dd class="comment_body">楼主好：刚入职公司做音视频编解码，我一直在学习您博客中的内容，公司主管推荐的。现在我想把音频编码和视频编码合到一个程序中，但卡在了fmt = av_guess_format这个地方，这个函数只能猜出音频的或视频的，若先打开音频输入文件，在执行pFormatCtx-&gt;oformat = fmt;猜出aac类型AVOutputFormat格式后，并把结果赋给pFormatCtx-&gt;oformat后，我怎么将猜出的h264类型的视频格式的信息再加到pFormatCtx-&gt;oformat中啊？<br>想了两天了。没试出来。</dd><dl class="comment_item comment_reply" id="comment_item_4493905"><dt class="comment_head" floor="12">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2014-11-07 00:44发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4493905" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复chenFteng：QQ里已经说过了~</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_4486953"><dt class="comment_head" floor="11">11楼 <span class="user"><a class="username" href="http://blog.csdn.net/a771270076" target="_blank">a771270076</a> <span class="ptime">2014-11-05 10:48发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4486953" username="a771270076"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/a771270076" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_a771270076.jpg" width="40" height="40"></a></dd><dd class="comment_body">楼主，你好，请教怎么获取yuv的高度和宽度</dd><dl class="comment_item comment_reply" id="comment_item_4493903"><dt class="comment_head" floor="11">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2014-11-07 00:43发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4493903" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复a771270076：AVCodecContext和AVFrame里面有width，height字段~</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_4449067"><dt class="comment_head" floor="10">10楼 <span class="user"><a class="username" href="http://blog.csdn.net/luaax" target="_blank">luaax</a> <span class="ptime">2014-10-28 20:48发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4449067" username="luaax"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/luaax" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_luaax.jpg" width="40" height="40"></a></dd><dd class="comment_body">你好，博主。我有两个问题想问请问一下，1.如果我现在得到是的NV21的byte数组，能否通过ffmpeg直接转成mpeg的byte数组？<br>2.av_guess_format+文件名 猜格式 这里，为什么要猜格式呢，不是明确知道输入输出的格式么？</dd><dl class="comment_item comment_reply" id="comment_item_4450603"><dt class="comment_head" floor="10">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2014-10-29 00:23发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4450603" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复luaax：1.你看一下FFmpeg如果这两种格式都支持的话，就可以用libsws那个库完成。<br>2.需要的，你输入的格式只是一个“字符串”。FFmpeg处理的格式是 AVOutputFormat结构体~</dd><dl class="comment_item comment_reply" id="comment_item_4481515"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/luaax" target="_blank">luaax</a> <span class="ptime">2014-11-03 21:52发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4481515" username="luaax"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/luaax" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_luaax.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复leixiaohua1020：谢谢你的回复。这几天都在搞这个转码，因为我是android上移植过来的，得到的YUV数据是byte数组。我想请问一下，关于libsws的使用说明，是不是只有看源码。。。或者博主能给些推荐么～</dd></dl></dl></dl><dl class="comment_item comment_topic" id="comment_item_4252725"><dt class="comment_head" floor="9">9楼 <span class="user"><a class="username" href="http://blog.csdn.net/fly531897049" target="_blank">fly531897049</a> <span class="ptime">2014-09-05 15:53发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4252725" username="fly531897049"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/fly531897049" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_fly531897049.jpg" width="40" height="40"></a></dd><dd class="comment_body">博主你好，我把YUV数据以h264压缩后，在播放的时候出现了快进现象，而且偶尔有花屏现象，请问是什么情况啊？</dd><dl class="comment_item comment_reply" id="comment_item_4261773"><dt class="comment_head" floor="9">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2014-09-09 16:08发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4261773" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复fly531897049：快进的话，是不是和PTS有关？</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_4251021"><dt class="comment_head" floor="8">8楼 <span class="user"><a class="username" href="http://blog.csdn.net/cczjp89" target="_blank">浮游先生</a> <span class="ptime">2014-09-05 09:51发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4251021" username="cczjp89"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/cczjp89" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_cczjp89.jpg" width="40" height="40"></a></dd><dd class="comment_body">群主，碉堡了</dd><dl class="comment_item comment_reply" id="comment_item_4261829"><dt class="comment_head" floor="8">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2014-09-09 16:17发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4261829" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复cczjp89：谢支持 ^_^</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_4214947"><dt class="comment_head" floor="7">7楼 <span class="user"><a class="username" href="http://blog.csdn.net/u010677829" target="_blank">雪哥是流氓</a> <span class="ptime">2014-08-26 20:07发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4214947" username="u010677829"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/u010677829" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_u010677829.jpg" width="40" height="40"></a></dd><dd class="comment_body">本人较笨，请问楼主，到底怎么封装，才能将h264文件转为通用的avi、MP4文件？能不能给个具体代码</dd><dl class="comment_item comment_reply" id="comment_item_4229303"><dt class="comment_head" floor="7">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2014-08-30 17:27发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4229303" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复u010677829：你参考一下这个吧：《最简单的基于FFMPEG的封装格式转换器（无编解码） 》</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_4176215"><dt class="comment_head" floor="6">6楼 <span class="user"><a class="username" href="http://blog.csdn.net/dingf350783240" target="_blank">视频摘要</a> <span class="ptime">2014-08-15 11:31发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4176215" username="dingf350783240"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/dingf350783240" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_dingf350783240.jpg" width="40" height="40"></a></dd><dd class="comment_body">你好！楼主，我学习的过程中发现——生成的视频文件不能够跳转，这个是什么原因呢？ 是不是在设置AVCodecContext遗漏了什么呢？ 我在阅读AVCodecContext的结构体中也没有找到相关的信息。 请多多指教</dd><dl class="comment_item comment_reply" id="comment_item_4208857"><dt class="comment_head" floor="6">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2014-08-24 23:18发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4208857" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复dingf350783240：你好啊，你说的不能跳转是什么现象？我试了一下，生成的视频是可以在播放器中拖动进度条观看的</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_4151777"><dt class="comment_head" floor="5">5楼 <span class="user"><a class="username" href="http://blog.csdn.net/Elven_lsy" target="_blank">Elven_lsy</a> <span class="ptime">2014-08-08 09:56发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4151777" username="Elven_lsy"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/Elven_lsy" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_elven_lsy.jpg" width="40" height="40"></a></dd><dd class="comment_body">请问楼主，怎么再将h264文件转为通用的avi、MP4文件呢？</dd><dl class="comment_item comment_reply" id="comment_item_4154811"><dt class="comment_head" floor="5">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2014-08-09 00:54发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4154811" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复Elven_lsy：封装一下就行了。貌似你用这个程序，也可以直接YUV-&gt;MP4/AVI</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_4097183"><dt class="comment_head" floor="4">4楼 <span class="user"><a class="username" href="http://blog.csdn.net/waitfor_" target="_blank">Benzema67</a> <span class="ptime">2014-07-29 14:57发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4097183" username="waitfor_"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/waitfor_" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_waitfor_.jpg" width="40" height="40"></a></dd><dd class="comment_body">那从h264流解码为一帧帧的YUV图像怎么做？</dd><dl class="comment_item comment_reply" id="comment_item_4100317"><dt class="comment_head" floor="4">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2014-07-30 01:11发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4100317" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复waitfor_：看这个：《100行代码实现最简单的基于FFMPEG+SDL的视频播放器》</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_4069041"><dt class="comment_head" floor="3">3楼 <span class="user"><a class="username" href="http://blog.csdn.net/dingf350783240" target="_blank">视频摘要</a> <span class="ptime">2014-07-21 13:38发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4069041" username="dingf350783240"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/dingf350783240" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_dingf350783240.jpg" width="40" height="40"></a></dd><dd class="comment_body">楼主好，请问为什么在编码完成之后还需要调用flush_encoder呢？ 不是很理解</dd><dl class="comment_item comment_reply" id="comment_item_4071035"><dt class="comment_head" floor="3">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2014-07-22 00:37发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4071035" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复dingf350783240：你好啊，可能有多方面原因，没细究。我的理解：<br>比如说在有IBP帧的情况下，输出的码流帧和输入的像素数据帧的顺序是不一样的，这样就涉及到了帧重排。这样编码器中就一直包含着几帧数据，最后自然要flush_encoder()</dd><dl class="comment_item comment_reply" id="comment_item_4072991"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/dingf350783240" target="_blank">视频摘要</a> <span class="ptime">2014-07-22 16:03发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4072991" username="dingf350783240"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/dingf350783240" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_dingf350783240.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复leixiaohua1020：谢谢！</dd></dl></dl></dl><dl class="comment_item comment_topic" id="comment_item_3949785"><dt class="comment_head" floor="2">2楼 <span class="user"><a class="username" href="http://blog.csdn.net/ygswine" target="_blank">ygswine</a> <span class="ptime">2014-06-12 10:41发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="3949785" username="ygswine"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/ygswine" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_ygswine.jpg" width="40" height="40"></a></dd><dd class="comment_body">. 立志从事音视频解码. 看了博主不少博文,  但是还处在一个迷茫期. 能否留下联系方式 , 希望能指点相关经验</dd><dl class="comment_item comment_reply" id="comment_item_3951595"><dt class="comment_head" floor="2">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2014-06-12 22:59发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="3951595" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复ygswine：嗯，ok~有空交流，QQ：494085803</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_3946487"><dt class="comment_head" floor="1">1楼 <span class="user"><a class="username" href="http://blog.csdn.net/second_lc" target="_blank">second_lc</a> <span class="ptime">2014-06-11 11:24发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="3946487" username="second_lc"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/second_lc" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_second_lc.jpg" width="40" height="40"></a></dd><dd class="comment_body">楼主好，楼主用 av_write_frame(pFormatCtx, &amp;pkt); 将pkt存到了.h264文件中，可是如何将存入文件中的那些内容存到char*buff中呢？希望楼主给予指点。</dd><dl class="comment_item comment_reply" id="comment_item_3951607"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/leixiaohua1020" target="_blank">雷霄骅</a> <span class="ptime">2014-06-12 23:06发表</span>  <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="3951607" username="leixiaohua1020"> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/leixiaohua1020" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/3_leixiaohua1020.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复second_lc：这个需要自己初始化AVIOContext。你可以参考《FFMPEG从内存中打开数据》中的方法，你这个正好是反过来的，是写入数据，方法是一样的。</dd></dl></dl><div class="clear"></div></div>
    <div id="comment_bar" style="display: none;">
    </div>
    <div id="comment_form"><div class="guest_link">您还没有登录,请<a href="javascript:void(0);" onclick="javascript:loginbox();">[登录]</a>或<a href="http://passport.csdn.net/account/register?from=http%3A%2F%2Fblog.csdn.net%2Fleixiaohua1020%2Farticle%2Fdetails%2F25430425">[注册]</a></div></div>
    <div class="announce">
        * 以上用户言论只代表其个人观点，不代表CSDN网站的观点或立场<a name="reply"></a><a name="quote"></a></div>
</div>

<script type="text/javascript">
    var fileName = '25430425';
    var commentscount = 128;
    var islock = false
</script>
<script type="text/javascript" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/comment.js"></script>
    <div id="ad_bot">
    </div>
<div id="report_dialog">
</div>

<div id="d-top" style="bottom:60px;">
        <a id="quick-reply" class="btn btn-top q-reply" title="快速回复" style="display:none;">
            <img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/blog-icon-reply.png" alt="快速回复">
        </a>    

    <a id="d-top-a" class="btn btn-top backtop" style="display: none;" title="返回顶部" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_huidaodingbu&#39;])">         
         <img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/top.png" alt="TOP">
    </a>
</div>
<script type="text/javascript">
    $(function ()
    {
        $("#ad_frm_0").height("90px");
        
        setTimeout(function(){
            $("#ad_frm_2").height("200px");
        },1000);    
    });
  
</script>
<style type="text/css">
    .tag_list
    {
        background: none repeat scroll 0 0 #FFFFFF;
        border: 1px solid #D7CBC1;
        color: #000000;
        font-size: 12px;
        line-height: 20px;
        list-style: none outside none;
        margin: 10px 2% 0 1%;
        padding: 1px;
    }
    .tag_list h5
    {
        background: none repeat scroll 0 0 #E0DBD3;
        color: #47381C;
        font-size: 12px;
        height: 24px;
        line-height: 24px;
        padding: 0 5px;
        margin: 0;
    }
    .tag_list h5 a
    {
        color: #47381C;
    }
    .classify
    {
        margin: 10px 0;
        padding: 4px 12px 8px;
    }
    .classify a
    {
        margin-right: 20px;
        white-space: nowrap;
    }
</style>


<div class="tag_list" style="">

    <h5>
        <a href="http://www.csdn.net/tag/" target="_blank">核心技术类目</a></h5>
    <div class="classify">
<a title="全部主题" href="http://www.csdn.net/tag" target="_blank" onclick="LogClickCount(this,336);">全部主题</a>
<a title="Hadoop" href="http://g.csdn.net/5272865" target="_blank" onclick="LogClickCount(this,336);">Hadoop</a>
<a title="AWS" href="http://g.csdn.net/5272866" target="_blank" onclick="LogClickCount(this,336);">AWS</a>
<a title="移动游戏" href="http://g.csdn.net/5272870" target="_blank" onclick="LogClickCount(this,336);">移动游戏</a>
<a title="Java" href="http://g.csdn.net/5272871" target="_blank" onclick="LogClickCount(this,336);">Java</a>
<a title="Android" href="http://g.csdn.net/5272872" target="_blank" onclick="LogClickCount(this,336);">Android</a>
<a title="iOS" href="http://g.csdn.net/5272873" target="_blank" onclick="LogClickCount(this,336);">iOS</a>
<a title="Swift" href="http://g.csdn.net/5272868" target="_blank" onclick="LogClickCount(this,336);">Swift</a>
<a title="智能硬件" href="http://g.csdn.net/5272869" target="_blank" onclick="LogClickCount(this,336);">智能硬件</a>
<a title="Docker" href="http://g.csdn.net/5272867" target="_blank" onclick="LogClickCount(this,336);">Docker</a>
<a title="OpenStack" href="http://g.csdn.net/5272925" target="_blank" onclick="LogClickCount(this,336);">OpenStack</a>
<a title="VPN" href="http://www.csdn.net/tag/vpn" target="_blank" onclick="LogClickCount(this,336);">VPN</a>
<a title="Spark" href="http://g.csdn.net/5272924" target="_blank" onclick="LogClickCount(this,336);">Spark</a>
<a title="ERP" href="http://www.csdn.net/tag/erp" target="_blank" onclick="LogClickCount(this,336);">ERP</a>
<a title="IE10" href="http://www.csdn.net/tag/ie10" target="_blank" onclick="LogClickCount(this,336);">IE10</a>
<a title="Eclipse" href="http://www.csdn.net/tag/eclipse" target="_blank" onclick="LogClickCount(this,336);">Eclipse</a>
<a title="CRM" href="http://www.csdn.net/tag/crm" target="_blank" onclick="LogClickCount(this,336);">CRM</a>
<a title="JavaScript" href="http://www.csdn.net/tag/javascript" target="_blank" onclick="LogClickCount(this,336);">JavaScript</a>
<a title="数据库" href="http://www.csdn.net/tag/%E6%95%B0%E6%8D%AE%E5%BA%93" target="_blank" onclick="LogClickCount(this,336);">数据库</a>
<a title="Ubuntu" href="http://www.csdn.net/tag/ubuntu" target="_blank" onclick="LogClickCount(this,336);">Ubuntu</a>
<a title="NFC" href="http://www.csdn.net/tag/nfc" target="_blank" onclick="LogClickCount(this,336);">NFC</a>
<a title="WAP" href="http://www.csdn.net/tag/wap" target="_blank" onclick="LogClickCount(this,336);">WAP</a>
<a title="jQuery" href="http://www.csdn.net/tag/jquery" target="_blank" onclick="LogClickCount(this,336);">jQuery</a>
<a title="BI" href="http://www.csdn.net/tag/bi" target="_blank" onclick="LogClickCount(this,336);">BI</a>
<a title="HTML5" href="http://www.csdn.net/tag/html5" target="_blank" onclick="LogClickCount(this,336);">HTML5</a>
<a title="Spring" href="http://www.csdn.net/tag/spring" target="_blank" onclick="LogClickCount(this,336);">Spring</a>
<a title="Apache" href="http://www.csdn.net/tag/apache" target="_blank" onclick="LogClickCount(this,336);">Apache</a>
<a title=".NET" href="http://www.csdn.net/tag/.net" target="_blank" onclick="LogClickCount(this,336);">.NET</a>
<a title="API" href="http://www.csdn.net/tag/api" target="_blank" onclick="LogClickCount(this,336);">API</a>
<a title="HTML" href="http://www.csdn.net/tag/html" target="_blank" onclick="LogClickCount(this,336);">HTML</a>
<a title="SDK" href="http://www.csdn.net/tag/sdk" target="_blank" onclick="LogClickCount(this,336);">SDK</a>
<a title="IIS" href="http://www.csdn.net/tag/iis" target="_blank" onclick="LogClickCount(this,336);">IIS</a>
<a title="Fedora" href="http://www.csdn.net/tag/fedora" target="_blank" onclick="LogClickCount(this,336);">Fedora</a>
<a title="XML" href="http://www.csdn.net/tag/xml" target="_blank" onclick="LogClickCount(this,336);">XML</a>
<a title="LBS" href="http://www.csdn.net/tag/lbs" target="_blank" onclick="LogClickCount(this,336);">LBS</a>
<a title="Unity" href="http://www.csdn.net/tag/unity" target="_blank" onclick="LogClickCount(this,336);">Unity</a>
<a title="Splashtop" href="http://www.csdn.net/tag/splashtop" target="_blank" onclick="LogClickCount(this,336);">Splashtop</a>
<a title="UML" href="http://www.csdn.net/tag/uml" target="_blank" onclick="LogClickCount(this,336);">UML</a>
<a title="components" href="http://www.csdn.net/tag/components" target="_blank" onclick="LogClickCount(this,336);">components</a>
<a title="Windows Mobile" href="http://www.csdn.net/tag/windowsmobile" target="_blank" onclick="LogClickCount(this,336);">Windows Mobile</a>
<a title="Rails" href="http://www.csdn.net/tag/rails" target="_blank" onclick="LogClickCount(this,336);">Rails</a>
<a title="QEMU" href="http://www.csdn.net/tag/qemu" target="_blank" onclick="LogClickCount(this,336);">QEMU</a>
<a title="KDE" href="http://www.csdn.net/tag/kde" target="_blank" onclick="LogClickCount(this,336);">KDE</a>
<a title="Cassandra" href="http://www.csdn.net/tag/cassandra" target="_blank" onclick="LogClickCount(this,336);">Cassandra</a>
<a title="CloudStack" href="http://www.csdn.net/tag/cloudstack" target="_blank" onclick="LogClickCount(this,336);">CloudStack</a>
<a title="FTC" href="http://www.csdn.net/tag/ftc" target="_blank" onclick="LogClickCount(this,336);">FTC</a>
<a title="coremail" href="http://www.csdn.net/tag/coremail" target="_blank" onclick="LogClickCount(this,336);">coremail</a>
<a title="OPhone " href="http://www.csdn.net/tag/ophone" target="_blank" onclick="LogClickCount(this,336);">OPhone </a>
<a title="CouchBase" href="http://www.csdn.net/tag/couchbase" target="_blank" onclick="LogClickCount(this,336);">CouchBase</a>
<a title="云计算" href="http://www.csdn.net/tag/%E4%BA%91%E8%AE%A1%E7%AE%97" target="_blank" onclick="LogClickCount(this,336);">云计算</a>
<a title="iOS6" href="http://www.csdn.net/tag/iOS6" target="_blank" onclick="LogClickCount(this,336);">iOS6</a>
<a title="Rackspace " href="http://www.csdn.net/tag/rackspace" target="_blank" onclick="LogClickCount(this,336);">Rackspace </a>
<a title="Web App" href="http://www.csdn.net/tag/webapp" target="_blank" onclick="LogClickCount(this,336);">Web App</a>
<a title="SpringSide" href="http://www.csdn.net/tag/springside" target="_blank" onclick="LogClickCount(this,336);">SpringSide</a>
<a title="Maemo" href="http://www.csdn.net/tag/maemo" target="_blank" onclick="LogClickCount(this,336);">Maemo</a>
<a title="Compuware" href="http://www.csdn.net/tag/compuware" target="_blank" onclick="LogClickCount(this,336);">Compuware</a>
<a title="大数据" href="http://www.csdn.net/tag/%E5%A4%A7%E6%95%B0%E6%8D%AE" target="_blank" onclick="LogClickCount(this,336);">大数据</a>
<a title="aptech" href="http://www.csdn.net/tag/aptech" target="_blank" onclick="LogClickCount(this,336);">aptech</a>
<a title="Perl" href="http://www.csdn.net/tag/perl" target="_blank" onclick="LogClickCount(this,336);">Perl</a>
<a title="Tornado" href="http://www.csdn.net/tag/tornado" target="_blank" onclick="LogClickCount(this,336);">Tornado</a>
<a title="Ruby" href="http://www.csdn.net/tag/ruby" target="_blank" onclick="LogClickCount(this,336);">Ruby</a>
<a title="Hibernate" href="http://www.csdn.net/hibernate" target="_blank" onclick="LogClickCount(this,336);">Hibernate</a>
<a title="ThinkPHP" href="http://www.csdn.net/tag/thinkphp" target="_blank" onclick="LogClickCount(this,336);">ThinkPHP</a>
<a title="HBase" href="http://www.csdn.net/tag/hbase" target="_blank" onclick="LogClickCount(this,336);">HBase</a>
<a title="Pure" href="http://www.csdn.net/tag/pure" target="_blank" onclick="LogClickCount(this,336);">Pure</a>
<a title="Solr" href="http://www.csdn.net/tag/solr" target="_blank" onclick="LogClickCount(this,336);">Solr</a>
<a title="Angular" href="http://www.csdn.net/tag/angular" target="_blank" onclick="LogClickCount(this,336);">Angular</a>
<a title="Cloud Foundry" href="http://www.csdn.net/tag/cloudfoundry" target="_blank" onclick="LogClickCount(this,336);">Cloud Foundry</a>
<a title="Redis" href="http://www.csdn.net/tag/redis" target="_blank" onclick="LogClickCount(this,336);">Redis</a>
<a title="Scala" href="http://www.csdn.net/tag/scala" target="_blank" onclick="LogClickCount(this,336);">Scala</a>
<a title="Django" href="http://www.csdn.net/tag/django" target="_blank" onclick="LogClickCount(this,336);">Django</a>
<a title="Bootstrap" href="http://www.csdn.net/tag/bootstrap" target="_blank" onclick="LogClickCount(this,336);">Bootstrap</a>
    </div>

</div>
  <script language="javascript" type="text/javascript">     
      $(function(){
              setTimeout(function(){
                  $.get("/leixiaohua1020/svc/GetTagContent",function(data){
                      $(".tag_list").html(data).show();
                  });     
              });
          },500);                       
 </script> 


<div id="pop_win" style="display:none ;position: absolute; z-index: 10000; border: 1px solid rgb(220, 220, 220); top: 222.5px; left: 630px; opacity: 1; background: none 0px 0px repeat scroll rgb(255, 255, 255);">
    
</div>
<div id="popup_mask"></div>
<style>
    #popup_mask
    {
        position: absolute;
        width: 100%;
        height: 100%;
        background: #000;
        z-index: 9999;
        left: 0px;
        top: 0px;
        opacity: 0.3;
        filter: alpha(opacity=30);
        display: none;
    }

</style>




<script type="text/javascript">
    $(function(){
        setTimeout(function(){
            $(".comment_body:contains('回复')").each(function(index,item){
                var u=$(this).text().split('：')[0].toString().replace("回复","")
                var thisComment=$(this);
                if(u)
                {
                    $.getJSON("https://passport.csdn.net/get/nick?callback=?", {users: u}, function(a) {
                        if(a!=null&&a.data!=null&&a.data.length>0)
                        {
                            nick=a.data[0].n; 
                            if(u!=nick)
                            {
                                thisComment.text(thisComment.text().replace(u,nick));  
                            }
                        }       
                    });  
                }
            });
        },200);  
        
        setTimeout(function(){
            $("a img[src='http://js.tongji.linezing.com/stats.gif']").parent().css({"position":"absolute","left":"50%"});
        },300);
    });

    function loginbox(){
        var $logpop=$("#pop_win");
        $logpop.html('<iframe src="https://passport.csdn.net/account/loginbox?service=http://static.blog.csdn.net/callback.htm" frameborder="0" height="600" width="400" scrolling="no"></iframe>');

        $('#popup_mask').css({
            opacity: 0.5,
            width: $( document ).width() + 'px',
            height:  $( document ).height() + 'px'
        });
        $('#popup_mask').css("display","block");
 
        $logpop.css( {
            top: ($( window ).height() - $logpop.height())/ 2  + $( window 
       ).scrollTop() + 'px',
            left:($( window ).width() - $logpop.width())/ 2
        } );
 
        setTimeout( function () {
            $logpop.show();
            $logpop.css( {
                opacity: 1
            } );
        }, 200 );
 
        $('#popup_mask').unbind("click");
        $('#popup_mask').bind("click", function(){
            $('#popup_mask').hide();
            var $clopop = $("#pop_win");
            $("#common_ask_div_sc").css("display","none");
            $clopop.css( {
                opacity: 0
            } );
            setTimeout( function () {
                $clopop.hide();
            }, 350 );
            return false;
        });
    }   

</script>


                        <div class="clear">
                        </div>
                    </div>                   
                
            </div>
                   
           <div id="side">
    <div class="side">
<div id="panel_Profile" class="panel">
<ul class="panel_head"><span>个人资料</span></ul>
<ul class="panel_body profile">
<div id="blog_userface">
    <a href="http://my.csdn.net/leixiaohua1020" target="_blank">
    <img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/1_leixiaohua1020.jpg" title="访问我的空间" style="max-width:90%">
    </a>
    <br>
    <span><a href="http://my.csdn.net/leixiaohua1020" class="user_name" target="_blank">雷霄骅</a></span>
</div>
<div class="interact">

    <a href="javascript:void(0);" class="attent" id="span_add_follow" title="[加关注]"></a>

 <a href="javascript:void(0);" class="letter" title="[发私信]" onclick="window.open(&#39;http://msg.csdn.net/letters/model?receiver=leixiaohua1020&#39;,&#39;_blank&#39;,&#39;height=350,width=700&#39;);_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_sixin&#39;])"></a>  
</div>
<div id="blog_medal">
                       <div class="ico_expert" onclick="javascript:location=&#39;http://blog.csdn.net/experts/rule.html&#39;" title="CSDN认证专家" style="cursor:pointer;width:60px;height:60px;background:url(&#39;http://c.csdnimg.cn/jifen/images/xunzhang/xunzhang/bokezhuanjiamiddle.png&#39;) no-repeat"></div>
                <div id="bms_box">
                                            <a target="_blank">
                                                    <img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/zhuanlandaren.png" onmouseover="m_over_m(this,2)" onmouseout="m_out_m()" alt="6">
                                            </a>
                                            <a target="_blank">
                                                    <img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/chizhiyiheng.png" onmouseover="m_over_m(this,4)" onmouseout="m_out_m()" alt="4">
                                            </a>
                                            <a target="_blank">
                                                    <img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/bokezhixing.png" onmouseover="m_over_m(this,6)" onmouseout="m_out_m()" alt="1">
                                            </a>
               </div>
</div>
<ul id="blog_rank">
    <li>访问：<span>3231100次</span></li>
    <li>积分：<span>37411</span> </li>    
    <li>等级： <span style="position:relative;display:inline-block;z-index:1">
            <img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/blog8.png" alt="" style="vertical-align: middle;" id="leveImg">
            <div id="smallTittle" style=" position: absolute;  left: -24px;  top: 25px;  text-align: center;  width: 101px;  height: 32px;  background-color: #fff;  line-height: 32px;  border: 2px #DDDDDD solid;  box-shadow: 0px 2px 2px rgba (0,0,0,0.1);  display: none;   z-index: 999;">
            <div style="left: 42%;  top: -8px;  position: absolute;  width: 0;  height: 0;  border-left: 10px solid transparent;  border-right: 10px solid transparent;  border-bottom: 8px solid #EAEAEA;"></div>
            积分：37411 </div>
        </span>  </li>
    <li>排名：<span>第60名</span></li>
</ul>
<ul id="blog_statistics">
    <li>原创：<span>375篇</span></li>
    <li>转载：<span>158篇</span></li>
    <li>译文：<span>28篇</span></li>
    <li>评论：<span>4384条</span></li>
</ul>
</ul>
</div>


<div class="panel" id="panel_Search">
    <ul class="panel_head"><span>文章搜索</span></ul>
    <ul class="panel_body">
        <form id="frmSearch" action="http://so.csdn.net/search" class="form_search" target="_blank">
        <span><input id="inputSearch" type="text" class="blogsearch" title="请输入关键字"></span>
        <input id="btnSubmit" type="button" value="搜索" title="search in blog">
        <input type="hidden" name="q" id="inputQ">
        <input type="hidden" name="t" value="blog">
        <a id="btnSearchBlog" target="_blank"></a>
        </form>
    </ul>
</div>

<script type="text/javascript">
    $(function () {
        $("#btnSubmit").click(function () {           
            search();
        });

        $("#frmSearch").submit(function () {
            search();
            return false;
        });

        function search()
        {
            var url = "http://so.csdn.net/so/search/s.do?q=" + encodeURIComponent($("#inputSearch").val()) + "&u=" + username + "&t=blog";
            window.location.href = url;
        }   
    });
</script>

<div id="custom_column_26787557" class="panel">
<ul class="panel_head"><span>关于我</span></ul>
<ul class="panel_body">
姓名：雷霄骅<br>
网名：leixiaohua1020<br>
本科：<br>
中国传媒大学-广播电视工程<br>
硕士：<br>
中国传媒大学-数字电视技术<br>
博士：<br>
中国传媒大学-数字视频技术<br>
Email：<br>
leixiaohua1020@126.com<br>
QQ：<br>
494085803<br>
<br>
[注1：QQ消息较多，难以一一回复，见谅]<br>
[注2：CSDN私信功能使用很少，有问题可以直接在博客评论处留言]<br>
<br>
奖项：<br>
<a href="http://vote.blog.csdn.net/Blogstar2014/List">2014年度 - CSDN博客之星</a><br>
<a href="https://mvp.microsoft.com/en-us/mvp/Xiaohua%20Lei-5001392">2015年度 - 微软MVP</a><br>
<a href="http://bss.csdn.net/m/topic/community_star/index">2015年度 - CSDN博客之星</a><br>
简介：<br>
主要从事与广播电视有关的视音频技术的研究。包括视音频质量评价，视音频编解码，流媒体，媒资检索等。
<br>
</ul>
</div>

<div id="custom_column_37808881" class="panel">
<ul class="panel_head"><span>我的开源项目列表</span></ul>
<ul class="panel_body">
【SourceForge】【主】<br>
<a href="https://sourceforge.net/u/leixiaohua1020/wiki/"> https://sourceforge.net/u/leixiaohua1020/wiki/</a><br>
【Github】<br>
<a href="http://leixiaohua1020.github.com/">http://leixiaohua1020.github.com/</a><br>
【开源中国】<br>
<a href="http://git.oschina.net/leixiaohua1020">http://git.oschina.net/leixiaohua1020</a><br>
</ul>
</div>

<div id="custom_column_27193969" class="panel">
<ul class="panel_head"><span>声明</span></ul>
<ul class="panel_body">

欢迎转载本博客原创或翻译文章，但请声明出处，谢谢！

</ul>
</div>

<div id="custom_column_36841289" class="panel">
<ul class="panel_head"><span>视音频技术交流QQ群</span></ul>
<ul class="panel_body">
本QQ群旨在为视音频技术同行方便交流提供一个平台。无论是实验室，电视台，互联网视频，安防，播放器，媒体中心等等都可以加入讨论。欢迎新手和大牛，多交流可以更快的进步~<br>

<br>
1号群【2000人】：256061378<br>
2号群【1000人】：152299562<br>
<br>
通知：<br>
1号群成员容量为2000人，目前已经接近上限，为了给新成员入群讨论的机会，会定期清理不发言的用户，希望大家理解，谢谢支持！
<br>
2号群为新创建的群，欢迎加入~
</ul>
</div><div id="panel_Category" class="panel">
    <ul class="panel_head"><span>博客专栏</span></ul>
    <ul class="panel_body" id="sp_column">
    <table cellpadding="0" cellspacing="0"><tbody><tr>
    <td style="padding:10px 10px 0 0;">
    <a href="http://blog.csdn.net/column/details/ffmpeg-devel.html" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/20151123175857395" style="width:75px;height:75px;"></a>
    </td>
    <td style="padding:10px 0; vertical-align:top;">
    <a href="http://blog.csdn.net/column/details/ffmpeg-devel.html" target="_blank">FFmpeg</a>
    <p>文章：135篇</p>
    <span>阅读：1439333</span>
    </td>
    </tr></tbody></table>
    <table cellpadding="0" cellspacing="0"><tbody><tr>
    <td style="padding:10px 10px 0 0;">
    <a href="http://blog.csdn.net/column/details/osmedia.html" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/20151123175559974" style="width:75px;height:75px;"></a>
    </td>
    <td style="padding:10px 0; vertical-align:top;">
    <a href="http://blog.csdn.net/column/details/osmedia.html" target="_blank">开源多媒体项目源代码分析</a>
    <p>文章：91篇</p>
    <span>阅读：475894</span>
    </td>
    </tr></tbody></table>
    <table cellpadding="0" cellspacing="0"><tbody><tr>
    <td style="padding:10px 10px 0 0;">
    <a href="http://blog.csdn.net/column/details/videoquality.html" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/20151123175555036" style="width:75px;height:75px;"></a>
    </td>
    <td style="padding:10px 0; vertical-align:top;">
    <a href="http://blog.csdn.net/column/details/videoquality.html" target="_blank">视频质量评价</a>
    <p>文章：41篇</p>
    <span>阅读：179883</span>
    </td>
    </tr></tbody></table>
    </ul>
</div><div id="panel_Category" class="panel">
<ul class="panel_head"><span>文章分类</span></ul>
<ul class="panel_body">    
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/1843731" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">我的开源项目</a><span>(67)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/1360795" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">FFMPEG</a><span>(138)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/1362935" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">MPEG7/图像检索</a><span>(23)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/2643601" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">LIRe</a><span>(11)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/1362936" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">Live555</a><span>(8)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/1362937" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">OpenCV</a><span>(9)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/1362938" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">开源多媒体系统</a><span>(16)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/1362940" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">J2EE</a><span>(26)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/1362941" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">libRTMP</a><span>(26)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/1446693" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">视频质量评价</a><span>(50)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/1611751" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">杂谈/非技术</a><span>(27)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/1638137" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">音频编码</a><span>(16)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/1638135" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">视频编码</a><span>(43)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/1684365" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">TinyJPEG</a><span>(2)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/1638191" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">ffdshow</a><span>(10)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/1645587" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">MediaInfo</a><span>(9)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/2283347" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">ImageMagik</a><span>(2)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/2286581" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">MPC-HC</a><span>(9)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/2286583" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">XBMC</a><span>(7)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/2286593" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">Mplayer</a><span>(3)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/1638143" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">IPTV</a><span>(8)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/1638177" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">OTT TV</a><span>(7)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/1645439" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">超高清/4K</a><span>(7)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/1645277" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">综合/IT与广电</a><span>(13)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/1645655" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">计算机网络</a><span>(26)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/1645657" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">DirectShow</a><span>(10)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/2628695" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">LAV Filter</a><span>(5)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/1646633" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">硬件</a><span>(4)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/1646741" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">3D</a><span>(5)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/1647545" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">纯编程</a><span>(46)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/1652801" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">开源项目</a><span>(15)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/1653525" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">Flash相关</a><span>(8)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/1678189" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">HTML和Javascript</a><span>(7)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/1670557" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">广播电视工程</a><span>(4)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/2899497" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">数字电视网络</a><span>(2)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/2619491" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">Direct3D</a><span>(3)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/2639829" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">OpenGL</a><span>(3)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/2639831" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">GDI</a><span>(2)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/2619495" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">DirectSound</a><span>(2)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/2619497" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">SDL</a><span>(12)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/2619507" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">VLC</a><span>(3)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/2619503" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">x264</a><span>(16)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/2619509" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">x265</a><span>(5)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/2789605" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">libvpx</a><span>(3)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/5680665" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">Android多媒体</a><span>(7)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/5680667" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">IOS多媒体</a><span>(5)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/5702023" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">WinPhone多媒体</a><span>(1)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/5974709" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">JM</a><span>(3)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/leixiaohua1020/article/category/5974711" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); ">HM</a><span>(3)</span>
                </li>
</ul>
</div><div id="hotarticls" class="panel">
<ul class="panel_head">
    <span>       
阅读排行    </span>
</ul>

<ul class="panel_body itemlist">
<li>
<a href="http://blog.csdn.net/leixiaohua1020/article/details/15811977" title="[总结]FFMPEG视音频编解码零基础学习方法">[总结]FFMPEG视音频编解码零基础学习方法</a><span>(111327)</span>
</li>
<li>
<a href="http://blog.csdn.net/leixiaohua1020/article/details/8652605" title="100行代码实现最简单的基于FFMPEG+SDL的视频播放器（SDL1.x）">100行代码实现最简单的基于FFMPEG+SDL的视频播放器（SDL1.x）</a><span>(58529)</span>
</li>
<li>
<a href="http://blog.csdn.net/leixiaohua1020/article/details/14214577" title="FFMPEG结构体分析：AVFrame">FFMPEG结构体分析：AVFrame</a><span>(35225)</span>
</li>
<li>
<a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425" title="最简单的基于FFMPEG的视频编码器（YUV编码为H.264）">最简单的基于FFMPEG的视频编码器（YUV编码为H.264）</a><span>(34014)</span>
</li>
<li>
<a href="http://blog.csdn.net/leixiaohua1020/article/details/14215391" title="FFMPEG 实现 YUV，RGB各种图像原始数据之间的转换（swscale）">FFMPEG 实现 YUV，RGB各种图像原始数据之间的转换（swscale）</a><span>(32960)</span>
</li>
<li>
<a href="http://blog.csdn.net/leixiaohua1020/article/details/39803457" title="最简单的基于FFmpeg的推流器（以推送RTMP为例）">最简单的基于FFmpeg的推流器（以推送RTMP为例）</a><span>(31226)</span>
</li>
<li>
<a href="http://blog.csdn.net/leixiaohua1020/article/details/43936415" title="最简单的基于Flash的流媒体示例：网页播放器（HTTP，RTMP，HLS）">最简单的基于Flash的流媒体示例：网页播放器（HTTP，RTMP，HLS）</a><span>(30886)</span>
</li>
<li>
<a href="http://blog.csdn.net/leixiaohua1020/article/details/18893769" title="[总结]视音频编解码技术零基础学习方法">[总结]视音频编解码技术零基础学习方法</a><span>(30737)</span>
</li>
<li>
<a href="http://blog.csdn.net/leixiaohua1020/article/details/38284961" title="FFmpeg获取DirectShow设备数据（摄像头，录屏）">FFmpeg获取DirectShow设备数据（摄像头，录屏）</a><span>(28448)</span>
</li>
<li>
<a href="http://blog.csdn.net/leixiaohua1020/article/details/10528443" title="最简单的基于FFMPEG+SDL的音频播放器">最简单的基于FFMPEG+SDL的音频播放器</a><span>(28194)</span>
</li>
</ul>
</div>
<div id="newcomments" class="panel">
<ul class="panel_head"><span>最新评论</span></ul>
<ul class="panel_body itemlist">
    <li>
   
         <a href="http://blog.csdn.net/leixiaohua1020/article/details/39802819#comments">最简单的基于FFmpeg的封装格式处理：视音频分离器（demuxer）</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/rainccrun" class="user_name">rainccrun</a>:
@hnrayer:C中要用(enum AVRounding)进行枚举强转
    </p>
    </li>
    <li>
   
         <a href="http://blog.csdn.net/leixiaohua1020/article/details/18893769#comments">[总结]视音频编解码技术零基础学习方法</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/lvp305703574" class="user_name">lvp305703574</a>:
@ruixiang6:你说的这个是不是播放的帧率啊。我也不懂，猜测而已。
    </p>
    </li>
    <li>
   
         <a href="http://blog.csdn.net/leixiaohua1020/article/details/15814587#comments">[总结]RTMP流媒体技术零基础学习方法</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/lvp305703574" class="user_name">lvp305703574</a>:
博主确实厉害，性格也好。情不自禁地想说一句，人才啊！！！估计以后会经常来看看博主了，文章确实能让人学...
    </p>
    </li>
    <li>
   
         <a href="http://blog.csdn.net/leixiaohua1020/article/details/45644367#comments">x264源代码简单分析：编码器主干部分-1</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/wonsea110" class="user_name">wonsea110</a>:
好牛啊，并且很详细，很易懂；
    </p>
    </li>
    <li>
   
         <a href="http://blog.csdn.net/leixiaohua1020/article/details/42363593#comments">最简单的基于libVLC的例子：最简单的基于libVLC的视频播放器（图形界面版）</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/u013704336" class="user_name">流浪的鹅卵石</a>:
@lemonertong:好的，多谢了，已经解决这个问题了！
    </p>
    </li>
    <li>
   
         <a href="http://blog.csdn.net/leixiaohua1020/article/details/10528443#comments">最简单的基于FFMPEG+SDL的音频播放器</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/Explorer_day" class="user_name">一世豁然</a>:
@zynq123:还没有解决呀！我也搞不清楚原因。
    </p>
    </li>
    <li>
   
         <a href="http://blog.csdn.net/leixiaohua1020/article/details/10528443#comments">最简单的基于libVLC的例子：最简单的基于libVLC的视频播放器（图形界面版）</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/lemonertong" class="user_name">lemonertong</a>:
@u013704336:if(libvlc_media_player_get_state(libvl...
    </p>
    </li>
    <li>
   
         <a href="http://blog.csdn.net/leixiaohua1020/article/details/10528443#comments">最简单的基于libVLC的例子：最简单的基于libVLC的视频播放器（图形界面版）</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/lemonertong" class="user_name">lemonertong</a>:
您好，楼主，在学习VLC的时候遇到一个问题，播放本地视频的时候利用libvlc_media_play...
    </p>
    </li>
    <li>
   
         <a href="http://blog.csdn.net/leixiaohua1020/article/details/12019555#comments">开源安卓播放器：Dolphin Player 简单分析</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/hm_1014" class="user_name">hm_1014</a>:
你好，能不能发一份源码给我，翻不了墙，410683850@qq.com，十分感谢。
    </p>
    </li>
    <li>
   
         <a href="http://blog.csdn.net/leixiaohua1020/article/details/50534150#comments">视音频数据处理入门：RGB、YUV像素数据处理</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/friendsheart" class="user_name">friendsheart</a>:
写得太好了，谢谢楼主！学习学习问一下 【10】将RGB24格式像素数据转换为YUV420P格式像素数...
    </p>
    </li>
</ul>
</div>
    </div>
    <div class="clear">
    </div>
 </div>   
            <div class="clear">
            </div>
        </div>
        

<script type="text/javascript" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/cnick.js"></script>
<script type="text/javascript" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/newblog.min.js"></script>


<script type="text/javascript" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/showblogmedal.ashx"></script>
<script type="text/javascript" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/JavaScript1.js"></script><link rel="stylesheet" type="text/css" href="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/pub_footer_2014.css"><div class="pub_fo"><div id="pub_footerall" class="pub_footer_new"><dl><dt></dt> <dd class="foot_sub_menu"><a href="http://www.csdn.net/company/about.html" target="_blank">公司简介</a><span>|</span><a href="http://www.csdn.net/company/recruit.html" target="_blank">招贤纳士</a><span>|</span><a href="http://www.csdn.net/company/marketing.html" target="_blank">广告服务</a><span>|</span><a href="http://www.csdn.net/company/account.html" target="_blank">银行汇款帐号</a><span>|</span><a href="http://www.csdn.net/company/contact.html" target="_blank">联系方式</a><span>|</span><a href="http://www.csdn.net/company/statement.html" target="_blank">版权声明</a><span>|</span><a href="http://www.csdn.net/company/layer.html" target="_blank">法律顾问</a><span>|</span><a href="mailto:webmaster@csdn.net">问题报告</a><span>|</span><a target="_blank" href="http://www.csdn.net/friendlink.html">合作伙伴</a><span>|</span><a href="http://bbs.csdn.net/forums/Service" target="_blank">论坛反馈</a></dd><dd class="foot_contact"><a href="http://wpa.qq.com/msgrd?v=3&amp;uin=2355263776&amp;site=qq&amp;menu=yes" target="_blank" class="qq">网站客服</a><a href="http://wpa.qq.com/msgrd?v=3&amp;uin=2251809102&amp;site=qq&amp;menu=yes" target="_blank" class="qq">杂志客服</a><a href="http://e.weibo.com/csdnsupport/profile" target="_blank" class="weibo">微博客服</a><a href="mailto:webmaster@csdn.net" class="email" title="联系邮箱">webmaster@csdn.net</a><span class="phone" title="服务热线">400-600-2320</span><span class="interval">|</span><span>北京创新乐知信息技术有限公司 版权所有</span><span class="interval">|</span><span>江苏乐知网络技术有限公司 提供商务支持</span></dd><dd class="foot_copyright"><span>京&nbsp;ICP&nbsp;证&nbsp;09002463&nbsp;号</span><span class="interval">|</span><span>Copyright © 1999-2014, CSDN.NET, All Rights Reserved&nbsp;</span><a href="http://www.hd315.gov.cn/beian/view.asp?bianhao=010202001032100010" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/gongshang_logos.gif" alt="GongshangLogo" title=""></a></dd></dl></div></div><div id="note1" class="csdn_note" style="display:none; position:absolute; z-index:9999; width:440px">  <span class="notice_top_arrow"><span class="inner"></span></span>  <div class="box"></div></div><div class="csdn_notice_tip" style="display:none; position:absolute; z-index:9990; width:170px">  <iframe src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/saved_resource(1).html" frameborder="0" scrolling="no" style="z-index:-1;position:absolute;top:0;left:0;width:100%;height:100%;background:transparent"></iframe>  <div class="tip_text">您有<strong>0</strong>条新通知</div>  <a href="javascript:void 0" class="close2"></a></div><script id="noticeScript" type="text/javascript" btnid="header_notice_num" wrapid="note1" count="5" subcount="5" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/notify.js"></script>

    <script type="text/javascript" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/login.js"></script>
    <script type="text/javascript" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/tongji.js"></script><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/tongji.do" border="0" width="1" height="1"><a href="http://tongji.linezing.com/report.html?unit_id=3488500" target="_blank"><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/icon1.gif" border="0" alt="量子统计"></a>
<script type="text/javascript">document.write("<img src=http://counter.csdn.net/pv.aspx?id=24 border=0 width=0 height=0>");</script><img src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/pv.aspx" border="0" width="0" height="0">
<script type="text/javascript" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/counter.js"></script><script type="text/javascript" charset="UTF-8" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/msg.popup.js"></script>
<script type="text/javascript" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/ad-blog.js"></script>
<script type="text/javascript">
    $(function () {
        function __get_code_toolbar(snippet_id) {
            return $("<span class='tracking-ad' data-mod='popu_167'><a href='https://code.csdn.net/snippets/"
                    + snippet_id
                    + "' target='_blank' title='在CODE上查看代码片'  style='text-indent:0;'><img src='https://code.csdn.net/assets/CODE_ico.png' width=12 height=12 alt='在CODE上查看代码片' style='position:relative;top:1px;left:2px;'/></a></span>"
                    + "<span class='tracking-ad' data-mod='popu_170'><a href='https://code.csdn.net/snippets/"
                    + snippet_id
                    + "/fork' target='_blank' title='派生到我的代码片' style='text-indent:0;'><img src='https://code.csdn.net/assets/ico_fork.svg' width=12 height=12 alt='派生到我的代码片' style='position:relative;top:2px;left:2px;'/></a></span>");
        }
        
        $("[code_snippet_id]").each(function () {
            __s_id = $(this).attr("code_snippet_id");
            if (__s_id != null && __s_id != "" && __s_id != 0 && parseInt(__s_id) > 70020) {
                __code_tool = __get_code_toolbar(__s_id);
                $(this).prev().find(".tools").append(__code_tool);
            }
        });

        $(".bar").show();
    });
</script>




    </div><input type="hidden" id="aa_g_data_ids">
      <!--new top-->
    
    <script id="csdn-toolbar-id" btnid="header_notice_num" wrapid="note1" count="5" subcount="5" type="text/javascript" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/toolbar.js"></script>
     <!--new top-->
   
    <link href="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/ask_float_block.css" type="text/css" rel="stylesheet">
    <script language="JavaScript" type="text/javascript" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/wmd.js"></script>
    <script language="JavaScript" type="text/javascript" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/showdown.js"></script>
    <script language="JavaScript" type="text/javascript" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/prettify.js"></script>
    <script language="JavaScript" type="text/javascript" src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/ask_float_block.js"></script>
   

   
 <div id="tag-suggest-pop">
  <div class="relative">
    <div class="close"></div>
    <div class="content"></div>
  </div>
</div><link rel="stylesheet" type="text/css" media="screen" href="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/ask_float_fonts_css-6b30a53970eb5c3a2a045e3df585b475.css"><div data-mod="popu_64" class="tracking-ad" chg-blk="0"><a id="com-quick-reply" title="快速回复" style="top:371px"></a><a id="com-d-top-a" style="top: 409px; display: block;" title="返回顶部" onclick=""></a> </div><div class="pop_edit ask_second comm_ask_second"><h3>提问</h3><span class="ask_float_span">您的问题将会被发布在“<a class="ask_float_channel" href="http://ask.csdn.net/" target="_blank" style="cursor:pointer">技术问答</a>”频道</span><a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" nodetype="close" class="close">×</a><div class="context"><div class="err_div"><span class="err_ico"></span><span class="err_txt">该问题已存在，请勿重复提问</span></div><div class="input_div"><input id="askInputSecond" type="text" style="font-size:14px;" placeholder="问题标题"></div><div class="cm_box"><div class="cm_dialog"></div> <div class="pop_cm cm_add_link"><input type="text" placeholder="链接内容" id="af_cm_link_txt"><input type="text" placeholder="链接地址" id="af_cm_link_url"><input type="text" placeholder="链接提示" id="af_cm_link_tit"><div class="text-right"><span class="btn btn-default btn-sm" id="add_link_btn">插入链接</span> </div> </div><div class="pop_cm cm_add_img"><div class="nav-tabs"><a class="img_tab active" href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#tab_upload">本地上传</a><a class="img_tab" href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#tab_weburl">网络图片</a></div><div class="tab_panel active" id="tab_upload"><div class="set_img"><iframe src="./最简单的基于FFMPEG的视频编码器（YUV编码为H.264） - 雷霄骅(leixiaohua1020)的专栏 - 博客频道 - CSDN.NET_files/upload.html"></iframe></div></div><div class="tab_panel" id="tab_weburl"><input type="text" placeholder="图片地址" id="af_cm_img_url"><input type="text" placeholder="图片说明" id="af_cm_img_alt"><div class="text-right"><span class="btn btn-default btn-sm" id="add_img_btn">插入图片</span> </div></div> </div></div> <textarea id="editor_all" rows="8" style="display: none;"></textarea><div class="editor-toolbar"><i class="separator">|</i><a class="icon-headline" title="标题一（Ctrl+Alt+1）"></a><a class="icon-heading" title="标题二（Ctrl+Alt+2）"></a><a class="icon-bold" title="粗体（Ctrl+B）"></a><a class="icon-italic" title="斜体（Ctrl+I）"></a><i class="separator">|</i><a class="icon-quote-left" title="引用（Ctrl+’）"></a><a class="icon-code" title="插入代码片（Ctrl+,）"></a><a class="icon-list-ul" title="无序列表（Ctrl+L）"></a><a class="icon-list-ol" title="有序列表（Ctrl+Alt+L）"></a><i class="separator">|</i><a class="icon-link" title="添加链接（Ctrl+K）"></a><a class="icon-picture" title="添加图片（Ctrl+Alt+I）"></a><i class="separator">|</i><a class="icon-reply" title="撤退（Ctrl+Z）"></a><a class="icon-share-alt" title="前进（Ctrl+Shift+Z）"></a><i class="separator">|</i><a class="icon-info" href="http://ask.csdn.net/pages/markdown" target="_blank" title="markdown语法参考"></a><a class="icon-preview" title="预览"></a><i class="separator">|</i></div><div class="CodeMirror cm-s-paper CodeMirror-focused"><div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none; font-size: 4px;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar"><div style="height: 1px;"></div></div><div class="CodeMirror-vscrollbar"><div style="width: 1px;"></div></div><div class="CodeMirror-scrollbar-filler"></div><div class="CodeMirror-gutter-filler"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="min-width: 33px;"><div style="position: relative;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre>&nbsp;<span style="display: inline-block; width: 1px; margin-right: -1px;">&nbsp;</span></pre></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code"></div><div class="CodeMirror-cursor">&nbsp;</div><div class="CodeMirror-cursor CodeMirror-secondarycursor">&nbsp;</div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px;"></div><div class="CodeMirror-gutters" style="display: none;"></div></div></div><div class="editor-statusbar"><span class="lines">0</span><span class="words">0</span><span class="cursor">0:0</span></div><div class="div_tags clearfix"><div id="divSearchTags" class="tags_con"><input type="text"></div><input type="hidden" name="txtSearchTags"></div><div id="ask2_tagRecomm_div" class="drt_tagRecomm tracking-ad" data-mod="popu_73"><span class="drt_tit">推荐标签：</span></div></div><div class="success"><div class="left_area"><input id="chk_cb" type="checkbox"><span class="wyxs">我要悬赏</span><input id="cb_num" class="cb_num" readonly="true"><span class="phib_rii"><span> 币</span></span></div><a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" nodetype="cancel" class="cancel">取消</a><a href="http://blog.csdn.net/leixiaohua1020/article/details/25430425#" nodetype="ok" class="ok">发布</a></div></div><div id="common_ask_div_sc" class="searchContainer"><div class="sTitle">可能存在类似的问题：</div><div class="sFooter"><a class="sFirstNewAsk">我想提一个新问题</a></div></div></body></html>